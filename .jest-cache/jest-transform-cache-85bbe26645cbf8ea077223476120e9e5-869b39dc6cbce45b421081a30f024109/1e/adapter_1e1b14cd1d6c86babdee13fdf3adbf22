497a1ed11805dee8bedc9de103b85606
/**
 * Unified Service Container Adapter
 * Single, focused adapter for React integration
 */ "use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get ServiceProvider () {
        return ServiceProvider;
    },
    get getPlatformService () {
        return getPlatformService;
    },
    get resetPlatformService () {
        return resetPlatformService;
    },
    get useLocalStorage () {
        return useLocalStorage;
    },
    get usePlatformDevice () {
        return usePlatformDevice;
    },
    get usePlatformNotifications () {
        return usePlatformNotifications;
    },
    get usePlatformStorage () {
        return usePlatformStorage;
    },
    get useService () {
        return useService;
    },
    get useServiceContainer () {
        return useServiceContainer;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _index = require("./index");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
/**
 * Context for ServiceContainer
 */ const ServiceContainerContext = /*#__PURE__*/ (0, _react.createContext)(undefined);
const ServiceProvider = ({ children, container })=>{
    const serviceContainer = (0, _react.useMemo)(()=>{
        return container || _index.ServiceContainer.createProductionContainer();
    }, [
        container
    ]);
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(ServiceContainerContext.Provider, {
        value: serviceContainer,
        children: children
    });
};
const useServiceContainer = ()=>{
    const container = (0, _react.useContext)(ServiceContainerContext);
    if (!container) {
        throw new Error("useServiceContainer must be used within ServiceProvider");
    }
    return container;
};
const useService = (key)=>{
    const container = useServiceContainer();
    return container.resolve(key);
};
const usePlatformStorage = ()=>useService("platform.storage");
const usePlatformDevice = ()=>useService("platform.device");
const usePlatformNotifications = ()=>useService("platform.notifications");
const useLocalStorage = ()=>{
    const container = useServiceContainer();
    return container.resolveCustom("browser.localStorage");
};
/**
 * Factory function for backward compatibility
 * Replaces the original getPlatformService()
 */ let globalContainer = null;
function getPlatformService() {
    if (!globalContainer) {
        globalContainer = _index.ServiceContainer.createProductionContainer();
    }
    // Return platform service object - will be properly typed when services are registered
    return globalContainer.resolveCustom("platform.service");
}
function resetPlatformService() {
    globalContainer = null;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RoZWh1L2Nvb2xQcm9qZWN0cy9FbmRnYW1lVHJhaW5lci10cmFpbmluZy1ib2FyZC1jb21wbGV0ZS9zcmMvc2hhcmVkL3NlcnZpY2VzL2NvbnRhaW5lci9hZGFwdGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFVuaWZpZWQgU2VydmljZSBDb250YWluZXIgQWRhcHRlclxuICogU2luZ2xlLCBmb2N1c2VkIGFkYXB0ZXIgZm9yIFJlYWN0IGludGVncmF0aW9uXG4gKi9cblxuXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VNZW1vLCBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNlcnZpY2VDb250YWluZXIsIElTZXJ2aWNlQ29udGFpbmVyLCBTZXJ2aWNlUmVnaXN0cnkgfSBmcm9tIFwiLi9pbmRleFwiO1xuXG4vKipcbiAqIENvbnRleHQgZm9yIFNlcnZpY2VDb250YWluZXJcbiAqL1xuY29uc3QgU2VydmljZUNvbnRhaW5lckNvbnRleHQgPSBjcmVhdGVDb250ZXh0PElTZXJ2aWNlQ29udGFpbmVyIHwgdW5kZWZpbmVkPihcbiAgdW5kZWZpbmVkLFxuKTtcblxuLyoqXG4gKiBQcm92aWRlciBwcm9wc1xuICovXG5pbnRlcmZhY2UgU2VydmljZVByb3ZpZGVyUHJvcHMge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlO1xuICAvKipcbiAgICogQ29udGFpbmVyIGluc3RhbmNlIChpZiBub3QgcHJvdmlkZWQsIGNyZWF0ZXMgcHJvZHVjdGlvbiBjb250YWluZXIpXG4gICAqL1xuICBjb250YWluZXI/OiBJU2VydmljZUNvbnRhaW5lcjtcbn1cblxuLyoqXG4gKiBTZXJ2aWNlIFByb3ZpZGVyIC0gU2luZ2xlIHBvaW50IG9mIGludGVncmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBTZXJ2aWNlUHJvdmlkZXI6IFJlYWN0LkZDPFNlcnZpY2VQcm92aWRlclByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICBjb250YWluZXIsXG59KSA9PiB7XG4gIGNvbnN0IHNlcnZpY2VDb250YWluZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gY29udGFpbmVyIHx8IFNlcnZpY2VDb250YWluZXIuY3JlYXRlUHJvZHVjdGlvbkNvbnRhaW5lcigpO1xuICB9LCBbY29udGFpbmVyXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8U2VydmljZUNvbnRhaW5lckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3NlcnZpY2VDb250YWluZXJ9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvU2VydmljZUNvbnRhaW5lckNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuXG4vKipcbiAqIEhvb2sgdG8gZ2V0IHRoZSBjb250YWluZXJcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVNlcnZpY2VDb250YWluZXIgPSAoKTogSVNlcnZpY2VDb250YWluZXIgPT4ge1xuICBjb25zdCBjb250YWluZXIgPSB1c2VDb250ZXh0KFNlcnZpY2VDb250YWluZXJDb250ZXh0KTtcbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VTZXJ2aWNlQ29udGFpbmVyIG11c3QgYmUgdXNlZCB3aXRoaW4gU2VydmljZVByb3ZpZGVyXCIpO1xuICB9XG4gIHJldHVybiBjb250YWluZXI7XG59O1xuXG4vKipcbiAqIEhvb2sgdG8gZ2V0IGEgc3BlY2lmaWMgc2VydmljZVxuICovXG5leHBvcnQgY29uc3QgdXNlU2VydmljZSA9IDxLIGV4dGVuZHMga2V5b2YgU2VydmljZVJlZ2lzdHJ5PihcbiAga2V5OiBLLFxuKTogU2VydmljZVJlZ2lzdHJ5W0tdID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gdXNlU2VydmljZUNvbnRhaW5lcigpO1xuICByZXR1cm4gY29udGFpbmVyLnJlc29sdmUoa2V5KTtcbn07XG5cbi8qKlxuICogSG9vayBzaG9ydGN1dHMgZm9yIGNvbW1vbiBzZXJ2aWNlc1xuICovXG5leHBvcnQgY29uc3QgdXNlUGxhdGZvcm1TdG9yYWdlID0gKCkgPT4gdXNlU2VydmljZShcInBsYXRmb3JtLnN0b3JhZ2VcIik7XG5leHBvcnQgY29uc3QgdXNlUGxhdGZvcm1EZXZpY2UgPSAoKSA9PiB1c2VTZXJ2aWNlKFwicGxhdGZvcm0uZGV2aWNlXCIpO1xuZXhwb3J0IGNvbnN0IHVzZVBsYXRmb3JtTm90aWZpY2F0aW9ucyA9ICgpID0+XG4gIHVzZVNlcnZpY2UoXCJwbGF0Zm9ybS5ub3RpZmljYXRpb25zXCIpO1xuXG4vKipcbiAqIEhvb2sgZm9yIGxvY2FsU3RvcmFnZSAodGhlIG1haW4gSmVzdCAzMCBmaXgpXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VMb2NhbFN0b3JhZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IHVzZVNlcnZpY2VDb250YWluZXIoKTtcbiAgcmV0dXJuIGNvbnRhaW5lci5yZXNvbHZlQ3VzdG9tPFN0b3JhZ2U+KFwiYnJvd3Nlci5sb2NhbFN0b3JhZ2VcIik7XG59O1xuXG4vKipcbiAqIEZhY3RvcnkgZnVuY3Rpb24gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAqIFJlcGxhY2VzIHRoZSBvcmlnaW5hbCBnZXRQbGF0Zm9ybVNlcnZpY2UoKVxuICovXG5sZXQgZ2xvYmFsQ29udGFpbmVyOiBJU2VydmljZUNvbnRhaW5lciB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGxhdGZvcm1TZXJ2aWNlKCkge1xuICBpZiAoIWdsb2JhbENvbnRhaW5lcikge1xuICAgIGdsb2JhbENvbnRhaW5lciA9IFNlcnZpY2VDb250YWluZXIuY3JlYXRlUHJvZHVjdGlvbkNvbnRhaW5lcigpO1xuICB9XG5cbiAgLy8gUmV0dXJuIHBsYXRmb3JtIHNlcnZpY2Ugb2JqZWN0IC0gd2lsbCBiZSBwcm9wZXJseSB0eXBlZCB3aGVuIHNlcnZpY2VzIGFyZSByZWdpc3RlcmVkXG4gIHJldHVybiBnbG9iYWxDb250YWluZXIucmVzb2x2ZUN1c3RvbShcInBsYXRmb3JtLnNlcnZpY2VcIik7XG59XG5cbi8qKlxuICogUmVzZXQgZ2xvYmFsIGNvbnRhaW5lciAoZm9yIHRlc3RpbmcpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldFBsYXRmb3JtU2VydmljZSgpOiB2b2lkIHtcbiAgZ2xvYmFsQ29udGFpbmVyID0gbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJTZXJ2aWNlUHJvdmlkZXIiLCJnZXRQbGF0Zm9ybVNlcnZpY2UiLCJyZXNldFBsYXRmb3JtU2VydmljZSIsInVzZUxvY2FsU3RvcmFnZSIsInVzZVBsYXRmb3JtRGV2aWNlIiwidXNlUGxhdGZvcm1Ob3RpZmljYXRpb25zIiwidXNlUGxhdGZvcm1TdG9yYWdlIiwidXNlU2VydmljZSIsInVzZVNlcnZpY2VDb250YWluZXIiLCJTZXJ2aWNlQ29udGFpbmVyQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJ1bmRlZmluZWQiLCJjaGlsZHJlbiIsImNvbnRhaW5lciIsInNlcnZpY2VDb250YWluZXIiLCJ1c2VNZW1vIiwiU2VydmljZUNvbnRhaW5lciIsImNyZWF0ZVByb2R1Y3Rpb25Db250YWluZXIiLCJQcm92aWRlciIsInZhbHVlIiwidXNlQ29udGV4dCIsIkVycm9yIiwia2V5IiwicmVzb2x2ZSIsInJlc29sdmVDdXN0b20iLCJnbG9iYWxDb250YWluZXIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQyxHQUVEOzs7Ozs7Ozs7Ozs7UUEwQmFBO2VBQUFBOztRQTBER0M7ZUFBQUE7O1FBWUFDO2VBQUFBOztRQXZCSEM7ZUFBQUE7O1FBUEFDO2VBQUFBOztRQUNBQztlQUFBQTs7UUFGQUM7ZUFBQUE7O1FBVkFDO2VBQUFBOztRQVhBQztlQUFBQTs7OzsrREExQ3dEO3VCQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFckU7O0NBRUMsR0FDRCxNQUFNQyx3Q0FBMEJDLElBQUFBLG9CQUFhLEVBQzNDQztBQWlCSyxNQUFNWCxrQkFBa0QsQ0FBQyxFQUM5RFksUUFBUSxFQUNSQyxTQUFTLEVBQ1Y7SUFDQyxNQUFNQyxtQkFBbUJDLElBQUFBLGNBQU8sRUFBQztRQUMvQixPQUFPRixhQUFhRyx1QkFBZ0IsQ0FBQ0MseUJBQXlCO0lBQ2hFLEdBQUc7UUFBQ0o7S0FBVTtJQUVkLHFCQUNFLHFCQUFDSix3QkFBd0JTLFFBQVE7UUFBQ0MsT0FBT0w7a0JBQ3RDRjs7QUFHUDtBQUtPLE1BQU1KLHNCQUFzQjtJQUNqQyxNQUFNSyxZQUFZTyxJQUFBQSxpQkFBVSxFQUFDWDtJQUM3QixJQUFJLENBQUNJLFdBQVc7UUFDZCxNQUFNLElBQUlRLE1BQU07SUFDbEI7SUFDQSxPQUFPUjtBQUNUO0FBS08sTUFBTU4sYUFBYSxDQUN4QmU7SUFFQSxNQUFNVCxZQUFZTDtJQUNsQixPQUFPSyxVQUFVVSxPQUFPLENBQUNEO0FBQzNCO0FBS08sTUFBTWhCLHFCQUFxQixJQUFNQyxXQUFXO0FBQzVDLE1BQU1ILG9CQUFvQixJQUFNRyxXQUFXO0FBQzNDLE1BQU1GLDJCQUEyQixJQUN0Q0UsV0FBVztBQUtOLE1BQU1KLGtCQUFrQjtJQUM3QixNQUFNVSxZQUFZTDtJQUNsQixPQUFPSyxVQUFVVyxhQUFhLENBQVU7QUFDMUM7QUFFQTs7O0NBR0MsR0FDRCxJQUFJQyxrQkFBNEM7QUFFekMsU0FBU3hCO0lBQ2QsSUFBSSxDQUFDd0IsaUJBQWlCO1FBQ3BCQSxrQkFBa0JULHVCQUFnQixDQUFDQyx5QkFBeUI7SUFDOUQ7SUFFQSx1RkFBdUY7SUFDdkYsT0FBT1EsZ0JBQWdCRCxhQUFhLENBQUM7QUFDdkM7QUFLTyxTQUFTdEI7SUFDZHVCLGtCQUFrQjtBQUNwQiJ9