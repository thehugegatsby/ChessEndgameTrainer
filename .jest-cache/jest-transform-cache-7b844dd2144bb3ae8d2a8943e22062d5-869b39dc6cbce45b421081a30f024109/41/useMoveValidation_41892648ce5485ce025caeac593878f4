8389de845fde062f276d52f0830763de
/**
 * @file Move validation and evaluation processing hook
 * @module hooks/useMoveValidation
 * 
 * @description
 * Custom hook that encapsulates evaluation processing and analysis status
 * management for chess training. Extracted from TrainingBoard to separate
 * evaluation concerns from UI rendering.
 * 
 * @remarks
 * Key responsibilities:
 * - Evaluation deduplication using processedEvaluationsRef
 * - Analysis status synchronization with tablebase store
 * - Safe handling of tablebase actions availability
 * - Evaluation update coordination
 * 
 * This hook maintains evaluation processing logic while providing
 * a clean interface for move validation and analysis management.
 * 
 * @example
 * ```tsx
 * const moveValidation = useMoveValidation({
 *   lastEvaluation,
 *   currentFen,
 *   evaluations,
 *   isEvaluating,
 *   tablebaseState,
 *   tablebaseActions
 * });
 * 
 * // Hook handles evaluation processing and status updates internally
 * ```
 */"use strict";

/* istanbul ignore next */
function cov_17tbhtfzk3() {
  var path = "/home/thehu/coolProjects/EndgameTrainer-training-board-complete/src/shared/hooks/useMoveValidation.ts";
  var hash = "92ff18227801314962bf1cf54bfb94bdec8514bb";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/thehu/coolProjects/EndgameTrainer-training-board-complete/src/shared/hooks/useMoveValidation.ts",
    statementMap: {
      "0": {
        start: {
          line: 34,
          column: 0
        },
        end: {
          line: 36,
          column: 3
        }
      },
      "1": {
        start: {
          line: 37,
          column: 0
        },
        end: {
          line: 42,
          column: 3
        }
      },
      "2": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 33
        }
      },
      "3": {
        start: {
          line: 43,
          column: 15
        },
        end: {
          line: 43,
          column: 31
        }
      },
      "4": {
        start: {
          line: 44,
          column: 26
        },
        end: {
          line: 105,
          column: 1
        }
      },
      "5": {
        start: {
          line: 46,
          column: 36
        },
        end: {
          line: 46,
          column: 65
        }
      },
      "6": {
        start: {
          line: 47,
          column: 48
        },
        end: {
          line: 47,
          column: 71
        }
      },
      "7": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 75,
          column: 7
        }
      },
      "8": {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 50,
          column: 36
        }
      },
      "9": {
        start: {
          line: 50,
          column: 29
        },
        end: {
          line: 50,
          column: 36
        }
      },
      "10": {
        start: {
          line: 53,
          column: 24
        },
        end: {
          line: 53,
          column: 220
        }
      },
      "11": {
        start: {
          line: 54,
          column: 8
        },
        end: {
          line: 56,
          column: 9
        }
      },
      "12": {
        start: {
          line: 55,
          column: 12
        },
        end: {
          line: 55,
          column: 19
        }
      },
      "13": {
        start: {
          line: 57,
          column: 8
        },
        end: {
          line: 57,
          column: 53
        }
      },
      "14": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 64
        }
      },
      "15": {
        start: {
          line: 59,
          column: 35
        },
        end: {
          line: 59,
          column: 52
        }
      },
      "16": {
        start: {
          line: 60,
          column: 35
        },
        end: {
          line: 63,
          column: 9
        }
      },
      "17": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 69,
          column: 9
        }
      },
      "18": {
        start: {
          line: 66,
          column: 12
        },
        end: {
          line: 66,
          column: 64
        }
      },
      "19": {
        start: {
          line: 68,
          column: 12
        },
        end: {
          line: 68,
          column: 81
        }
      },
      "20": {
        start: {
          line: 77,
          column: 4
        },
        end: {
          line: 99,
          column: 7
        }
      },
      "21": {
        start: {
          line: 78,
          column: 8
        },
        end: {
          line: 83,
          column: 11
        }
      },
      "22": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 88,
          column: 9
        }
      },
      "23": {
        start: {
          line: 86,
          column: 12
        },
        end: {
          line: 86,
          column: 90
        }
      },
      "24": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 87,
          column: 19
        }
      },
      "25": {
        start: {
          line: 89,
          column: 8
        },
        end: {
          line: 94,
          column: 9
        }
      },
      "26": {
        start: {
          line: 90,
          column: 12
        },
        end: {
          line: 90,
          column: 58
        }
      },
      "27": {
        start: {
          line: 91,
          column: 15
        },
        end: {
          line: 94,
          column: 9
        }
      },
      "28": {
        start: {
          line: 93,
          column: 12
        },
        end: {
          line: 93,
          column: 58
        }
      },
      "29": {
        start: {
          line: 101,
          column: 4
        },
        end: {
          line: 104,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 39,
            column: 9
          },
          end: {
            line: 39,
            column: 10
          }
        },
        loc: {
          start: {
            line: 39,
            column: 20
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 39
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 44,
            column: 26
          },
          end: {
            line: 44,
            column: 27
          }
        },
        loc: {
          start: {
            line: 44,
            column: 121
          },
          end: {
            line: 105,
            column: 1
          }
        },
        line: 44
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 49,
            column: 26
          },
          end: {
            line: 49,
            column: 27
          }
        },
        loc: {
          start: {
            line: 49,
            column: 30
          },
          end: {
            line: 70,
            column: 5
          }
        },
        line: 49
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 77,
            column: 26
          },
          end: {
            line: 77,
            column: 27
          }
        },
        loc: {
          start: {
            line: 77,
            column: 30
          },
          end: {
            line: 95,
            column: 5
          }
        },
        line: 77
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 50,
            column: 8
          },
          end: {
            line: 50,
            column: 36
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 50,
            column: 8
          },
          end: {
            line: 50,
            column: 36
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 50
      },
      "1": {
        loc: {
          start: {
            line: 53,
            column: 70
          },
          end: {
            line: 53,
            column: 218
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 53,
            column: 182
          },
          end: {
            line: 53,
            column: 209
          }
        }, {
          start: {
            line: 53,
            column: 212
          },
          end: {
            line: 53,
            column: 218
          }
        }],
        line: 53
      },
      "2": {
        loc: {
          start: {
            line: 53,
            column: 70
          },
          end: {
            line: 53,
            column: 179
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 53,
            column: 70
          },
          end: {
            line: 53,
            column: 137
          }
        }, {
          start: {
            line: 53,
            column: 141
          },
          end: {
            line: 53,
            column: 179
          }
        }],
        line: 53
      },
      "3": {
        loc: {
          start: {
            line: 54,
            column: 8
          },
          end: {
            line: 56,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 54,
            column: 8
          },
          end: {
            line: 56,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 54
      },
      "4": {
        loc: {
          start: {
            line: 59,
            column: 35
          },
          end: {
            line: 59,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 59,
            column: 35
          },
          end: {
            line: 59,
            column: 46
          }
        }, {
          start: {
            line: 59,
            column: 50
          },
          end: {
            line: 59,
            column: 52
          }
        }],
        line: 59
      },
      "5": {
        loc: {
          start: {
            line: 65,
            column: 8
          },
          end: {
            line: 69,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 65,
            column: 8
          },
          end: {
            line: 69,
            column: 9
          }
        }, {
          start: {
            line: 67,
            column: 15
          },
          end: {
            line: 69,
            column: 9
          }
        }],
        line: 65
      },
      "6": {
        loc: {
          start: {
            line: 65,
            column: 12
          },
          end: {
            line: 65,
            column: 111
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 65,
            column: 71
          },
          end: {
            line: 65,
            column: 77
          }
        }, {
          start: {
            line: 65,
            column: 80
          },
          end: {
            line: 65,
            column: 111
          }
        }],
        line: 65
      },
      "7": {
        loc: {
          start: {
            line: 65,
            column: 12
          },
          end: {
            line: 65,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 65,
            column: 12
          },
          end: {
            line: 65,
            column: 37
          }
        }, {
          start: {
            line: 65,
            column: 41
          },
          end: {
            line: 65,
            column: 68
          }
        }],
        line: 65
      },
      "8": {
        loc: {
          start: {
            line: 80,
            column: 37
          },
          end: {
            line: 80,
            column: 139
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 80,
            column: 96
          },
          end: {
            line: 80,
            column: 102
          }
        }, {
          start: {
            line: 80,
            column: 105
          },
          end: {
            line: 80,
            column: 139
          }
        }],
        line: 80
      },
      "9": {
        loc: {
          start: {
            line: 80,
            column: 37
          },
          end: {
            line: 80,
            column: 93
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 80,
            column: 37
          },
          end: {
            line: 80,
            column: 62
          }
        }, {
          start: {
            line: 80,
            column: 66
          },
          end: {
            line: 80,
            column: 93
          }
        }],
        line: 80
      },
      "10": {
        loc: {
          start: {
            line: 81,
            column: 46
          },
          end: {
            line: 81,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 81,
            column: 46
          },
          end: {
            line: 81,
            column: 62
          }
        }, {
          start: {
            line: 81,
            column: 66
          },
          end: {
            line: 81,
            column: 68
          }
        }],
        line: 81
      },
      "11": {
        loc: {
          start: {
            line: 85,
            column: 8
          },
          end: {
            line: 88,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 8
          },
          end: {
            line: 88,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 85
      },
      "12": {
        loc: {
          start: {
            line: 85,
            column: 14
          },
          end: {
            line: 85,
            column: 116
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 85,
            column: 73
          },
          end: {
            line: 85,
            column: 79
          }
        }, {
          start: {
            line: 85,
            column: 82
          },
          end: {
            line: 85,
            column: 116
          }
        }],
        line: 85
      },
      "13": {
        loc: {
          start: {
            line: 85,
            column: 14
          },
          end: {
            line: 85,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 85,
            column: 14
          },
          end: {
            line: 85,
            column: 39
          }
        }, {
          start: {
            line: 85,
            column: 43
          },
          end: {
            line: 85,
            column: 70
          }
        }],
        line: 85
      },
      "14": {
        loc: {
          start: {
            line: 89,
            column: 8
          },
          end: {
            line: 94,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 8
          },
          end: {
            line: 94,
            column: 9
          }
        }, {
          start: {
            line: 91,
            column: 15
          },
          end: {
            line: 94,
            column: 9
          }
        }],
        line: 89
      },
      "15": {
        loc: {
          start: {
            line: 91,
            column: 15
          },
          end: {
            line: 94,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 91,
            column: 15
          },
          end: {
            line: 94,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 91
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/home/thehu/coolProjects/EndgameTrainer-training-board-complete/src/shared/hooks/useMoveValidation.ts"],
      sourcesContent: ["/**\n * @file Move validation and evaluation processing hook\n * @module hooks/useMoveValidation\n * \n * @description\n * Custom hook that encapsulates evaluation processing and analysis status\n * management for chess training. Extracted from TrainingBoard to separate\n * evaluation concerns from UI rendering.\n * \n * @remarks\n * Key responsibilities:\n * - Evaluation deduplication using processedEvaluationsRef\n * - Analysis status synchronization with tablebase store\n * - Safe handling of tablebase actions availability\n * - Evaluation update coordination\n * \n * This hook maintains evaluation processing logic while providing\n * a clean interface for move validation and analysis management.\n * \n * @example\n * ```tsx\n * const moveValidation = useMoveValidation({\n *   lastEvaluation,\n *   currentFen,\n *   evaluations,\n *   isEvaluating,\n *   tablebaseState,\n *   tablebaseActions\n * });\n * \n * // Hook handles evaluation processing and status updates internally\n * ```\n */\n\nimport { useEffect, useRef, useState } from 'react';\nimport { PositionAnalysis } from '@shared/types';\n\n/**\n * Configuration options for move validation hook\n * \n * @interface UseMoveValidationOptions\n * @description Options for configuring move validation behavior\n */\nexport interface UseMoveValidationOptions {\n  /** Last evaluation from position analysis */\n  lastEvaluation: PositionAnalysis | null | undefined;\n  /** Current FEN position */\n  currentFen: string | undefined;\n  /** Array of evaluations */\n  evaluations: PositionAnalysis[] | undefined;\n  /** Whether evaluation is in progress */\n  isEvaluating: boolean;\n  /** Tablebase store state */\n  tablebaseState: {\n    analysisStatus: 'idle' | 'loading' | 'success' | 'error';\n  };\n  /** Tablebase store actions */\n  tablebaseActions: {\n    setEvaluations?: (evaluations: PositionAnalysis[]) => void;\n    setAnalysisStatus?: (status: 'idle' | 'loading' | 'success' | 'error') => void;\n  } | undefined;\n}\n\n/**\n * Move validation state and utilities\n * \n * @interface MoveValidationResult\n * @description Result object containing validation state\n */\nexport interface MoveValidationResult {\n  /** Number of processed evaluations */\n  processedCount: number;\n  /** Whether evaluation processing is active */\n  isProcessing: boolean;\n}\n\n/**\n * Move validation and evaluation processing hook\n * \n * @description\n * Manages evaluation processing with deduplication and analysis\n * status synchronization. Handles safe interaction with tablebase\n * store actions and maintains evaluation state consistency.\n * \n * @param {UseMoveValidationOptions} options - Validation configuration\n * @returns {MoveValidationResult} Validation state and utilities\n * \n * @example\n * ```tsx\n * const moveValidation = useMoveValidation({\n *   lastEvaluation: evaluationData,\n *   currentFen: position,\n *   evaluations: evaluationList,\n *   isEvaluating: loading,\n *   tablebaseState: state,\n *   tablebaseActions: actions\n * });\n * \n * // Access processing state\n * if (moveValidation.isProcessing) {\n *   console.log('Processing evaluation...');\n * }\n * ```\n */\nexport const useMoveValidation = ({\n  lastEvaluation,\n  currentFen,\n  evaluations,\n  isEvaluating,\n  tablebaseState,\n  tablebaseActions\n}: UseMoveValidationOptions): MoveValidationResult => {\n  \n  // Track processed evaluations to prevent duplicates\n  const processedEvaluationsRef = useRef(new Set<string>());\n  const [processedCount, setProcessedCount] = useState(0);\n  \n  // Update Zustand with current evaluation\n  useEffect(() => {\n    if (!lastEvaluation) return;\n\n    // Create unique key for this evaluation using current FEN and evaluation data\n    const evalKey = `${currentFen}_${lastEvaluation.evaluation}_${lastEvaluation.mateInMoves ?? \"null\"}`;\n\n    if (processedEvaluationsRef.current.has(evalKey)) {\n      return; // Skip if already processed\n    }\n\n    processedEvaluationsRef.current.add(evalKey);\n    setProcessedCount(processedEvaluationsRef.current.size);\n\n    const currentEvaluations = evaluations || [];\n    const updatedEvaluations = [...currentEvaluations, lastEvaluation];\n\n    // Check if setEvaluations exists before calling\n    if (tablebaseActions?.setEvaluations) {\n      tablebaseActions.setEvaluations(updatedEvaluations);\n    } else {\n      console.error(\"\u274C tablebaseActions.setEvaluations is not available!\");\n    }\n  }, [lastEvaluation, currentFen, evaluations, tablebaseActions]);\n  \n  // Update analysis status based on evaluation state\n  useEffect(() => {\n    console.debug(\"\uD83D\uDD0D TablebaseActions debug\", {\n      hasTablebaseActions: !!tablebaseActions,\n      hasSetAnalysisStatus: !!tablebaseActions?.setAnalysisStatus,\n      tablebaseActionsKeys: Object.keys(tablebaseActions || {}),\n      isEvaluating,\n    });\n\n    // CRITICAL: Safe-guard to prevent crashes\n    if (!tablebaseActions?.setAnalysisStatus) {\n      console.warn(\n        \"\u26A0\uFE0F tablebaseActions.setAnalysisStatus not available, skipping\",\n      );\n      return;\n    }\n\n    if (isEvaluating) {\n      tablebaseActions.setAnalysisStatus(\"loading\");\n    } else if (tablebaseState.analysisStatus === \"loading\") {\n      // Only update to success if we were loading\n      tablebaseActions.setAnalysisStatus(\"success\");\n    }\n  }, [isEvaluating, tablebaseState, tablebaseActions]);\n  \n  // Return validation state\n  return {\n    processedCount,\n    isProcessing: isEvaluating\n  };\n};"],
      names: ["useMoveValidation", "lastEvaluation", "currentFen", "evaluations", "isEvaluating", "tablebaseState", "tablebaseActions", "processedEvaluationsRef", "useRef", "Set", "processedCount", "setProcessedCount", "useState", "useEffect", "evalKey", "evaluation", "mateInMoves", "current", "has", "add", "size", "currentEvaluations", "updatedEvaluations", "setEvaluations", "console", "error", "debug", "hasTablebaseActions", "hasSetAnalysisStatus", "setAnalysisStatus", "tablebaseActionsKeys", "Object", "keys", "warn", "analysisStatus", "isProcessing"],
      mappings: "AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAgCC;;;;+BAwEYA;;;eAAAA;;;uBAtE+B;AAsErC,MAAMA,oBAAoB,CAAC,EAChCC,cAAc,EACdC,UAAU,EACVC,WAAW,EACXC,YAAY,EACZC,cAAc,EACdC,gBAAgB,EACS;IAEzB,oDAAoD;IACpD,MAAMC,0BAA0BC,IAAAA,aAAM,EAAC,IAAIC;IAC3C,MAAM,CAACC,gBAAgBC,kBAAkB,GAAGC,IAAAA,eAAQ,EAAC;IAErD,yCAAyC;IACzCC,IAAAA,gBAAS,EAAC;QACR,IAAI,CAACZ,gBAAgB;YAGyCA;QAD9D,8EAA8E;QAC9E,MAAMa,UAAU,GAAGZ,WAAW,CAAC,EAAED,eAAec,UAAU,CAAC,CAAC,EAAEd,CAAAA,8BAAAA,eAAee,WAAW,cAA1Bf,yCAAAA,8BAA8B,QAAQ;QAEpG,IAAIM,wBAAwBU,OAAO,CAACC,GAAG,CAACJ,UAAU;YAChD,QAAQ,4BAA4B;QACtC;QAEAP,wBAAwBU,OAAO,CAACE,GAAG,CAACL;QACpCH,kBAAkBJ,wBAAwBU,OAAO,CAACG,IAAI;QAEtD,MAAMC,qBAAqBlB,eAAe,EAAE;QAC5C,MAAMmB,qBAAqB;eAAID;YAAoBpB;SAAe;QAElE,gDAAgD;QAChD,IAAIK,6BAAAA,uCAAAA,iBAAkBiB,cAAc,EAAE;YACpCjB,iBAAiBiB,cAAc,CAACD;QAClC,OAAO;YACLE,QAAQC,KAAK,CAAC;QAChB;IACF,GAAG;QAACxB;QAAgBC;QAAYC;QAAaG;KAAiB;IAE9D,mDAAmD;IACnDO,IAAAA,gBAAS,EAAC;QACRW,QAAQE,KAAK,CAAC,6BAA6B;YACzCC,qBAAqB,CAAC,CAACrB;YACvBsB,sBAAsB,CAAC,EAACtB,6BAAAA,uCAAAA,iBAAkBuB,iBAAiB;YAC3DC,sBAAsBC,OAAOC,IAAI,CAAC1B,oBAAoB,CAAC;YACvDF;QACF;QAEA,0CAA0C;QAC1C,IAAI,EAACE,6BAAAA,uCAAAA,iBAAkBuB,iBAAiB,GAAE;YACxCL,QAAQS,IAAI,CACV;YAEF;QACF;QAEA,IAAI7B,cAAc;YAChBE,iBAAiBuB,iBAAiB,CAAC;QACrC,OAAO,IAAIxB,eAAe6B,cAAc,KAAK,WAAW;YACtD,4CAA4C;YAC5C5B,iBAAiBuB,iBAAiB,CAAC;QACrC;IACF,GAAG;QAACzB;QAAcC;QAAgBC;KAAiB;IAEnD,0BAA0B;IAC1B,OAAO;QACLI;QACAyB,cAAc/B;IAChB;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "92ff18227801314962bf1cf54bfb94bdec8514bb"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_17tbhtfzk3 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_17tbhtfzk3();
cov_17tbhtfzk3().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_17tbhtfzk3().s[1]++;
Object.defineProperty(exports, "useMoveValidation", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_17tbhtfzk3().f[0]++;
    cov_17tbhtfzk3().s[2]++;
    return useMoveValidation;
  }
});
const _react =
/* istanbul ignore next */
(cov_17tbhtfzk3().s[3]++, require("react"));
/* istanbul ignore next */
cov_17tbhtfzk3().s[4]++;
const useMoveValidation = ({
  lastEvaluation,
  currentFen,
  evaluations,
  isEvaluating,
  tablebaseState,
  tablebaseActions
}) => {
  /* istanbul ignore next */
  cov_17tbhtfzk3().f[1]++;
  // Track processed evaluations to prevent duplicates
  const processedEvaluationsRef =
  /* istanbul ignore next */
  (cov_17tbhtfzk3().s[5]++, (0, _react.useRef)(new Set()));
  const [processedCount, setProcessedCount] =
  /* istanbul ignore next */
  (cov_17tbhtfzk3().s[6]++, (0, _react.useState)(0));
  // Update Zustand with current evaluation
  /* istanbul ignore next */
  cov_17tbhtfzk3().s[7]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_17tbhtfzk3().f[2]++;
    cov_17tbhtfzk3().s[8]++;
    if (!lastEvaluation) {
      /* istanbul ignore next */
      cov_17tbhtfzk3().b[0][0]++;
      cov_17tbhtfzk3().s[9]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_17tbhtfzk3().b[0][1]++;
    }
    var _lastEvaluation_mateInMoves;
    // Create unique key for this evaluation using current FEN and evaluation data
    const evalKey =
    /* istanbul ignore next */
    (cov_17tbhtfzk3().s[10]++, `${currentFen}_${lastEvaluation.evaluation}_${
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[2][0]++, (_lastEvaluation_mateInMoves = lastEvaluation.mateInMoves) !== null) &&
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[2][1]++, _lastEvaluation_mateInMoves !== void 0) ?
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[1][0]++, _lastEvaluation_mateInMoves) :
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[1][1]++, "null")}`);
    /* istanbul ignore next */
    cov_17tbhtfzk3().s[11]++;
    if (processedEvaluationsRef.current.has(evalKey)) {
      /* istanbul ignore next */
      cov_17tbhtfzk3().b[3][0]++;
      cov_17tbhtfzk3().s[12]++;
      return; // Skip if already processed
    } else
    /* istanbul ignore next */
    {
      cov_17tbhtfzk3().b[3][1]++;
    }
    cov_17tbhtfzk3().s[13]++;
    processedEvaluationsRef.current.add(evalKey);
    /* istanbul ignore next */
    cov_17tbhtfzk3().s[14]++;
    setProcessedCount(processedEvaluationsRef.current.size);
    const currentEvaluations =
    /* istanbul ignore next */
    (cov_17tbhtfzk3().s[15]++,
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[4][0]++, evaluations) ||
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[4][1]++, []));
    const updatedEvaluations =
    /* istanbul ignore next */
    (cov_17tbhtfzk3().s[16]++, [...currentEvaluations, lastEvaluation]);
    // Check if setEvaluations exists before calling
    /* istanbul ignore next */
    cov_17tbhtfzk3().s[17]++;
    if (
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[7][0]++, tablebaseActions === null) ||
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[7][1]++, tablebaseActions === void 0) ?
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[6][0]++, void 0) :
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[6][1]++, tablebaseActions.setEvaluations)) {
      /* istanbul ignore next */
      cov_17tbhtfzk3().b[5][0]++;
      cov_17tbhtfzk3().s[18]++;
      tablebaseActions.setEvaluations(updatedEvaluations);
    } else {
      /* istanbul ignore next */
      cov_17tbhtfzk3().b[5][1]++;
      cov_17tbhtfzk3().s[19]++;
      console.error("‚ùå tablebaseActions.setEvaluations is not available!");
    }
  }, [lastEvaluation, currentFen, evaluations, tablebaseActions]);
  // Update analysis status based on evaluation state
  /* istanbul ignore next */
  cov_17tbhtfzk3().s[20]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_17tbhtfzk3().f[3]++;
    cov_17tbhtfzk3().s[21]++;
    console.debug("üîç TablebaseActions debug", {
      hasTablebaseActions: !!tablebaseActions,
      hasSetAnalysisStatus: !!(
      /* istanbul ignore next */
      (cov_17tbhtfzk3().b[9][0]++, tablebaseActions === null) ||
      /* istanbul ignore next */
      (cov_17tbhtfzk3().b[9][1]++, tablebaseActions === void 0) ?
      /* istanbul ignore next */
      (cov_17tbhtfzk3().b[8][0]++, void 0) :
      /* istanbul ignore next */
      (cov_17tbhtfzk3().b[8][1]++, tablebaseActions.setAnalysisStatus)),
      tablebaseActionsKeys: Object.keys(
      /* istanbul ignore next */
      (cov_17tbhtfzk3().b[10][0]++, tablebaseActions) ||
      /* istanbul ignore next */
      (cov_17tbhtfzk3().b[10][1]++, {})),
      isEvaluating
    });
    // CRITICAL: Safe-guard to prevent crashes
    /* istanbul ignore next */
    cov_17tbhtfzk3().s[22]++;
    if (!(
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[13][0]++, tablebaseActions === null) ||
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[13][1]++, tablebaseActions === void 0) ?
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[12][0]++, void 0) :
    /* istanbul ignore next */
    (cov_17tbhtfzk3().b[12][1]++, tablebaseActions.setAnalysisStatus))) {
      /* istanbul ignore next */
      cov_17tbhtfzk3().b[11][0]++;
      cov_17tbhtfzk3().s[23]++;
      console.warn("‚ö†Ô∏è tablebaseActions.setAnalysisStatus not available, skipping");
      /* istanbul ignore next */
      cov_17tbhtfzk3().s[24]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_17tbhtfzk3().b[11][1]++;
    }
    cov_17tbhtfzk3().s[25]++;
    if (isEvaluating) {
      /* istanbul ignore next */
      cov_17tbhtfzk3().b[14][0]++;
      cov_17tbhtfzk3().s[26]++;
      tablebaseActions.setAnalysisStatus("loading");
    } else {
      /* istanbul ignore next */
      cov_17tbhtfzk3().b[14][1]++;
      cov_17tbhtfzk3().s[27]++;
      if (tablebaseState.analysisStatus === "loading") {
        /* istanbul ignore next */
        cov_17tbhtfzk3().b[15][0]++;
        cov_17tbhtfzk3().s[28]++;
        // Only update to success if we were loading
        tablebaseActions.setAnalysisStatus("success");
      } else
      /* istanbul ignore next */
      {
        cov_17tbhtfzk3().b[15][1]++;
      }
    }
  }, [isEvaluating, tablebaseState, tablebaseActions]);
  // Return validation state
  /* istanbul ignore next */
  cov_17tbhtfzk3().s[29]++;
  return {
    processedCount,
    isProcessing: isEvaluating
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTd0Ymh0ZnprMyIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsIm5hbWUiLCJkZWNsIiwibG9jIiwiYnJhbmNoTWFwIiwidHlwZSIsImxvY2F0aW9ucyIsInVuZGVmaW5lZCIsInMiLCJmIiwiYiIsImlucHV0U291cmNlTWFwIiwidmVyc2lvbiIsInNvdXJjZXMiLCJzb3VyY2VzQ29udGVudCIsIm5hbWVzIiwibWFwcGluZ3MiLCJfY292ZXJhZ2VTY2hlbWEiLCJjb3ZlcmFnZSIsImFjdHVhbENvdmVyYWdlIiwidXNlTW92ZVZhbGlkYXRpb24iLCJsYXN0RXZhbHVhdGlvbiIsImN1cnJlbnRGZW4iLCJldmFsdWF0aW9ucyIsImlzRXZhbHVhdGluZyIsInRhYmxlYmFzZVN0YXRlIiwidGFibGViYXNlQWN0aW9ucyIsInByb2Nlc3NlZEV2YWx1YXRpb25zUmVmIiwiX3JlYWN0IiwidXNlUmVmIiwiU2V0IiwicHJvY2Vzc2VkQ291bnQiLCJzZXRQcm9jZXNzZWRDb3VudCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiX2xhc3RFdmFsdWF0aW9uX21hdGVJbk1vdmVzIiwiZXZhbEtleSIsImV2YWx1YXRpb24iLCJtYXRlSW5Nb3ZlcyIsImN1cnJlbnQiLCJoYXMiLCJhZGQiLCJzaXplIiwiY3VycmVudEV2YWx1YXRpb25zIiwidXBkYXRlZEV2YWx1YXRpb25zIiwic2V0RXZhbHVhdGlvbnMiLCJjb25zb2xlIiwiZXJyb3IiLCJkZWJ1ZyIsImhhc1RhYmxlYmFzZUFjdGlvbnMiLCJoYXNTZXRBbmFseXNpc1N0YXR1cyIsInNldEFuYWx5c2lzU3RhdHVzIiwidGFibGViYXNlQWN0aW9uc0tleXMiLCJPYmplY3QiLCJrZXlzIiwid2FybiIsImFuYWx5c2lzU3RhdHVzIiwiaXNQcm9jZXNzaW5nIl0sInNvdXJjZXMiOlsiL2hvbWUvdGhlaHUvY29vbFByb2plY3RzL0VuZGdhbWVUcmFpbmVyLXRyYWluaW5nLWJvYXJkLWNvbXBsZXRlL3NyYy9zaGFyZWQvaG9va3MvdXNlTW92ZVZhbGlkYXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBNb3ZlIHZhbGlkYXRpb24gYW5kIGV2YWx1YXRpb24gcHJvY2Vzc2luZyBob29rXG4gKiBAbW9kdWxlIGhvb2tzL3VzZU1vdmVWYWxpZGF0aW9uXG4gKiBcbiAqIEBkZXNjcmlwdGlvblxuICogQ3VzdG9tIGhvb2sgdGhhdCBlbmNhcHN1bGF0ZXMgZXZhbHVhdGlvbiBwcm9jZXNzaW5nIGFuZCBhbmFseXNpcyBzdGF0dXNcbiAqIG1hbmFnZW1lbnQgZm9yIGNoZXNzIHRyYWluaW5nLiBFeHRyYWN0ZWQgZnJvbSBUcmFpbmluZ0JvYXJkIHRvIHNlcGFyYXRlXG4gKiBldmFsdWF0aW9uIGNvbmNlcm5zIGZyb20gVUkgcmVuZGVyaW5nLlxuICogXG4gKiBAcmVtYXJrc1xuICogS2V5IHJlc3BvbnNpYmlsaXRpZXM6XG4gKiAtIEV2YWx1YXRpb24gZGVkdXBsaWNhdGlvbiB1c2luZyBwcm9jZXNzZWRFdmFsdWF0aW9uc1JlZlxuICogLSBBbmFseXNpcyBzdGF0dXMgc3luY2hyb25pemF0aW9uIHdpdGggdGFibGViYXNlIHN0b3JlXG4gKiAtIFNhZmUgaGFuZGxpbmcgb2YgdGFibGViYXNlIGFjdGlvbnMgYXZhaWxhYmlsaXR5XG4gKiAtIEV2YWx1YXRpb24gdXBkYXRlIGNvb3JkaW5hdGlvblxuICogXG4gKiBUaGlzIGhvb2sgbWFpbnRhaW5zIGV2YWx1YXRpb24gcHJvY2Vzc2luZyBsb2dpYyB3aGlsZSBwcm92aWRpbmdcbiAqIGEgY2xlYW4gaW50ZXJmYWNlIGZvciBtb3ZlIHZhbGlkYXRpb24gYW5kIGFuYWx5c2lzIG1hbmFnZW1lbnQuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBgYGB0c3hcbiAqIGNvbnN0IG1vdmVWYWxpZGF0aW9uID0gdXNlTW92ZVZhbGlkYXRpb24oe1xuICogICBsYXN0RXZhbHVhdGlvbixcbiAqICAgY3VycmVudEZlbixcbiAqICAgZXZhbHVhdGlvbnMsXG4gKiAgIGlzRXZhbHVhdGluZyxcbiAqICAgdGFibGViYXNlU3RhdGUsXG4gKiAgIHRhYmxlYmFzZUFjdGlvbnNcbiAqIH0pO1xuICogXG4gKiAvLyBIb29rIGhhbmRsZXMgZXZhbHVhdGlvbiBwcm9jZXNzaW5nIGFuZCBzdGF0dXMgdXBkYXRlcyBpbnRlcm5hbGx5XG4gKiBgYGBcbiAqL1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQb3NpdGlvbkFuYWx5c2lzIH0gZnJvbSAnQHNoYXJlZC90eXBlcyc7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBtb3ZlIHZhbGlkYXRpb24gaG9va1xuICogXG4gKiBAaW50ZXJmYWNlIFVzZU1vdmVWYWxpZGF0aW9uT3B0aW9uc1xuICogQGRlc2NyaXB0aW9uIE9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIG1vdmUgdmFsaWRhdGlvbiBiZWhhdmlvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1vdmVWYWxpZGF0aW9uT3B0aW9ucyB7XG4gIC8qKiBMYXN0IGV2YWx1YXRpb24gZnJvbSBwb3NpdGlvbiBhbmFseXNpcyAqL1xuICBsYXN0RXZhbHVhdGlvbjogUG9zaXRpb25BbmFseXNpcyB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIC8qKiBDdXJyZW50IEZFTiBwb3NpdGlvbiAqL1xuICBjdXJyZW50RmVuOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBBcnJheSBvZiBldmFsdWF0aW9ucyAqL1xuICBldmFsdWF0aW9uczogUG9zaXRpb25BbmFseXNpc1tdIHwgdW5kZWZpbmVkO1xuICAvKiogV2hldGhlciBldmFsdWF0aW9uIGlzIGluIHByb2dyZXNzICovXG4gIGlzRXZhbHVhdGluZzogYm9vbGVhbjtcbiAgLyoqIFRhYmxlYmFzZSBzdG9yZSBzdGF0ZSAqL1xuICB0YWJsZWJhc2VTdGF0ZToge1xuICAgIGFuYWx5c2lzU3RhdHVzOiAnaWRsZScgfCAnbG9hZGluZycgfCAnc3VjY2VzcycgfCAnZXJyb3InO1xuICB9O1xuICAvKiogVGFibGViYXNlIHN0b3JlIGFjdGlvbnMgKi9cbiAgdGFibGViYXNlQWN0aW9uczoge1xuICAgIHNldEV2YWx1YXRpb25zPzogKGV2YWx1YXRpb25zOiBQb3NpdGlvbkFuYWx5c2lzW10pID0+IHZvaWQ7XG4gICAgc2V0QW5hbHlzaXNTdGF0dXM/OiAoc3RhdHVzOiAnaWRsZScgfCAnbG9hZGluZycgfCAnc3VjY2VzcycgfCAnZXJyb3InKSA9PiB2b2lkO1xuICB9IHwgdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIE1vdmUgdmFsaWRhdGlvbiBzdGF0ZSBhbmQgdXRpbGl0aWVzXG4gKiBcbiAqIEBpbnRlcmZhY2UgTW92ZVZhbGlkYXRpb25SZXN1bHRcbiAqIEBkZXNjcmlwdGlvbiBSZXN1bHQgb2JqZWN0IGNvbnRhaW5pbmcgdmFsaWRhdGlvbiBzdGF0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vdmVWYWxpZGF0aW9uUmVzdWx0IHtcbiAgLyoqIE51bWJlciBvZiBwcm9jZXNzZWQgZXZhbHVhdGlvbnMgKi9cbiAgcHJvY2Vzc2VkQ291bnQ6IG51bWJlcjtcbiAgLyoqIFdoZXRoZXIgZXZhbHVhdGlvbiBwcm9jZXNzaW5nIGlzIGFjdGl2ZSAqL1xuICBpc1Byb2Nlc3Npbmc6IGJvb2xlYW47XG59XG5cbi8qKlxuICogTW92ZSB2YWxpZGF0aW9uIGFuZCBldmFsdWF0aW9uIHByb2Nlc3NpbmcgaG9va1xuICogXG4gKiBAZGVzY3JpcHRpb25cbiAqIE1hbmFnZXMgZXZhbHVhdGlvbiBwcm9jZXNzaW5nIHdpdGggZGVkdXBsaWNhdGlvbiBhbmQgYW5hbHlzaXNcbiAqIHN0YXR1cyBzeW5jaHJvbml6YXRpb24uIEhhbmRsZXMgc2FmZSBpbnRlcmFjdGlvbiB3aXRoIHRhYmxlYmFzZVxuICogc3RvcmUgYWN0aW9ucyBhbmQgbWFpbnRhaW5zIGV2YWx1YXRpb24gc3RhdGUgY29uc2lzdGVuY3kuXG4gKiBcbiAqIEBwYXJhbSB7VXNlTW92ZVZhbGlkYXRpb25PcHRpb25zfSBvcHRpb25zIC0gVmFsaWRhdGlvbiBjb25maWd1cmF0aW9uXG4gKiBAcmV0dXJucyB7TW92ZVZhbGlkYXRpb25SZXN1bHR9IFZhbGlkYXRpb24gc3RhdGUgYW5kIHV0aWxpdGllc1xuICogXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBjb25zdCBtb3ZlVmFsaWRhdGlvbiA9IHVzZU1vdmVWYWxpZGF0aW9uKHtcbiAqICAgbGFzdEV2YWx1YXRpb246IGV2YWx1YXRpb25EYXRhLFxuICogICBjdXJyZW50RmVuOiBwb3NpdGlvbixcbiAqICAgZXZhbHVhdGlvbnM6IGV2YWx1YXRpb25MaXN0LFxuICogICBpc0V2YWx1YXRpbmc6IGxvYWRpbmcsXG4gKiAgIHRhYmxlYmFzZVN0YXRlOiBzdGF0ZSxcbiAqICAgdGFibGViYXNlQWN0aW9uczogYWN0aW9uc1xuICogfSk7XG4gKiBcbiAqIC8vIEFjY2VzcyBwcm9jZXNzaW5nIHN0YXRlXG4gKiBpZiAobW92ZVZhbGlkYXRpb24uaXNQcm9jZXNzaW5nKSB7XG4gKiAgIGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nIGV2YWx1YXRpb24uLi4nKTtcbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgdXNlTW92ZVZhbGlkYXRpb24gPSAoe1xuICBsYXN0RXZhbHVhdGlvbixcbiAgY3VycmVudEZlbixcbiAgZXZhbHVhdGlvbnMsXG4gIGlzRXZhbHVhdGluZyxcbiAgdGFibGViYXNlU3RhdGUsXG4gIHRhYmxlYmFzZUFjdGlvbnNcbn06IFVzZU1vdmVWYWxpZGF0aW9uT3B0aW9ucyk6IE1vdmVWYWxpZGF0aW9uUmVzdWx0ID0+IHtcbiAgXG4gIC8vIFRyYWNrIHByb2Nlc3NlZCBldmFsdWF0aW9ucyB0byBwcmV2ZW50IGR1cGxpY2F0ZXNcbiAgY29uc3QgcHJvY2Vzc2VkRXZhbHVhdGlvbnNSZWYgPSB1c2VSZWYobmV3IFNldDxzdHJpbmc+KCkpO1xuICBjb25zdCBbcHJvY2Vzc2VkQ291bnQsIHNldFByb2Nlc3NlZENvdW50XSA9IHVzZVN0YXRlKDApO1xuICBcbiAgLy8gVXBkYXRlIFp1c3RhbmQgd2l0aCBjdXJyZW50IGV2YWx1YXRpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWxhc3RFdmFsdWF0aW9uKSByZXR1cm47XG5cbiAgICAvLyBDcmVhdGUgdW5pcXVlIGtleSBmb3IgdGhpcyBldmFsdWF0aW9uIHVzaW5nIGN1cnJlbnQgRkVOIGFuZCBldmFsdWF0aW9uIGRhdGFcbiAgICBjb25zdCBldmFsS2V5ID0gYCR7Y3VycmVudEZlbn1fJHtsYXN0RXZhbHVhdGlvbi5ldmFsdWF0aW9ufV8ke2xhc3RFdmFsdWF0aW9uLm1hdGVJbk1vdmVzID8/IFwibnVsbFwifWA7XG5cbiAgICBpZiAocHJvY2Vzc2VkRXZhbHVhdGlvbnNSZWYuY3VycmVudC5oYXMoZXZhbEtleSkpIHtcbiAgICAgIHJldHVybjsgLy8gU2tpcCBpZiBhbHJlYWR5IHByb2Nlc3NlZFxuICAgIH1cblxuICAgIHByb2Nlc3NlZEV2YWx1YXRpb25zUmVmLmN1cnJlbnQuYWRkKGV2YWxLZXkpO1xuICAgIHNldFByb2Nlc3NlZENvdW50KHByb2Nlc3NlZEV2YWx1YXRpb25zUmVmLmN1cnJlbnQuc2l6ZSk7XG5cbiAgICBjb25zdCBjdXJyZW50RXZhbHVhdGlvbnMgPSBldmFsdWF0aW9ucyB8fCBbXTtcbiAgICBjb25zdCB1cGRhdGVkRXZhbHVhdGlvbnMgPSBbLi4uY3VycmVudEV2YWx1YXRpb25zLCBsYXN0RXZhbHVhdGlvbl07XG5cbiAgICAvLyBDaGVjayBpZiBzZXRFdmFsdWF0aW9ucyBleGlzdHMgYmVmb3JlIGNhbGxpbmdcbiAgICBpZiAodGFibGViYXNlQWN0aW9ucz8uc2V0RXZhbHVhdGlvbnMpIHtcbiAgICAgIHRhYmxlYmFzZUFjdGlvbnMuc2V0RXZhbHVhdGlvbnModXBkYXRlZEV2YWx1YXRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCB0YWJsZWJhc2VBY3Rpb25zLnNldEV2YWx1YXRpb25zIGlzIG5vdCBhdmFpbGFibGUhXCIpO1xuICAgIH1cbiAgfSwgW2xhc3RFdmFsdWF0aW9uLCBjdXJyZW50RmVuLCBldmFsdWF0aW9ucywgdGFibGViYXNlQWN0aW9uc10pO1xuICBcbiAgLy8gVXBkYXRlIGFuYWx5c2lzIHN0YXR1cyBiYXNlZCBvbiBldmFsdWF0aW9uIHN0YXRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5kZWJ1ZyhcIvCflI0gVGFibGViYXNlQWN0aW9ucyBkZWJ1Z1wiLCB7XG4gICAgICBoYXNUYWJsZWJhc2VBY3Rpb25zOiAhIXRhYmxlYmFzZUFjdGlvbnMsXG4gICAgICBoYXNTZXRBbmFseXNpc1N0YXR1czogISF0YWJsZWJhc2VBY3Rpb25zPy5zZXRBbmFseXNpc1N0YXR1cyxcbiAgICAgIHRhYmxlYmFzZUFjdGlvbnNLZXlzOiBPYmplY3Qua2V5cyh0YWJsZWJhc2VBY3Rpb25zIHx8IHt9KSxcbiAgICAgIGlzRXZhbHVhdGluZyxcbiAgICB9KTtcblxuICAgIC8vIENSSVRJQ0FMOiBTYWZlLWd1YXJkIHRvIHByZXZlbnQgY3Jhc2hlc1xuICAgIGlmICghdGFibGViYXNlQWN0aW9ucz8uc2V0QW5hbHlzaXNTdGF0dXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCLimqDvuI8gdGFibGViYXNlQWN0aW9ucy5zZXRBbmFseXNpc1N0YXR1cyBub3QgYXZhaWxhYmxlLCBza2lwcGluZ1wiLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNFdmFsdWF0aW5nKSB7XG4gICAgICB0YWJsZWJhc2VBY3Rpb25zLnNldEFuYWx5c2lzU3RhdHVzKFwibG9hZGluZ1wiKTtcbiAgICB9IGVsc2UgaWYgKHRhYmxlYmFzZVN0YXRlLmFuYWx5c2lzU3RhdHVzID09PSBcImxvYWRpbmdcIikge1xuICAgICAgLy8gT25seSB1cGRhdGUgdG8gc3VjY2VzcyBpZiB3ZSB3ZXJlIGxvYWRpbmdcbiAgICAgIHRhYmxlYmFzZUFjdGlvbnMuc2V0QW5hbHlzaXNTdGF0dXMoXCJzdWNjZXNzXCIpO1xuICAgIH1cbiAgfSwgW2lzRXZhbHVhdGluZywgdGFibGViYXNlU3RhdGUsIHRhYmxlYmFzZUFjdGlvbnNdKTtcbiAgXG4gIC8vIFJldHVybiB2YWxpZGF0aW9uIHN0YXRlXG4gIHJldHVybiB7XG4gICAgcHJvY2Vzc2VkQ291bnQsXG4gICAgaXNQcm9jZXNzaW5nOiBpc0V2YWx1YXRpbmdcbiAgfTtcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FnQ0M7O0FBQUE7QUFBQSxTQUFBQSxlQUFBO0VBQUEsSUFBQUMsSUFBQTtFQUFBLElBQUFDLElBQUE7RUFBQSxJQUFBQyxNQUFBLE9BQUFDLFFBQUE7RUFBQSxJQUFBQyxHQUFBO0VBQUEsSUFBQUMsWUFBQTtJQUFBTCxJQUFBO0lBQUFNLFlBQUE7TUFBQTtRQUFBQyxLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7SUFBQTtJQUFBRSxLQUFBO01BQUE7UUFBQUMsSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO0lBQUE7SUFBQU8sU0FBQTtNQUFBO1FBQUFELEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtVQUFBUixHQUFBO1lBQUFGLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7UUFBQTtRQUFBVixJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7VUFBQVIsR0FBQTtZQUFBRixJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1FBQUE7UUFBQVYsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1VBQUFSLEdBQUE7WUFBQUYsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtRQUFBO1FBQUFWLElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtVQUFBUixHQUFBO1lBQUFGLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7UUFBQTtRQUFBVixJQUFBO01BQUE7SUFBQTtJQUFBVyxDQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO0lB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