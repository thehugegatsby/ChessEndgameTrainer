f695fe861e81a3bdc4c0c2ad24a6a38b
/**
 * @file E2E-specific mocks for TablebaseService
 * @module services/TablebaseService.e2e.mocks
 *
 * @description
 * Provides realistic mock implementations for the Lichess Tablebase API
 * specifically designed for end-to-end testing. Contains pre-defined
 * responses for common chess endgame positions used in E2E test scenarios.
 *
 * @remarks
 * Key features:
 * - Realistic Lichess API response simulation
 * - Pre-defined responses for specific test positions
 * - Pattern-based matching for position variations
 * - Browser environment fetch mocking
 * - Comprehensive logging for test debugging
 * - Fallback handling for unmocked positions
 *
 * The mocks are based on actual E2E test patterns and provide accurate
 * tablebase evaluations for king and pawn endgame scenarios, ensuring
 * predictable test behavior across different test runs.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get E2E_TABLEBASE_MOCKS () {
        return E2E_TABLEBASE_MOCKS;
    },
    get createE2ETablebaseFetchMock () {
        return createE2ETablebaseFetchMock;
    },
    get setupE2ETablebaseMocks () {
        return setupE2ETablebaseMocks;
    }
});
const _logging = require("./logging");
const logger = (0, _logging.getLogger)().setContext("TablebaseE2EMocks");
const E2E_TABLEBASE_MOCKS = {
    // Initial position: King and pawn vs King (White to move)
    // FEN: "4k3/8/4K3/4P3/8/8/8/8 w - - 0 1" (matches test line 66)
    "4k3/8/4K3/4P3/8/8/8/8 w - - 0 1": {
        category: "win",
        wdl: 2,
        dtz: 17,
        dtm: null,
        precise: true,
        moves: [
            {
                uci: "e6d6",
                move: "e6d6",
                san: "Kd6",
                dtz: 14,
                dtm: null,
                wdl: 2,
                category: "win"
            },
            {
                uci: "e6f6",
                move: "e6f6",
                san: "Kf6",
                dtz: 18,
                dtm: null,
                wdl: 2,
                category: "win"
            }
        ]
    },
    // After Kd6 (Black to move) - should be loss for Black = win for White
    // FEN: "4k3/8/3K4/4P3/8/8/8/8 b - - 1 1" (matches test line 47)
    "4k3/8/3K4/4P3/8/8/8/8 b - - 1 1": {
        category: "loss",
        wdl: -2,
        dtz: -14,
        dtm: null,
        precise: true,
        moves: [
            {
                uci: "e8d7",
                move: "e8d7",
                san: "Kd7",
                dtz: -13,
                dtm: null,
                wdl: -2,
                category: "loss"
            },
            {
                uci: "e8f8",
                move: "e8f8",
                san: "Kf8",
                dtz: -15,
                dtm: null,
                wdl: -2,
                category: "loss"
            }
        ]
    },
    // After Kf6 (Black to move) - should also be loss for Black = win for White
    // FEN: "4k3/8/5K2/4P3/8/8/8/8 b - - 1 1"
    "4k3/8/5K2/4P3/8/8/8/8 b - - 1 1": {
        category: "loss",
        wdl: -2,
        dtz: -18,
        dtm: null,
        precise: true,
        moves: [
            {
                uci: "e8d8",
                move: "e8d8",
                san: "Kd8",
                dtz: -17,
                dtm: null,
                wdl: -2,
                category: "loss"
            },
            {
                uci: "e8f7",
                move: "e8f7",
                san: "Kf7",
                dtz: -19,
                dtm: null,
                wdl: -2,
                category: "loss"
            }
        ]
    },
    // After Kd5 (Black to move) - should be draw
    // FEN: "4k3/8/8/3K1P2/8/8/8/8 b - - 1 1"
    "4k3/8/8/3K1P2/8/8/8/8 b - - 1 1": {
        category: "draw",
        wdl: 0,
        dtz: 0,
        dtm: null,
        precise: true,
        moves: [
            {
                uci: "e8d7",
                move: "e8d7",
                san: "Kd7",
                dtz: 0,
                dtm: null,
                wdl: 0,
                category: "draw"
            },
            {
                uci: "e8e7",
                move: "e8e7",
                san: "Ke7",
                dtz: 0,
                dtm: null,
                wdl: 0,
                category: "draw"
            },
            {
                uci: "e8f7",
                move: "e8f7",
                san: "Kf7",
                dtz: 0,
                dtm: null,
                wdl: 0,
                category: "draw"
            }
        ]
    },
    // After Kf5 (Black to move) - should be draw
    // FEN: "4k3/8/8/4PK2/8/8/8/8 b - - 1 1"
    "4k3/8/8/4PK2/8/8/8/8 b - - 1 1": {
        category: "draw",
        wdl: 0,
        dtz: 0,
        dtm: null,
        precise: true,
        moves: [
            {
                uci: "e8d7",
                move: "e8d7",
                san: "Kd7",
                dtz: 0,
                dtm: null,
                wdl: 0,
                category: "draw"
            },
            {
                uci: "e8e7",
                move: "e8e7",
                san: "Ke7",
                dtz: 0,
                dtm: null,
                wdl: 0,
                category: "draw"
            },
            {
                uci: "e8f7",
                move: "e8f7",
                san: "Kf7",
                dtz: 0,
                dtm: null,
                wdl: 0,
                category: "draw"
            }
        ]
    }
};
function createE2ETablebaseFetchMock() {
    return jest.fn((url)=>{
        if (url.includes("lichess.org/api/tablebase/standard")) {
            // Extract FEN from URL
            const urlObj = new URL(url);
            const fen = urlObj.searchParams.get("fen");
            if (fen && E2E_TABLEBASE_MOCKS[fen]) {
                const mockData = E2E_TABLEBASE_MOCKS[fen];
                return Promise.resolve({
                    ok: true,
                    /**
           *
           */ json: ()=>Promise.resolve(mockData),
                    status: 200,
                    statusText: "OK"
                });
            }
        }
        // Fallback for unmocked positions
        return Promise.resolve({
            ok: false,
            status: 404,
            statusText: "Not Found",
            /**
       *
       */ json: ()=>Promise.resolve({
                    error: "Position not found"
                })
        });
    });
}
function setupE2ETablebaseMocks() {
    if (typeof window !== "undefined" && process.env.NEXT_PUBLIC_IS_E2E_TEST === "true") {
        logger.info("ðŸ§ª Setting up E2E Tablebase mocks");
        // Override fetch for E2E tests
        const originalFetch = window.fetch;
        window.fetch = (url, init)=>{
            const urlString = typeof url === "string" ? url : url.url;
            if (urlString.includes("lichess.org/api/tablebase/standard") || urlString.includes("tablebase.lichess.ovh/standard")) {
                const urlObj = new URL(urlString);
                const fen = urlObj.searchParams.get("fen");
                logger.debug("ðŸ§ª E2E Tablebase mock intercepted FEN:", fen);
                if (fen) {
                    // First try exact match
                    if (E2E_TABLEBASE_MOCKS[fen]) {
                        const mockData = E2E_TABLEBASE_MOCKS[fen];
                        logger.debug("ðŸ§ª E2E Tablebase mock returning (exact):", mockData);
                        return Promise.resolve(new Response(JSON.stringify(mockData), {
                            status: 200,
                            statusText: "OK",
                            headers: {
                                "Content-Type": "application/json"
                            }
                        }));
                    }
                    // Then try partial match based on the patterns from E2E test
                    let mockData = null;
                    // After Kd6 pattern (test line 47)
                    if (fen.includes("4k3/8/3K4/4P3")) {
                        mockData = {
                            category: "loss",
                            wdl: -2,
                            dtz: -14,
                            dtm: null,
                            precise: true,
                            moves: [
                                {
                                    uci: "e8d7",
                                    move: "e8d7",
                                    san: "Kd7",
                                    dtz: -13,
                                    dtm: null,
                                    wdl: -2,
                                    category: "loss"
                                },
                                {
                                    uci: "e8f8",
                                    move: "e8f8",
                                    san: "Kf8",
                                    dtz: -15,
                                    dtm: null,
                                    wdl: -2,
                                    category: "loss"
                                }
                            ]
                        };
                    } else if (fen.includes("4k3/8/4K3/4P3")) {
                        mockData = {
                            category: "win",
                            wdl: 2,
                            dtz: 17,
                            dtm: null,
                            precise: true,
                            moves: [
                                {
                                    uci: "e6d6",
                                    move: "e6d6",
                                    san: "Kd6",
                                    dtz: 14,
                                    dtm: null,
                                    wdl: 2,
                                    category: "win"
                                },
                                {
                                    uci: "e6f6",
                                    move: "e6f6",
                                    san: "Kf6",
                                    dtz: 18,
                                    dtm: null,
                                    wdl: 2,
                                    category: "win"
                                }
                            ]
                        };
                    } else if (fen.includes("4k3/8/5K2/4P3")) {
                        mockData = {
                            category: "loss",
                            wdl: -2,
                            dtz: -18,
                            dtm: null,
                            precise: true,
                            moves: [
                                {
                                    uci: "e8d8",
                                    move: "e8d8",
                                    san: "Kd8",
                                    dtz: -17,
                                    dtm: null,
                                    wdl: -2,
                                    category: "loss"
                                },
                                {
                                    uci: "e8f7",
                                    move: "e8f7",
                                    san: "Kf7",
                                    dtz: -19,
                                    dtm: null,
                                    wdl: -2,
                                    category: "loss"
                                }
                            ]
                        };
                    }
                    if (mockData) {
                        logger.debug("ðŸ§ª E2E Tablebase mock returning (pattern):", mockData);
                        return Promise.resolve(new Response(JSON.stringify(mockData), {
                            status: 200,
                            statusText: "OK",
                            headers: {
                                "Content-Type": "application/json"
                            }
                        }));
                    }
                }
                // Fallback for unmocked positions
                logger.debug("ðŸ§ª E2E Tablebase mock - no match found for FEN:", fen);
                return Promise.resolve(new Response(JSON.stringify({
                    category: "unknown",
                    wdl: 0,
                    dtz: 0,
                    dtm: null,
                    error: "Position not found in E2E mocks"
                }), {
                    status: 404,
                    statusText: "Not Found"
                }));
            }
            // Use original fetch for other requests
            return originalFetch(url, init);
        };
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RoZWh1L2Nvb2xQcm9qZWN0cy9FbmRnYW1lVHJhaW5lci10cmFpbmluZy1ib2FyZC1jb21wbGV0ZS9zcmMvc2hhcmVkL3NlcnZpY2VzL1RhYmxlYmFzZVNlcnZpY2UuZTJlLm1vY2tzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgRTJFLXNwZWNpZmljIG1vY2tzIGZvciBUYWJsZWJhc2VTZXJ2aWNlXG4gKiBAbW9kdWxlIHNlcnZpY2VzL1RhYmxlYmFzZVNlcnZpY2UuZTJlLm1vY2tzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBQcm92aWRlcyByZWFsaXN0aWMgbW9jayBpbXBsZW1lbnRhdGlvbnMgZm9yIHRoZSBMaWNoZXNzIFRhYmxlYmFzZSBBUElcbiAqIHNwZWNpZmljYWxseSBkZXNpZ25lZCBmb3IgZW5kLXRvLWVuZCB0ZXN0aW5nLiBDb250YWlucyBwcmUtZGVmaW5lZFxuICogcmVzcG9uc2VzIGZvciBjb21tb24gY2hlc3MgZW5kZ2FtZSBwb3NpdGlvbnMgdXNlZCBpbiBFMkUgdGVzdCBzY2VuYXJpb3MuXG4gKlxuICogQHJlbWFya3NcbiAqIEtleSBmZWF0dXJlczpcbiAqIC0gUmVhbGlzdGljIExpY2hlc3MgQVBJIHJlc3BvbnNlIHNpbXVsYXRpb25cbiAqIC0gUHJlLWRlZmluZWQgcmVzcG9uc2VzIGZvciBzcGVjaWZpYyB0ZXN0IHBvc2l0aW9uc1xuICogLSBQYXR0ZXJuLWJhc2VkIG1hdGNoaW5nIGZvciBwb3NpdGlvbiB2YXJpYXRpb25zXG4gKiAtIEJyb3dzZXIgZW52aXJvbm1lbnQgZmV0Y2ggbW9ja2luZ1xuICogLSBDb21wcmVoZW5zaXZlIGxvZ2dpbmcgZm9yIHRlc3QgZGVidWdnaW5nXG4gKiAtIEZhbGxiYWNrIGhhbmRsaW5nIGZvciB1bm1vY2tlZCBwb3NpdGlvbnNcbiAqXG4gKiBUaGUgbW9ja3MgYXJlIGJhc2VkIG9uIGFjdHVhbCBFMkUgdGVzdCBwYXR0ZXJucyBhbmQgcHJvdmlkZSBhY2N1cmF0ZVxuICogdGFibGViYXNlIGV2YWx1YXRpb25zIGZvciBraW5nIGFuZCBwYXduIGVuZGdhbWUgc2NlbmFyaW9zLCBlbnN1cmluZ1xuICogcHJlZGljdGFibGUgdGVzdCBiZWhhdmlvciBhY3Jvc3MgZGlmZmVyZW50IHRlc3QgcnVucy5cbiAqL1xuXG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tIFwiLi9sb2dnaW5nXCI7XG5cbmNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcigpLnNldENvbnRleHQoXCJUYWJsZWJhc2VFMkVNb2Nrc1wiKTtcblxuLyoqXG4gKiBFMkUgdGFibGViYXNlIG1vY2sgcmVzcG9uc2VzIGZvciBzcGVjaWZpYyBjaGVzcyBwb3NpdGlvbnNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFByZS1kZWZpbmVkIG1vY2sgcmVzcG9uc2VzIHRoYXQgbWF0Y2ggcmVhbCBMaWNoZXNzIEFQSSBkYXRhIHN0cnVjdHVyZS5cbiAqIEJhc2VkIG9uIEUyRSB0ZXN0IHBhdHRlcm5zIGZyb20gYWN0dWFsLXBvc2l0aW9uLXRlc3Quc3BlYy50cyBhbmQgcHJvdmlkZXNcbiAqIGFjY3VyYXRlIHRhYmxlYmFzZSBldmFsdWF0aW9ucyBmb3Iga2luZyBhbmQgcGF3biBlbmRnYW1lIHNjZW5hcmlvcy5cbiAqXG4gKiBAcmVtYXJrc1xuICogUmVzcG9uc2Ugc3RydWN0dXJlIG1hdGNoZXMgTGljaGVzcyBBUEk6XG4gKiAtIGNhdGVnb3J5OiAnd2luJywgJ2xvc3MnLCAnZHJhdycsIG9yICd1bmtub3duJ1xuICogLSB3ZGw6IFdpbi9EcmF3L0xvc3MgdmFsdWUgKC0yIHRvICsyKVxuICogLSBkdHo6IERpc3RhbmNlIHRvIHplcm8gKG1vdmVzIHRvIGNvbnZlcnNpb24gb3IgbWF0ZSlcbiAqIC0gZHRtOiBEaXN0YW5jZSB0byBtYXRlICh1c3VhbGx5IG51bGwgZm9yIGVuZGdhbWVzKVxuICogLSBwcmVjaXNlOiBXaGV0aGVyIHRoZSBldmFsdWF0aW9uIGlzIGV4YWN0XG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IHJlc3BvbnNlID0gRTJFX1RBQkxFQkFTRV9NT0NLU1snNGszLzgvNEszLzRQMy84LzgvOC84IHcgLSAtIDAgMSddO1xuICogLy8geyBjYXRlZ29yeTogJ3dpbicsIHdkbDogMiwgZHR6OiAxNywgZHRtOiBudWxsLCBwcmVjaXNlOiB0cnVlIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgRTJFX1RBQkxFQkFTRV9NT0NLUzogUmVjb3JkPHN0cmluZywgYW55PiA9IHtcbiAgLy8gSW5pdGlhbCBwb3NpdGlvbjogS2luZyBhbmQgcGF3biB2cyBLaW5nIChXaGl0ZSB0byBtb3ZlKVxuICAvLyBGRU46IFwiNGszLzgvNEszLzRQMy84LzgvOC84IHcgLSAtIDAgMVwiIChtYXRjaGVzIHRlc3QgbGluZSA2NilcbiAgXCI0azMvOC80SzMvNFAzLzgvOC84LzggdyAtIC0gMCAxXCI6IHtcbiAgICBjYXRlZ29yeTogXCJ3aW5cIixcbiAgICB3ZGw6IDIsXG4gICAgZHR6OiAxNyxcbiAgICBkdG06IG51bGwsXG4gICAgcHJlY2lzZTogdHJ1ZSxcbiAgICBtb3ZlczogW1xuICAgICAge1xuICAgICAgICB1Y2k6IFwiZTZkNlwiLFxuICAgICAgICBtb3ZlOiBcImU2ZDZcIixcbiAgICAgICAgc2FuOiBcIktkNlwiLFxuICAgICAgICBkdHo6IDE0LFxuICAgICAgICBkdG06IG51bGwsXG4gICAgICAgIHdkbDogMixcbiAgICAgICAgY2F0ZWdvcnk6IFwid2luXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVjaTogXCJlNmY2XCIsXG4gICAgICAgIG1vdmU6IFwiZTZmNlwiLFxuICAgICAgICBzYW46IFwiS2Y2XCIsXG4gICAgICAgIGR0ejogMTgsXG4gICAgICAgIGR0bTogbnVsbCxcbiAgICAgICAgd2RsOiAyLFxuICAgICAgICBjYXRlZ29yeTogXCJ3aW5cIlxuICAgICAgfVxuICAgIF1cbiAgfSxcblxuICAvLyBBZnRlciBLZDYgKEJsYWNrIHRvIG1vdmUpIC0gc2hvdWxkIGJlIGxvc3MgZm9yIEJsYWNrID0gd2luIGZvciBXaGl0ZVxuICAvLyBGRU46IFwiNGszLzgvM0s0LzRQMy84LzgvOC84IGIgLSAtIDEgMVwiIChtYXRjaGVzIHRlc3QgbGluZSA0NylcbiAgXCI0azMvOC8zSzQvNFAzLzgvOC84LzggYiAtIC0gMSAxXCI6IHtcbiAgICBjYXRlZ29yeTogXCJsb3NzXCIsIC8vIExvc3MgZm9yIEJsYWNrIChjdXJyZW50IHBsYXllcikgPSBXaW4gZm9yIFdoaXRlXG4gICAgd2RsOiAtMixcbiAgICBkdHo6IC0xNCxcbiAgICBkdG06IG51bGwsXG4gICAgcHJlY2lzZTogdHJ1ZSxcbiAgICBtb3ZlczogW1xuICAgICAge1xuICAgICAgICB1Y2k6IFwiZThkN1wiLFxuICAgICAgICBtb3ZlOiBcImU4ZDdcIixcbiAgICAgICAgc2FuOiBcIktkN1wiLFxuICAgICAgICBkdHo6IC0xMyxcbiAgICAgICAgZHRtOiBudWxsLFxuICAgICAgICB3ZGw6IC0yLFxuICAgICAgICBjYXRlZ29yeTogXCJsb3NzXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVjaTogXCJlOGY4XCIsXG4gICAgICAgIG1vdmU6IFwiZThmOFwiLFxuICAgICAgICBzYW46IFwiS2Y4XCIsXG4gICAgICAgIGR0ejogLTE1LFxuICAgICAgICBkdG06IG51bGwsXG4gICAgICAgIHdkbDogLTIsXG4gICAgICAgIGNhdGVnb3J5OiBcImxvc3NcIlxuICAgICAgfVxuICAgIF1cbiAgfSxcblxuICAvLyBBZnRlciBLZjYgKEJsYWNrIHRvIG1vdmUpIC0gc2hvdWxkIGFsc28gYmUgbG9zcyBmb3IgQmxhY2sgPSB3aW4gZm9yIFdoaXRlXG4gIC8vIEZFTjogXCI0azMvOC81SzIvNFAzLzgvOC84LzggYiAtIC0gMSAxXCJcbiAgXCI0azMvOC81SzIvNFAzLzgvOC84LzggYiAtIC0gMSAxXCI6IHtcbiAgICBjYXRlZ29yeTogXCJsb3NzXCIsIC8vIExvc3MgZm9yIEJsYWNrIChjdXJyZW50IHBsYXllcikgPSBXaW4gZm9yIFdoaXRlXG4gICAgd2RsOiAtMixcbiAgICBkdHo6IC0xOCxcbiAgICBkdG06IG51bGwsXG4gICAgcHJlY2lzZTogdHJ1ZSxcbiAgICBtb3ZlczogW1xuICAgICAge1xuICAgICAgICB1Y2k6IFwiZThkOFwiLFxuICAgICAgICBtb3ZlOiBcImU4ZDhcIixcbiAgICAgICAgc2FuOiBcIktkOFwiLFxuICAgICAgICBkdHo6IC0xNyxcbiAgICAgICAgZHRtOiBudWxsLFxuICAgICAgICB3ZGw6IC0yLFxuICAgICAgICBjYXRlZ29yeTogXCJsb3NzXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVjaTogXCJlOGY3XCIsXG4gICAgICAgIG1vdmU6IFwiZThmN1wiLFxuICAgICAgICBzYW46IFwiS2Y3XCIsXG4gICAgICAgIGR0ejogLTE5LFxuICAgICAgICBkdG06IG51bGwsXG4gICAgICAgIHdkbDogLTIsXG4gICAgICAgIGNhdGVnb3J5OiBcImxvc3NcIlxuICAgICAgfVxuICAgIF1cbiAgfSxcblxuICAvLyBBZnRlciBLZDUgKEJsYWNrIHRvIG1vdmUpIC0gc2hvdWxkIGJlIGRyYXdcbiAgLy8gRkVOOiBcIjRrMy84LzgvM0sxUDIvOC84LzgvOCBiIC0gLSAxIDFcIlxuICBcIjRrMy84LzgvM0sxUDIvOC84LzgvOCBiIC0gLSAxIDFcIjoge1xuICAgIGNhdGVnb3J5OiBcImRyYXdcIixcbiAgICB3ZGw6IDAsXG4gICAgZHR6OiAwLFxuICAgIGR0bTogbnVsbCxcbiAgICBwcmVjaXNlOiB0cnVlLFxuICAgIG1vdmVzOiBbXG4gICAgICB7XG4gICAgICAgIHVjaTogXCJlOGQ3XCIsXG4gICAgICAgIG1vdmU6IFwiZThkN1wiLFxuICAgICAgICBzYW46IFwiS2Q3XCIsXG4gICAgICAgIGR0ejogMCxcbiAgICAgICAgZHRtOiBudWxsLFxuICAgICAgICB3ZGw6IDAsXG4gICAgICAgIGNhdGVnb3J5OiBcImRyYXdcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWNpOiBcImU4ZTdcIixcbiAgICAgICAgbW92ZTogXCJlOGU3XCIsXG4gICAgICAgIHNhbjogXCJLZTdcIixcbiAgICAgICAgZHR6OiAwLFxuICAgICAgICBkdG06IG51bGwsXG4gICAgICAgIHdkbDogMCxcbiAgICAgICAgY2F0ZWdvcnk6IFwiZHJhd1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB1Y2k6IFwiZThmN1wiLFxuICAgICAgICBtb3ZlOiBcImU4ZjdcIixcbiAgICAgICAgc2FuOiBcIktmN1wiLFxuICAgICAgICBkdHo6IDAsXG4gICAgICAgIGR0bTogbnVsbCxcbiAgICAgICAgd2RsOiAwLFxuICAgICAgICBjYXRlZ29yeTogXCJkcmF3XCJcbiAgICAgIH1cbiAgICBdXG4gIH0sXG5cbiAgLy8gQWZ0ZXIgS2Y1IChCbGFjayB0byBtb3ZlKSAtIHNob3VsZCBiZSBkcmF3XG4gIC8vIEZFTjogXCI0azMvOC84LzRQSzIvOC84LzgvOCBiIC0gLSAxIDFcIlxuICBcIjRrMy84LzgvNFBLMi84LzgvOC84IGIgLSAtIDEgMVwiOiB7XG4gICAgY2F0ZWdvcnk6IFwiZHJhd1wiLFxuICAgIHdkbDogMCxcbiAgICBkdHo6IDAsXG4gICAgZHRtOiBudWxsLFxuICAgIHByZWNpc2U6IHRydWUsXG4gICAgbW92ZXM6IFtcbiAgICAgIHtcbiAgICAgICAgdWNpOiBcImU4ZDdcIixcbiAgICAgICAgbW92ZTogXCJlOGQ3XCIsXG4gICAgICAgIHNhbjogXCJLZDdcIixcbiAgICAgICAgZHR6OiAwLFxuICAgICAgICBkdG06IG51bGwsXG4gICAgICAgIHdkbDogMCxcbiAgICAgICAgY2F0ZWdvcnk6IFwiZHJhd1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB1Y2k6IFwiZThlN1wiLFxuICAgICAgICBtb3ZlOiBcImU4ZTdcIixcbiAgICAgICAgc2FuOiBcIktlN1wiLFxuICAgICAgICBkdHo6IDAsXG4gICAgICAgIGR0bTogbnVsbCxcbiAgICAgICAgd2RsOiAwLFxuICAgICAgICBjYXRlZ29yeTogXCJkcmF3XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVjaTogXCJlOGY3XCIsXG4gICAgICAgIG1vdmU6IFwiZThmN1wiLFxuICAgICAgICBzYW46IFwiS2Y3XCIsXG4gICAgICAgIGR0ejogMCxcbiAgICAgICAgZHRtOiBudWxsLFxuICAgICAgICB3ZGw6IDAsXG4gICAgICAgIGNhdGVnb3J5OiBcImRyYXdcIlxuICAgICAgfVxuICAgIF1cbiAgfSxcbn07XG5cbi8qKlxuICogQ3JlYXRlIGZldGNoIG1vY2sgZm9yIEUyRSB0ZXN0cyB0aGF0IHJldHVybnMgcmVhbGlzdGljIHRhYmxlYmFzZSBkYXRhXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgSmVzdCBtb2NrIGZ1bmN0aW9uIHRoYXQgaW50ZXJjZXB0cyBmZXRjaCByZXF1ZXN0cyB0byB0aGVcbiAqIExpY2hlc3MgdGFibGViYXNlIEFQSSBhbmQgcmV0dXJucyBwcmUtZGVmaW5lZCBtb2NrIHJlc3BvbnNlcy4gRGVzaWduZWRcbiAqIHNwZWNpZmljYWxseSBmb3IgdW5pdCBhbmQgaW50ZWdyYXRpb24gdGVzdGluZyBlbnZpcm9ubWVudHMuXG4gKlxuICogQHJldHVybnMge2plc3QuTW9ja30gSmVzdCBtb2NrIGZ1bmN0aW9uIGNvbmZpZ3VyZWQgZm9yIHRhYmxlYmFzZSBBUEkgdGVzdGluZ1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBJbiB0ZXN0IHNldHVwXG4gKiBnbG9iYWwuZmV0Y2ggPSBjcmVhdGVFMkVUYWJsZWJhc2VGZXRjaE1vY2soKTtcbiAqXG4gKiAvLyBUZXN0IHdpbGwgdXNlIG1vY2sgcmVzcG9uc2VzXG4gKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2xpY2hlc3Mub3JnL2FwaS90YWJsZWJhc2Uvc3RhbmRhcmQ/ZmVuPS4uLicpO1xuICogZXhwZWN0KHJlc3BvbnNlLm9rKS50b0JlKHRydWUpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFMkVUYWJsZWJhc2VGZXRjaE1vY2soKSB7XG4gIHJldHVybiBqZXN0LmZuKCh1cmw6IHN0cmluZykgPT4ge1xuICAgIGlmICh1cmwuaW5jbHVkZXMoXCJsaWNoZXNzLm9yZy9hcGkvdGFibGViYXNlL3N0YW5kYXJkXCIpKSB7XG4gICAgICAvLyBFeHRyYWN0IEZFTiBmcm9tIFVSTFxuICAgICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpO1xuICAgICAgY29uc3QgZmVuID0gdXJsT2JqLnNlYXJjaFBhcmFtcy5nZXQoXCJmZW5cIik7XG5cbiAgICAgIGlmIChmZW4gJiYgRTJFX1RBQkxFQkFTRV9NT0NLU1tmZW5dKSB7XG4gICAgICAgIGNvbnN0IG1vY2tEYXRhID0gRTJFX1RBQkxFQkFTRV9NT0NLU1tmZW5dO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZShtb2NrRGF0YSksXG4gICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgc3RhdHVzVGV4dDogXCJPS1wiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgdW5tb2NrZWQgcG9zaXRpb25zXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBzdGF0dXM6IDQwNCxcbiAgICAgIHN0YXR1c1RleHQ6IFwiTm90IEZvdW5kXCIsXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGVycm9yOiBcIlBvc2l0aW9uIG5vdCBmb3VuZFwiIH0pLFxuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBTZXR1cCBFMkUgbW9ja3MgZm9yIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNldHMgdXAgZmV0Y2ggbW9ja2luZyBpbiB0aGUgYnJvd3NlciBlbnZpcm9ubWVudCBmb3IgRTJFIHRlc3RzLlxuICogSW50ZXJjZXB0cyByZXF1ZXN0cyB0byBMaWNoZXNzIHRhYmxlYmFzZSBBUEkgYW5kIHJldHVybnMgbW9jayByZXNwb25zZXNcbiAqIGJhc2VkIG9uIHByZS1kZWZpbmVkIHBvc2l0aW9uIGRhdGEuIE9ubHkgYWN0aXZhdGVzIGluIEUyRSB0ZXN0IG1vZGUuXG4gKlxuICogQHJlbWFya3NcbiAqIEJyb3dzZXIgZW52aXJvbm1lbnQgc2V0dXA6XG4gKiAtIE9ubHkgcnVucyB3aGVuIE5FWFRfUFVCTElDX0lTX0UyRV9URVNUIGlzIHRydWVcbiAqIC0gUHJlc2VydmVzIG9yaWdpbmFsIGZldGNoIGZvciBub24tdGFibGViYXNlIHJlcXVlc3RzXG4gKiAtIFByb3ZpZGVzIGNvbXByZWhlbnNpdmUgbG9nZ2luZyBmb3IgZGVidWdnaW5nXG4gKiAtIFN1cHBvcnRzIGJvdGggZXhhY3QgYW5kIHBhdHRlcm4tYmFzZWQgRkVOIG1hdGNoaW5nXG4gKiAtIEdyYWNlZnVsIGZhbGxiYWNrIGZvciB1bm1vY2tlZCBwb3NpdGlvbnNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gQ2FsbCBkdXJpbmcgYXBwIGluaXRpYWxpemF0aW9uIGluIEUyRSBtb2RlXG4gKiBzZXR1cEUyRVRhYmxlYmFzZU1vY2tzKCk7XG4gKlxuICogLy8gTm93IGFsbCB0YWJsZWJhc2UgQVBJIGNhbGxzIHdpbGwgdXNlIG1vY2tzXG4gKiBjb25zdCBldmFsdWF0aW9uID0gYXdhaXQgdGFibGViYXNlU2VydmljZS5nZXRFdmFsdWF0aW9uKGZlbik7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwRTJFVGFibGViYXNlTW9ja3MoKSB7XG4gIGlmIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfSVNfRTJFX1RFU1QgPT09IFwidHJ1ZVwiXG4gICkge1xuICAgIGxvZ2dlci5pbmZvKFwi8J+nqiBTZXR0aW5nIHVwIEUyRSBUYWJsZWJhc2UgbW9ja3NcIik7XG5cbiAgICAvLyBPdmVycmlkZSBmZXRjaCBmb3IgRTJFIHRlc3RzXG4gICAgY29uc3Qgb3JpZ2luYWxGZXRjaCA9IHdpbmRvdy5mZXRjaDtcblxuICAgIHdpbmRvdy5mZXRjaCA9ICgodXJsOiBzdHJpbmcgfCBSZXF1ZXN0LCBpbml0PzogUmVxdWVzdEluaXQpID0+IHtcbiAgICAgIGNvbnN0IHVybFN0cmluZyA9IHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIgPyB1cmwgOiB1cmwudXJsO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHVybFN0cmluZy5pbmNsdWRlcyhcImxpY2hlc3Mub3JnL2FwaS90YWJsZWJhc2Uvc3RhbmRhcmRcIikgfHxcbiAgICAgICAgdXJsU3RyaW5nLmluY2x1ZGVzKFwidGFibGViYXNlLmxpY2hlc3Mub3ZoL3N0YW5kYXJkXCIpXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmxTdHJpbmcpO1xuICAgICAgICBjb25zdCBmZW4gPSB1cmxPYmouc2VhcmNoUGFyYW1zLmdldChcImZlblwiKTtcblxuICAgICAgICBsb2dnZXIuZGVidWcoXCLwn6eqIEUyRSBUYWJsZWJhc2UgbW9jayBpbnRlcmNlcHRlZCBGRU46XCIsIGZlbik7XG5cbiAgICAgICAgaWYgKGZlbikge1xuICAgICAgICAgIC8vIEZpcnN0IHRyeSBleGFjdCBtYXRjaFxuICAgICAgICAgIGlmIChFMkVfVEFCTEVCQVNFX01PQ0tTW2Zlbl0pIHtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tEYXRhID0gRTJFX1RBQkxFQkFTRV9NT0NLU1tmZW5dO1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKFwi8J+nqiBFMkUgVGFibGViYXNlIG1vY2sgcmV0dXJuaW5nIChleGFjdCk6XCIsIG1vY2tEYXRhKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgICAgIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShtb2NrRGF0YSksIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiBcIk9LXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVGhlbiB0cnkgcGFydGlhbCBtYXRjaCBiYXNlZCBvbiB0aGUgcGF0dGVybnMgZnJvbSBFMkUgdGVzdFxuICAgICAgICAgIGxldCBtb2NrRGF0YTogYW55ID0gbnVsbDtcblxuICAgICAgICAgIC8vIEFmdGVyIEtkNiBwYXR0ZXJuICh0ZXN0IGxpbmUgNDcpXG4gICAgICAgICAgaWYgKGZlbi5pbmNsdWRlcyhcIjRrMy84LzNLNC80UDNcIikpIHtcbiAgICAgICAgICAgIG1vY2tEYXRhID0ge1xuICAgICAgICAgICAgICBjYXRlZ29yeTogXCJsb3NzXCIsIC8vIExvc3MgZm9yIEJsYWNrID0gV2luIGZvciBXaGl0ZVxuICAgICAgICAgICAgICB3ZGw6IC0yLFxuICAgICAgICAgICAgICBkdHo6IC0xNCxcbiAgICAgICAgICAgICAgZHRtOiBudWxsLFxuICAgICAgICAgICAgICBwcmVjaXNlOiB0cnVlLFxuICAgICAgICAgICAgICBtb3ZlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHVjaTogXCJlOGQ3XCIsXG4gICAgICAgICAgICAgICAgICBtb3ZlOiBcImU4ZDdcIixcbiAgICAgICAgICAgICAgICAgIHNhbjogXCJLZDdcIixcbiAgICAgICAgICAgICAgICAgIGR0ejogLTEzLFxuICAgICAgICAgICAgICAgICAgZHRtOiBudWxsLFxuICAgICAgICAgICAgICAgICAgd2RsOiAtMixcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcImxvc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdWNpOiBcImU4ZjhcIixcbiAgICAgICAgICAgICAgICAgIG1vdmU6IFwiZThmOFwiLFxuICAgICAgICAgICAgICAgICAgc2FuOiBcIktmOFwiLFxuICAgICAgICAgICAgICAgICAgZHR6OiAtMTUsXG4gICAgICAgICAgICAgICAgICBkdG06IG51bGwsXG4gICAgICAgICAgICAgICAgICB3ZGw6IC0yLFxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwibG9zc1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJbml0aWFsIHBvc2l0aW9uIHBhdHRlcm4gKHRlc3QgbGluZSA2NilcbiAgICAgICAgICBlbHNlIGlmIChmZW4uaW5jbHVkZXMoXCI0azMvOC80SzMvNFAzXCIpKSB7XG4gICAgICAgICAgICBtb2NrRGF0YSA9IHtcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwid2luXCIsXG4gICAgICAgICAgICAgIHdkbDogMixcbiAgICAgICAgICAgICAgZHR6OiAxNyxcbiAgICAgICAgICAgICAgZHRtOiBudWxsLFxuICAgICAgICAgICAgICBwcmVjaXNlOiB0cnVlLFxuICAgICAgICAgICAgICBtb3ZlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHVjaTogXCJlNmQ2XCIsXG4gICAgICAgICAgICAgICAgICBtb3ZlOiBcImU2ZDZcIixcbiAgICAgICAgICAgICAgICAgIHNhbjogXCJLZDZcIixcbiAgICAgICAgICAgICAgICAgIGR0ejogMTQsXG4gICAgICAgICAgICAgICAgICBkdG06IG51bGwsXG4gICAgICAgICAgICAgICAgICB3ZGw6IDIsXG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJ3aW5cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdWNpOiBcImU2ZjZcIixcbiAgICAgICAgICAgICAgICAgIG1vdmU6IFwiZTZmNlwiLFxuICAgICAgICAgICAgICAgICAgc2FuOiBcIktmNlwiLFxuICAgICAgICAgICAgICAgICAgZHR6OiAxOCxcbiAgICAgICAgICAgICAgICAgIGR0bTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdkbDogMixcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIndpblwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBZnRlciBLZjYgcGF0dGVyblxuICAgICAgICAgIGVsc2UgaWYgKGZlbi5pbmNsdWRlcyhcIjRrMy84LzVLMi80UDNcIikpIHtcbiAgICAgICAgICAgIG1vY2tEYXRhID0ge1xuICAgICAgICAgICAgICBjYXRlZ29yeTogXCJsb3NzXCIsIC8vIExvc3MgZm9yIEJsYWNrID0gV2luIGZvciBXaGl0ZVxuICAgICAgICAgICAgICB3ZGw6IC0yLFxuICAgICAgICAgICAgICBkdHo6IC0xOCxcbiAgICAgICAgICAgICAgZHRtOiBudWxsLFxuICAgICAgICAgICAgICBwcmVjaXNlOiB0cnVlLFxuICAgICAgICAgICAgICBtb3ZlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHVjaTogXCJlOGQ4XCIsXG4gICAgICAgICAgICAgICAgICBtb3ZlOiBcImU4ZDhcIixcbiAgICAgICAgICAgICAgICAgIHNhbjogXCJLZDhcIixcbiAgICAgICAgICAgICAgICAgIGR0ejogLTE3LFxuICAgICAgICAgICAgICAgICAgZHRtOiBudWxsLFxuICAgICAgICAgICAgICAgICAgd2RsOiAtMixcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcImxvc3NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdWNpOiBcImU4ZjdcIixcbiAgICAgICAgICAgICAgICAgIG1vdmU6IFwiZThmN1wiLFxuICAgICAgICAgICAgICAgICAgc2FuOiBcIktmN1wiLFxuICAgICAgICAgICAgICAgICAgZHR6OiAtMTksXG4gICAgICAgICAgICAgICAgICBkdG06IG51bGwsXG4gICAgICAgICAgICAgICAgICB3ZGw6IC0yLFxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwibG9zc1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtb2NrRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICBcIvCfp6ogRTJFIFRhYmxlYmFzZSBtb2NrIHJldHVybmluZyAocGF0dGVybik6XCIsXG4gICAgICAgICAgICAgIG1vY2tEYXRhLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgICAgIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShtb2NrRGF0YSksIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiBcIk9LXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmFsbGJhY2sgZm9yIHVubW9ja2VkIHBvc2l0aW9uc1xuICAgICAgICBsb2dnZXIuZGVidWcoXCLwn6eqIEUyRSBUYWJsZWJhc2UgbW9jayAtIG5vIG1hdGNoIGZvdW5kIGZvciBGRU46XCIsIGZlbik7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgbmV3IFJlc3BvbnNlKFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBjYXRlZ29yeTogXCJ1bmtub3duXCIsXG4gICAgICAgICAgICAgIHdkbDogMCxcbiAgICAgICAgICAgICAgZHR6OiAwLFxuICAgICAgICAgICAgICBkdG06IG51bGwsXG4gICAgICAgICAgICAgIGVycm9yOiBcIlBvc2l0aW9uIG5vdCBmb3VuZCBpbiBFMkUgbW9ja3NcIixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgICAgICAgc3RhdHVzVGV4dDogXCJOb3QgRm91bmRcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXNlIG9yaWdpbmFsIGZldGNoIGZvciBvdGhlciByZXF1ZXN0c1xuICAgICAgcmV0dXJuIG9yaWdpbmFsRmV0Y2godXJsLCBpbml0KTtcbiAgICB9KSBhcyB0eXBlb2YgZmV0Y2g7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJFMkVfVEFCTEVCQVNFX01PQ0tTIiwiY3JlYXRlRTJFVGFibGViYXNlRmV0Y2hNb2NrIiwic2V0dXBFMkVUYWJsZWJhc2VNb2NrcyIsImxvZ2dlciIsImdldExvZ2dlciIsInNldENvbnRleHQiLCJjYXRlZ29yeSIsIndkbCIsImR0eiIsImR0bSIsInByZWNpc2UiLCJtb3ZlcyIsInVjaSIsIm1vdmUiLCJzYW4iLCJqZXN0IiwiZm4iLCJ1cmwiLCJpbmNsdWRlcyIsInVybE9iaiIsIlVSTCIsImZlbiIsInNlYXJjaFBhcmFtcyIsImdldCIsIm1vY2tEYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvayIsImpzb24iLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZXJyb3IiLCJ3aW5kb3ciLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfSVNfRTJFX1RFU1QiLCJpbmZvIiwib3JpZ2luYWxGZXRjaCIsImZldGNoIiwiaW5pdCIsInVybFN0cmluZyIsImRlYnVnIiwiUmVzcG9uc2UiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXFCQzs7Ozs7Ozs7Ozs7UUE0QllBO2VBQUFBOztRQThMR0M7ZUFBQUE7O1FBMkRBQztlQUFBQTs7O3lCQW5SVTtBQUUxQixNQUFNQyxTQUFTQyxJQUFBQSxrQkFBUyxJQUFHQyxVQUFVLENBQUM7QUF3Qi9CLE1BQU1MLHNCQUEyQztJQUN0RCwwREFBMEQ7SUFDMUQsZ0VBQWdFO0lBQ2hFLG1DQUFtQztRQUNqQ00sVUFBVTtRQUNWQyxLQUFLO1FBQ0xDLEtBQUs7UUFDTEMsS0FBSztRQUNMQyxTQUFTO1FBQ1RDLE9BQU87WUFDTDtnQkFDRUMsS0FBSztnQkFDTEMsTUFBTTtnQkFDTkMsS0FBSztnQkFDTE4sS0FBSztnQkFDTEMsS0FBSztnQkFDTEYsS0FBSztnQkFDTEQsVUFBVTtZQUNaO1lBQ0E7Z0JBQ0VNLEtBQUs7Z0JBQ0xDLE1BQU07Z0JBQ05DLEtBQUs7Z0JBQ0xOLEtBQUs7Z0JBQ0xDLEtBQUs7Z0JBQ0xGLEtBQUs7Z0JBQ0xELFVBQVU7WUFDWjtTQUNEO0lBQ0g7SUFFQSx1RUFBdUU7SUFDdkUsZ0VBQWdFO0lBQ2hFLG1DQUFtQztRQUNqQ0EsVUFBVTtRQUNWQyxLQUFLLENBQUM7UUFDTkMsS0FBSyxDQUFDO1FBQ05DLEtBQUs7UUFDTEMsU0FBUztRQUNUQyxPQUFPO1lBQ0w7Z0JBQ0VDLEtBQUs7Z0JBQ0xDLE1BQU07Z0JBQ05DLEtBQUs7Z0JBQ0xOLEtBQUssQ0FBQztnQkFDTkMsS0FBSztnQkFDTEYsS0FBSyxDQUFDO2dCQUNORCxVQUFVO1lBQ1o7WUFDQTtnQkFDRU0sS0FBSztnQkFDTEMsTUFBTTtnQkFDTkMsS0FBSztn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