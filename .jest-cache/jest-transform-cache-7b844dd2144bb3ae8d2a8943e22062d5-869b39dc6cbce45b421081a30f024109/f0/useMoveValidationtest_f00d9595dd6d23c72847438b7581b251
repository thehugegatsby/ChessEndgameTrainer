6ff0878c5ab906777f7a436ecba2d652
/**
 * @file Tests for useMoveValidation hook
 * @module tests/unit/hooks/useMoveValidation
 * 
 * @description
 * Comprehensive tests for the useMoveValidation hook that handles
 * move validation and quality assessment logic.
 * 
 * Tests cover:
 * - Move quality evaluation
 * - Tablebase result processing
 * - Analysis status updates
 * - Error handling and edge cases
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useMoveValidation = require("../../../shared/hooks/useMoveValidation");
// Mock dependencies
const mockTablebaseActions = {
    setAnalysisStatus: jest.fn(),
    setAnalysisResult: jest.fn()
};
const mockTablebaseState = {
    analysisStatus: 'idle',
    analysisResult: null,
    cache: new Map()
};
describe('useMoveValidation', ()=>{
    const defaultProps = {
        lastEvaluation: null,
        currentFen: '8/8/8/8/8/8/8/8 w - - 0 1',
        evaluations: [],
        isEvaluating: false,
        tablebaseState: mockTablebaseState,
        tablebaseActions: mockTablebaseActions
    };
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Hook Initialization', ()=>{
        it('initializes with correct default values', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(defaultProps));
            expect(result.current).toBeDefined();
        // Hook returns move validation utilities
        });
        it('handles missing dependencies gracefully', ()=>{
            const propsWithMissingDeps = {
                ...defaultProps,
                lastEvaluation: undefined,
                evaluations: undefined
            };
            expect(()=>{
                (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(propsWithMissingDeps));
            }).not.toThrow();
        });
    });
    describe('Move Quality Assessment', ()=>{
        it('processes tablebase results correctly', ()=>{
            const mockEvaluation = {
                fen: '8/8/8/8/8/8/8/8 w - - 0 1',
                moves: [
                    {
                        move: 'Kh1',
                        wdl: 1,
                        dtm: 5
                    },
                    {
                        move: 'Kg1',
                        wdl: 0,
                        dtm: 0
                    }
                ],
                isAvailable: true
            };
            const props = {
                ...defaultProps,
                lastEvaluation: mockEvaluation,
                isEvaluating: false
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            // Hook should process the evaluation
            expect(result.current).toBeDefined();
        });
        it('handles unavailable tablebase results', ()=>{
            const mockEvaluation = {
                fen: '8/8/8/8/8/8/8/8 w - - 0 1',
                moves: [],
                isAvailable: false,
                error: 'Position not in tablebase'
            };
            const props = {
                ...defaultProps,
                lastEvaluation: mockEvaluation
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            expect(result.current).toBeDefined();
        });
    });
    describe('Analysis Status Management', ()=>{
        it('updates analysis status when evaluation starts', ()=>{
            const { rerender } = (0, _react.renderHook)((props)=>(0, _useMoveValidation.useMoveValidation)(props), {
                initialProps: {
                    ...defaultProps,
                    isEvaluating: false
                }
            });
            // Start evaluating
            rerender({
                ...defaultProps,
                isEvaluating: true
            });
            // Status should be updated in some way (hook manages internal state)
            expect(mockTablebaseActions.setAnalysisStatus).toHaveBeenCalled();
        });
        it('clears analysis status when evaluation completes', ()=>{
            const { rerender } = (0, _react.renderHook)((props)=>(0, _useMoveValidation.useMoveValidation)(props), {
                initialProps: {
                    ...defaultProps,
                    isEvaluating: true
                }
            });
            // Complete evaluation
            const mockResult = {
                fen: '8/8/8/8/8/8/8/8 w - - 0 1',
                moves: [
                    {
                        move: 'Kh1',
                        wdl: 1
                    }
                ],
                isAvailable: true
            };
            rerender({
                ...defaultProps,
                isEvaluating: false,
                lastEvaluation: mockResult
            });
            expect(mockTablebaseActions.setAnalysisStatus).toHaveBeenCalled();
        });
    });
    describe('Error Handling', ()=>{
        it('handles evaluation errors gracefully', ()=>{
            const mockEvaluation = {
                fen: '8/8/8/8/8/8/8/8 w - - 0 1',
                moves: [],
                isAvailable: false,
                error: 'Network error'
            };
            const props = {
                ...defaultProps,
                lastEvaluation: mockEvaluation
            };
            expect(()=>{
                (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            }).not.toThrow();
        });
        it('handles malformed evaluation data', ()=>{
            const malformedEvaluation = {
                // Missing required fields
                moves: null,
                isAvailable: true
            };
            const props = {
                ...defaultProps,
                lastEvaluation: malformedEvaluation
            };
            expect(()=>{
                (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            }).not.toThrow();
        });
    });
    describe('FEN Position Changes', ()=>{
        it('reacts to FEN changes', ()=>{
            const { rerender } = (0, _react.renderHook)((props)=>(0, _useMoveValidation.useMoveValidation)(props), {
                initialProps: defaultProps
            });
            const newFen = '4k3/8/4K3/4P3/8/8/8/8 w - - 0 1';
            rerender({
                ...defaultProps,
                currentFen: newFen
            });
            // Hook should handle FEN changes
            expect(mockTablebaseActions.setAnalysisStatus).toHaveBeenCalled();
        });
        it('validates FEN format correctly', ()=>{
            const invalidFen = 'invalid-fen-string';
            const props = {
                ...defaultProps,
                currentFen: invalidFen
            };
            expect(()=>{
                (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            }).not.toThrow();
        });
    });
    describe('Evaluation History', ()=>{
        it('processes evaluation history correctly', ()=>{
            const evaluationHistory = [
                {
                    fen: '8/8/8/8/8/8/8/8 w - - 0 1',
                    evaluation: 100
                },
                {
                    fen: '4k3/8/4K3/4P3/8/8/8/8 b - - 1 1',
                    evaluation: -50
                }
            ];
            const props = {
                ...defaultProps,
                evaluations: evaluationHistory
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            expect(result.current).toBeDefined();
        });
        it('handles empty evaluation history', ()=>{
            const props = {
                ...defaultProps,
                evaluations: []
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            expect(result.current).toBeDefined();
        });
    });
    describe('Tablebase State Integration', ()=>{
        it('reads from tablebase state correctly', ()=>{
            const tablebaseStateWithResults = {
                ...mockTablebaseState,
                analysisStatus: 'success',
                analysisResult: {
                    moves: [
                        {
                            move: 'Kh1',
                            wdl: 1,
                            dtm: 3
                        }
                    ]
                }
            };
            const props = {
                ...defaultProps,
                tablebaseState: tablebaseStateWithResults
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            expect(result.current).toBeDefined();
        });
        it('handles tablebase loading states', ()=>{
            const loadingTablebaseState = {
                ...mockTablebaseState,
                analysisStatus: 'loading',
                analysisResult: null
            };
            const props = {
                ...defaultProps,
                tablebaseState: loadingTablebaseState
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            expect(result.current).toBeDefined();
        });
        it('handles tablebase error states', ()=>{
            const errorTablebaseState = {
                ...mockTablebaseState,
                analysisStatus: 'error',
                analysisResult: null
            };
            const props = {
                ...defaultProps,
                tablebaseState: errorTablebaseState
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            expect(result.current).toBeDefined();
        });
    });
    describe('Performance and Memory', ()=>{
        it('maintains stable references between renders', ()=>{
            const { result, rerender } = (0, _react.renderHook)((props)=>(0, _useMoveValidation.useMoveValidation)(props), {
                initialProps: defaultProps
            });
            const initialResult = result.current;
            // Re-render with same props
            rerender(defaultProps);
            // Should maintain reference stability where appropriate
            expect(result.current).toBeDefined();
        });
        it('properly cleans up on unmount', ()=>{
            const { unmount } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(defaultProps));
            // Should not throw on unmount
            expect(()=>{
                unmount();
            }).not.toThrow();
        });
    });
    describe('Complex Scenarios', ()=>{
        it('handles rapid FEN changes', ()=>{
            const { rerender } = (0, _react.renderHook)((props)=>(0, _useMoveValidation.useMoveValidation)(props), {
                initialProps: defaultProps
            });
            // Rapidly change FENs
            const fens = [
                '8/8/8/8/8/8/8/8 w - - 0 1',
                '4k3/8/4K3/4P3/8/8/8/8 w - - 0 1',
                '4k3/8/4K3/8/4P3/8/8/8 b - - 1 1'
            ];
            fens.forEach((fen)=>{
                rerender({
                    ...defaultProps,
                    currentFen: fen
                });
            });
            // Should handle rapid changes gracefully
            expect(mockTablebaseActions.setAnalysisStatus).toHaveBeenCalled();
        });
        it('handles concurrent evaluation states', ()=>{
            const props = {
                ...defaultProps,
                isEvaluating: true,
                lastEvaluation: {
                    fen: '8/8/8/8/8/8/8/8 w - - 0 1',
                    moves: [
                        {
                            move: 'Kh1',
                            wdl: 1
                        }
                    ],
                    isAvailable: true
                }
            };
            expect(()=>{
                (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            }).not.toThrow();
        });
    });
    describe('Integration with Other Hooks', ()=>{
        it('works with evaluation data from usePositionAnalysis', ()=>{
            const mockPositionAnalysisData = {
                fen: '8/8/8/8/8/8/8/8 w - - 0 1',
                moves: [
                    {
                        move: 'Kh1',
                        wdl: 1,
                        dtm: 5,
                        evaluation: 100
                    },
                    {
                        move: 'Kg1',
                        wdl: 0,
                        dtm: 0,
                        evaluation: 0
                    }
                ],
                isAvailable: true,
                bestMove: 'Kh1'
            };
            const props = {
                ...defaultProps,
                lastEvaluation: mockPositionAnalysisData,
                evaluations: [
                    mockPositionAnalysisData
                ]
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            expect(result.current).toBeDefined();
        });
        it('integrates with tablebase store state', ()=>{
            const richTablebaseState = {
                analysisStatus: 'success',
                analysisResult: {
                    position: '8/8/8/8/8/8/8/8 w - - 0 1',
                    moves: [
                        {
                            move: 'Kh1',
                            wdl: 1,
                            dtm: 3
                        },
                        {
                            move: 'Kg1',
                            wdl: -1,
                            dtm: 15
                        }
                    ],
                    bestMove: 'Kh1'
                },
                cache: new Map([
                    [
                        '8/8/8/8/8/8/8/8 w - - 0 1',
                        {
                            wdl: 1,
                            moves: [
                                'Kh1'
                            ]
                        }
                    ]
                ])
            };
            const props = {
                ...defaultProps,
                tablebaseState: richTablebaseState
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useMoveValidation.useMoveValidation)(props));
            expect(result.current).toBeDefined();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RoZWh1L2Nvb2xQcm9qZWN0cy9FbmRnYW1lVHJhaW5lci10cmFpbmluZy1ib2FyZC1jb21wbGV0ZS9zcmMvdGVzdHMvdW5pdC9ob29rcy91c2VNb3ZlVmFsaWRhdGlvbi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgVGVzdHMgZm9yIHVzZU1vdmVWYWxpZGF0aW9uIGhvb2tcbiAqIEBtb2R1bGUgdGVzdHMvdW5pdC9ob29rcy91c2VNb3ZlVmFsaWRhdGlvblxuICogXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbXByZWhlbnNpdmUgdGVzdHMgZm9yIHRoZSB1c2VNb3ZlVmFsaWRhdGlvbiBob29rIHRoYXQgaGFuZGxlc1xuICogbW92ZSB2YWxpZGF0aW9uIGFuZCBxdWFsaXR5IGFzc2Vzc21lbnQgbG9naWMuXG4gKiBcbiAqIFRlc3RzIGNvdmVyOlxuICogLSBNb3ZlIHF1YWxpdHkgZXZhbHVhdGlvblxuICogLSBUYWJsZWJhc2UgcmVzdWx0IHByb2Nlc3NpbmdcbiAqIC0gQW5hbHlzaXMgc3RhdHVzIHVwZGF0ZXNcbiAqIC0gRXJyb3IgaGFuZGxpbmcgYW5kIGVkZ2UgY2FzZXNcbiAqL1xuXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IHVzZU1vdmVWYWxpZGF0aW9uIH0gZnJvbSAnQHNoYXJlZC9ob29rcy91c2VNb3ZlVmFsaWRhdGlvbic7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzXG5jb25zdCBtb2NrVGFibGViYXNlQWN0aW9ucyA9IHtcbiAgc2V0QW5hbHlzaXNTdGF0dXM6IGplc3QuZm4oKSxcbiAgc2V0QW5hbHlzaXNSZXN1bHQ6IGplc3QuZm4oKSxcbn07XG5cbmNvbnN0IG1vY2tUYWJsZWJhc2VTdGF0ZSA9IHtcbiAgYW5hbHlzaXNTdGF0dXM6ICdpZGxlJyBhcyBjb25zdCxcbiAgYW5hbHlzaXNSZXN1bHQ6IG51bGwsXG4gIGNhY2hlOiBuZXcgTWFwKCksXG59O1xuXG5kZXNjcmliZSgndXNlTW92ZVZhbGlkYXRpb24nLCAoKSA9PiB7XG4gIGNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgICBsYXN0RXZhbHVhdGlvbjogbnVsbCxcbiAgICBjdXJyZW50RmVuOiAnOC84LzgvOC84LzgvOC84IHcgLSAtIDAgMScsXG4gICAgZXZhbHVhdGlvbnM6IFtdLFxuICAgIGlzRXZhbHVhdGluZzogZmFsc2UsXG4gICAgdGFibGViYXNlU3RhdGU6IG1vY2tUYWJsZWJhc2VTdGF0ZSxcbiAgICB0YWJsZWJhc2VBY3Rpb25zOiBtb2NrVGFibGViYXNlQWN0aW9ucyxcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0hvb2sgSW5pdGlhbGl6YXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ2luaXRpYWxpemVzIHdpdGggY29ycmVjdCBkZWZhdWx0IHZhbHVlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU1vdmVWYWxpZGF0aW9uKGRlZmF1bHRQcm9wcykpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAvLyBIb29rIHJldHVybnMgbW92ZSB2YWxpZGF0aW9uIHV0aWxpdGllc1xuICAgIH0pO1xuXG4gICAgaXQoJ2hhbmRsZXMgbWlzc2luZyBkZXBlbmRlbmNpZXMgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb3BzV2l0aE1pc3NpbmdEZXBzID0ge1xuICAgICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAgIGxhc3RFdmFsdWF0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIGV2YWx1YXRpb25zOiB1bmRlZmluZWQsXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICByZW5kZXJIb29rKCgpID0+IHVzZU1vdmVWYWxpZGF0aW9uKHByb3BzV2l0aE1pc3NpbmdEZXBzIGFzIGFueSkpO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01vdmUgUXVhbGl0eSBBc3Nlc3NtZW50JywgKCkgPT4ge1xuICAgIGl0KCdwcm9jZXNzZXMgdGFibGViYXNlIHJlc3VsdHMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0V2YWx1YXRpb24gPSB7XG4gICAgICAgIGZlbjogJzgvOC84LzgvOC84LzgvOCB3IC0gLSAwIDEnLFxuICAgICAgICBtb3ZlczogW1xuICAgICAgICAgIHsgbW92ZTogJ0toMScsIHdkbDogMSwgZHRtOiA1IH0sXG4gICAgICAgICAgeyBtb3ZlOiAnS2cxJywgd2RsOiAwLCBkdG06IDAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgaXNBdmFpbGFibGU6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFByb3BzLFxuICAgICAgICBsYXN0RXZhbHVhdGlvbjogbW9ja0V2YWx1YXRpb24sXG4gICAgICAgIGlzRXZhbHVhdGluZzogZmFsc2UsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VNb3ZlVmFsaWRhdGlvbihwcm9wcykpO1xuXG4gICAgICAvLyBIb29rIHNob3VsZCBwcm9jZXNzIHRoZSBldmFsdWF0aW9uXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyB1bmF2YWlsYWJsZSB0YWJsZWJhc2UgcmVzdWx0cycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tFdmFsdWF0aW9uID0ge1xuICAgICAgICBmZW46ICc4LzgvOC84LzgvOC84LzggdyAtIC0gMCAxJyxcbiAgICAgICAgbW92ZXM6IFtdLFxuICAgICAgICBpc0F2YWlsYWJsZTogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnUG9zaXRpb24gbm90IGluIHRhYmxlYmFzZScsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFByb3BzLFxuICAgICAgICBsYXN0RXZhbHVhdGlvbjogbW9ja0V2YWx1YXRpb24sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VNb3ZlVmFsaWRhdGlvbihwcm9wcykpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBbmFseXNpcyBTdGF0dXMgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICBpdCgndXBkYXRlcyBhbmFseXNpcyBzdGF0dXMgd2hlbiBldmFsdWF0aW9uIHN0YXJ0cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soXG4gICAgICAgIChwcm9wcykgPT4gdXNlTW92ZVZhbGlkYXRpb24ocHJvcHMpLFxuICAgICAgICB7IFxuICAgICAgICAgIGluaXRpYWxQcm9wczogeyAuLi5kZWZhdWx0UHJvcHMsIGlzRXZhbHVhdGluZzogZmFsc2UgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICAvLyBTdGFydCBldmFsdWF0aW5nXG4gICAgICByZXJlbmRlcih7IC4uLmRlZmF1bHRQcm9wcywgaXNFdmFsdWF0aW5nOiB0cnVlIH0pO1xuXG4gICAgICAvLyBTdGF0dXMgc2hvdWxkIGJlIHVwZGF0ZWQgaW4gc29tZSB3YXkgKGhvb2sgbWFuYWdlcyBpbnRlcm5hbCBzdGF0ZSlcbiAgICAgIGV4cGVjdChtb2NrVGFibGViYXNlQWN0aW9ucy5zZXRBbmFseXNpc1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2NsZWFycyBhbmFseXNpcyBzdGF0dXMgd2hlbiBldmFsdWF0aW9uIGNvbXBsZXRlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soXG4gICAgICAgIChwcm9wcykgPT4gdXNlTW92ZVZhbGlkYXRpb24ocHJvcHMpLFxuICAgICAgICB7IFxuICAgICAgICAgIGluaXRpYWxQcm9wczogeyAuLi5kZWZhdWx0UHJvcHMsIGlzRXZhbHVhdGluZzogdHJ1ZSB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIC8vIENvbXBsZXRlIGV2YWx1YXRpb25cbiAgICAgIGNvbnN0IG1vY2tSZXN1bHQgPSB7XG4gICAgICAgIGZlbjogJzgvOC84LzgvOC84LzgvOCB3IC0gLSAwIDEnLFxuICAgICAgICBtb3ZlczogW3sgbW92ZTogJ0toMScsIHdkbDogMSB9XSxcbiAgICAgICAgaXNBdmFpbGFibGU6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICByZXJlbmRlcih7IFxuICAgICAgICAuLi5kZWZhdWx0UHJvcHMsIFxuICAgICAgICBpc0V2YWx1YXRpbmc6IGZhbHNlLFxuICAgICAgICBsYXN0RXZhbHVhdGlvbjogbW9ja1Jlc3VsdCxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja1RhYmxlYmFzZUFjdGlvbnMuc2V0QW5hbHlzaXNTdGF0dXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdoYW5kbGVzIGV2YWx1YXRpb24gZXJyb3JzIGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRXZhbHVhdGlvbiA9IHtcbiAgICAgICAgZmVuOiAnOC84LzgvOC84LzgvOC84IHcgLSAtIDAgMScsXG4gICAgICAgIG1vdmVzOiBbXSxcbiAgICAgICAgaXNBdmFpbGFibGU6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ05ldHdvcmsgZXJyb3InLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgbGFzdEV2YWx1YXRpb246IG1vY2tFdmFsdWF0aW9uLFxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgcmVuZGVySG9vaygoKSA9PiB1c2VNb3ZlVmFsaWRhdGlvbihwcm9wcykpO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIGl0KCdoYW5kbGVzIG1hbGZvcm1lZCBldmFsdWF0aW9uIGRhdGEnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtYWxmb3JtZWRFdmFsdWF0aW9uID0ge1xuICAgICAgICAvLyBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgICBtb3ZlczogbnVsbCxcbiAgICAgICAgaXNBdmFpbGFibGU6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFByb3BzLFxuICAgICAgICBsYXN0RXZhbHVhdGlvbjogbWFsZm9ybWVkRXZhbHVhdGlvbiBhcyBhbnksXG4gICAgICB9O1xuXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICByZW5kZXJIb29rKCgpID0+IHVzZU1vdmVWYWxpZGF0aW9uKHByb3BzKSk7XG4gICAgICB9KS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRkVOIFBvc2l0aW9uIENoYW5nZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3JlYWN0cyB0byBGRU4gY2hhbmdlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soXG4gICAgICAgIChwcm9wcykgPT4gdXNlTW92ZVZhbGlkYXRpb24ocHJvcHMpLFxuICAgICAgICB7IFxuICAgICAgICAgIGluaXRpYWxQcm9wczogZGVmYXVsdFByb3BzXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG5ld0ZlbiA9ICc0azMvOC80SzMvNFAzLzgvOC84LzggdyAtIC0gMCAxJztcbiAgICAgIHJlcmVuZGVyKHsgLi4uZGVmYXVsdFByb3BzLCBjdXJyZW50RmVuOiBuZXdGZW4gfSk7XG5cbiAgICAgIC8vIEhvb2sgc2hvdWxkIGhhbmRsZSBGRU4gY2hhbmdlc1xuICAgICAgZXhwZWN0KG1vY2tUYWJsZWJhc2VBY3Rpb25zLnNldEFuYWx5c2lzU3RhdHVzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgndmFsaWRhdGVzIEZFTiBmb3JtYXQgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZEZlbiA9ICdpbnZhbGlkLWZlbi1zdHJpbmcnO1xuICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgY3VycmVudEZlbjogaW52YWxpZEZlbixcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIHJlbmRlckhvb2soKCkgPT4gdXNlTW92ZVZhbGlkYXRpb24ocHJvcHMpKTtcbiAgICAgIH0pLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFdmFsdWF0aW9uIEhpc3RvcnknLCAoKSA9PiB7XG4gICAgaXQoJ3Byb2Nlc3NlcyBldmFsdWF0aW9uIGhpc3RvcnkgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZXZhbHVhdGlvbkhpc3RvcnkgPSBbXG4gICAgICAgIHsgZmVuOiAnOC84LzgvOC84LzgvOC84IHcgLSAtIDAgMScsIGV2YWx1YXRpb246IDEwMCB9LFxuICAgICAgICB7IGZlbjogJzRrMy84LzRLMy80UDMvOC84LzgvOCBiIC0gLSAxIDEnLCBldmFsdWF0aW9uOiAtNTAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAgIGV2YWx1YXRpb25zOiBldmFsdWF0aW9uSGlzdG9yeSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU1vdmVWYWxpZGF0aW9uKHByb3BzKSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdoYW5kbGVzIGVtcHR5IGV2YWx1YXRpb24gaGlzdG9yeScsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAgIGV2YWx1YXRpb25zOiBbXSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU1vdmVWYWxpZGF0aW9uKHByb3BzKSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RhYmxlYmFzZSBTdGF0ZSBJbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgICBpdCgncmVhZHMgZnJvbSB0YWJsZWJhc2Ugc3RhdGUgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgdGFibGViYXNlU3RhdGVXaXRoUmVzdWx0cyA9IHtcbiAgICAgICAgLi4ubW9ja1RhYmxlYmFzZVN0YXRlLFxuICAgICAgICBhbmFseXNpc1N0YXR1czogJ3N1Y2Nlc3MnIGFzIGNvbnN0LFxuICAgICAgICBhbmFseXNpc1Jlc3VsdDoge1xuICAgICAgICAgIG1vdmVzOiBbeyBtb3ZlOiAnS2gxJywgd2RsOiAxLCBkdG06IDMgfV0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFByb3BzLFxuICAgICAgICB0YWJsZWJhc2VTdGF0ZTogdGFibGViYXNlU3RhdGVXaXRoUmVzdWx0cyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU1vdmVWYWxpZGF0aW9uKHByb3BzKSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdoYW5kbGVzIHRhYmxlYmFzZSBsb2FkaW5nIHN0YXRlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvYWRpbmdUYWJsZWJhc2VTdGF0ZSA9IHtcbiAgICAgICAgLi4ubW9ja1RhYmxlYmFzZVN0YXRlLFxuICAgICAgICBhbmFseXNpc1N0YXR1czogJ2xvYWRpbmcnIGFzIGNvbnN0LFxuICAgICAgICBhbmFseXNpc1Jlc3VsdDogbnVsbCxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAgIHRhYmxlYmFzZVN0YXRlOiBsb2FkaW5nVGFibGViYXNlU3RhdGUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VNb3ZlVmFsaWRhdGlvbihwcm9wcykpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyB0YWJsZWJhc2UgZXJyb3Igc3RhdGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JUYWJsZWJhc2VTdGF0ZSA9IHtcbiAgICAgICAgLi4ubW9ja1RhYmxlYmFzZVN0YXRlLFxuICAgICAgICBhbmFseXNpc1N0YXR1czogJ2Vycm9yJyBhcyBjb25zdCxcbiAgICAgICAgYW5hbHlzaXNSZXN1bHQ6IG51bGwsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFByb3BzLFxuICAgICAgICB0YWJsZWJhc2VTdGF0ZTogZXJyb3JUYWJsZWJhc2VTdGF0ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU1vdmVWYWxpZGF0aW9uKHByb3BzKSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIGFuZCBNZW1vcnknLCAoKSA9PiB7XG4gICAgaXQoJ21haW50YWlucyBzdGFibGUgcmVmZXJlbmNlcyBiZXR3ZWVuIHJlbmRlcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soXG4gICAgICAgIChwcm9wcykgPT4gdXNlTW92ZVZhbGlkYXRpb24ocHJvcHMpLFxuICAgICAgICB7IGluaXRpYWxQcm9wczogZGVmYXVsdFByb3BzIH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGluaXRpYWxSZXN1bHQgPSByZXN1bHQuY3VycmVudDtcblxuICAgICAgLy8gUmUtcmVuZGVyIHdpdGggc2FtZSBwcm9wc1xuICAgICAgcmVyZW5kZXIoZGVmYXVsdFByb3BzKTtcblxuICAgICAgLy8gU2hvdWxkIG1haW50YWluIHJlZmVyZW5jZSBzdGFiaWxpdHkgd2hlcmUgYXBwcm9wcmlhdGVcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdwcm9wZXJseSBjbGVhbnMgdXAgb24gdW5tb3VudCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VNb3ZlVmFsaWRhdGlvbihkZWZhdWx0UHJvcHMpKTtcblxuICAgICAgLy8gU2hvdWxkIG5vdCB0aHJvdyBvbiB1bm1vdW50XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICB1bm1vdW50KCk7XG4gICAgICB9KS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29tcGxleCBTY2VuYXJpb3MnLCAoKSA9PiB7XG4gICAgaXQoJ2hhbmRsZXMgcmFwaWQgRkVOIGNoYW5nZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKFxuICAgICAgICAocHJvcHMpID0+IHVzZU1vdmVWYWxpZGF0aW9uKHByb3BzKSxcbiAgICAgICAgeyBpbml0aWFsUHJvcHM6IGRlZmF1bHRQcm9wcyB9XG4gICAgICApO1xuXG4gICAgICAvLyBSYXBpZGx5IGNoYW5nZSBGRU5zXG4gICAgICBjb25zdCBmZW5zID0gW1xuICAgICAgICAnOC84LzgvOC84LzgvOC84IHcgLSAtIDAgMScsXG4gICAgICAgICc0azMvOC80SzMvNFAzLzgvOC84LzggdyAtIC0gMCAxJyxcbiAgICAgICAgJzRrMy84LzRLMy84LzRQMy84LzgvOCBiIC0gLSAxIDEnLFxuICAgICAgXTtcblxuICAgICAgZmVucy5mb3JFYWNoKGZlbiA9PiB7XG4gICAgICAgIHJlcmVuZGVyKHsgLi4uZGVmYXVsdFByb3BzLCBjdXJyZW50RmVuOiBmZW4gfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSByYXBpZCBjaGFuZ2VzIGdyYWNlZnVsbHlcbiAgICAgIGV4cGVjdChtb2NrVGFibGViYXNlQWN0aW9ucy5zZXRBbmFseXNpc1N0YXR1cykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2hhbmRsZXMgY29uY3VycmVudCBldmFsdWF0aW9uIHN0YXRlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAgIGlzRXZhbHVhdGluZzogdHJ1ZSxcbiAgICAgICAgbGFzdEV2YWx1YXRpb246IHtcbiAgICAgICAgICBmZW46ICc4LzgvOC84LzgvOC84LzggdyAtIC0gMCAxJyxcbiAgICAgICAgICBtb3ZlczogW3sgbW92ZTogJ0toMScsIHdkbDogMSB9XSxcbiAgICAgICAgICBpc0F2YWlsYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIHJlbmRlckhvb2soKCkgPT4gdXNlTW92ZVZhbGlkYXRpb24ocHJvcHMpKTtcbiAgICAgIH0pLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdJbnRlZ3JhdGlvbiB3aXRoIE90aGVyIEhvb2tzJywgKCkgPT4ge1xuICAgIGl0KCd3b3JrcyB3aXRoIGV2YWx1YXRpb24gZGF0YSBmcm9tIHVzZVBvc2l0aW9uQW5hbHlzaXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUG9zaXRpb25BbmFseXNpc0RhdGEgPSB7XG4gICAgICAgIGZlbjogJzgvOC84LzgvOC84LzgvOCB3IC0gLSAwIDEnLFxuICAgICAgICBtb3ZlczogW1xuICAgICAgICAgIHsgbW92ZTogJ0toMScsIHdkbDogMSwgZHRtOiA1LCBldmFsdWF0aW9uOiAxMDAgfSxcbiAgICAgICAgICB7IG1vdmU6ICdLZzEnLCB3ZGw6IDAsIGR0bTogMCwgZXZhbHVhdGlvbjogMCB9LFxuICAgICAgICBdLFxuICAgICAgICBpc0F2YWlsYWJsZTogdHJ1ZSxcbiAgICAgICAgYmVzdE1vdmU6ICdLaDEnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgbGFzdEV2YWx1YXRpb246IG1vY2tQb3NpdGlvbkFuYWx5c2lzRGF0YSxcbiAgICAgICAgZXZhbHVhdGlvbnM6IFttb2NrUG9zaXRpb25BbmFseXNpc0RhdGFdLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTW92ZVZhbGlkYXRpb24ocHJvcHMpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2ludGVncmF0ZXMgd2l0aCB0YWJsZWJhc2Ugc3RvcmUgc3RhdGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCByaWNoVGFibGViYXNlU3RhdGUgPSB7XG4gICAgICAgIGFuYWx5c2lzU3RhdHVzOiAnc3VjY2VzcycgYXMgY29uc3QsXG4gICAgICAgIGFuYWx5c2lzUmVzdWx0OiB7XG4gICAgICAgICAgcG9zaXRpb246ICc4LzgvOC84LzgvOC84LzggdyAtIC0gMCAxJyxcbiAgICAgICAgICBtb3ZlczogW1xuICAgICAgICAgICAgeyBtb3ZlOiAnS2gxJywgd2RsOiAxLCBkdG06IDMgfSxcbiAgICAgICAgICAgIHsgbW92ZTogJ0tnMScsIHdkbDogLTEsIGR0bTogMTUgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGJlc3RNb3ZlOiAnS2gxJyxcbiAgICAgICAgfSxcbiAgICAgICAgY2FjaGU6IG5ldyBNYXAoW1xuICAgICAgICAgIFsnOC84LzgvOC84LzgvOC84IHcgLSAtIDAgMScsIHsgd2RsOiAxLCBtb3ZlczogWydLaDEnXSB9XVxuICAgICAgICBdKSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAgIHRhYmxlYmFzZVN0YXRlOiByaWNoVGFibGViYXNlU3RhdGUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VNb3ZlVmFsaWRhdGlvbihwcm9wcykpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbIm1vY2tUYWJsZWJhc2VBY3Rpb25zIiwic2V0QW5hbHlzaXNTdGF0dXMiLCJqZXN0IiwiZm4iLCJzZXRBbmFseXNpc1Jlc3VsdCIsIm1vY2tUYWJsZWJhc2VTdGF0ZSIsImFuYWx5c2lzU3RhdHVzIiwiYW5hbHlzaXNSZXN1bHQiLCJjYWNoZSIsIk1hcCIsImRlc2NyaWJlIiwiZGVmYXVsdFByb3BzIiwibGFzdEV2YWx1YXRpb24iLCJjdXJyZW50RmVuIiwiZXZhbHVhdGlvbnMiLCJpc0V2YWx1YXRpbmciLCJ0YWJsZWJhc2VTdGF0ZSIsInRhYmxlYmFzZUFjdGlvbnMiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVzdWx0IiwicmVuZGVySG9vayIsInVzZU1vdmVWYWxpZGF0aW9uIiwiZXhwZWN0IiwiY3VycmVudCIsInRvQmVEZWZpbmVkIiwicHJvcHNXaXRoTWlzc2luZ0RlcHMiLCJ1bmRlZmluZWQiLCJub3QiLCJ0b1Rocm93IiwibW9ja0V2YWx1YXRpb24iLCJmZW4iLCJtb3ZlcyIsIm1vdmUiLCJ3ZGwiLCJkdG0iLCJpc0F2YWlsYWJsZSIsInByb3BzIiwiZXJyb3IiLCJyZXJlbmRlciIsImluaXRpYWxQcm9wcyIsInRvSGF2ZUJlZW5DYWxsZWQiLCJtb2NrUmVzdWx0IiwibWFsZm9ybWVkRXZhbHVhdGlvbiIsIm5ld0ZlbiIsImludmFsaWRGZW4iLCJldmFsdWF0aW9uSGlzdG9yeSIsImV2YWx1YXRpb24iLCJ0YWJsZWJhc2VTdGF0ZVdpdGhSZXN1bHRzIiwibG9hZGluZ1RhYmxlYmFzZVN0YXRlIiwiZXJyb3JUYWJsZWJhc2VTdGF0ZSIsImluaXRpYWxSZXN1bHQiLCJ1bm1vdW50IiwiZmVucyIsImZvckVhY2giLCJtb2NrUG9zaXRpb25BbmFseXNpc0RhdGEiLCJiZXN0TW92ZSIsInJpY2hUYWJsZWJhc2VTdGF0ZSIsInBvc2l0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7OztDQWFDOzs7O3VCQUUrQjttQ0FDRTtBQUVsQyxvQkFBb0I7QUFDcEIsTUFBTUEsdUJBQXVCO0lBQzNCQyxtQkFBbUJDLEtBQUtDLEVBQUU7SUFDMUJDLG1CQUFtQkYsS0FBS0MsRUFBRTtBQUM1QjtBQUVBLE1BQU1FLHFCQUFxQjtJQUN6QkMsZ0JBQWdCO0lBQ2hCQyxnQkFBZ0I7SUFDaEJDLE9BQU8sSUFBSUM7QUFDYjtBQUVBQyxTQUFTLHFCQUFxQjtJQUM1QixNQUFNQyxlQUFlO1FBQ25CQyxnQkFBZ0I7UUFDaEJDLFlBQVk7UUFDWkMsYUFBYSxFQUFFO1FBQ2ZDLGNBQWM7UUFDZEMsZ0JBQWdCWDtRQUNoQlksa0JBQWtC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