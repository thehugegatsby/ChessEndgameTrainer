d56e6d295ceea175798c60481111ed26
/**
 * @file Advanced endgame navigation menu component
 * @module components/navigation/AdvancedEndgameMenu
 *
 * @description
 * Comprehensive navigation menu for chess endgame training categories.
 * Provides hierarchical navigation through endgame categories and chapters,
 * user statistics display, and progress tracking. Features expandable
 * categories with lazy-loaded chapter data.
 *
 * @remarks
 * Key features:
 * - Hierarchical category and chapter navigation
 * - User statistics display (rating, games played, success rate)
 * - Lazy loading of chapter data on category expansion
 * - Position count display per category
 * - Current position highlighting
 * - Responsive sidebar design with slide-out functionality
 * - Error handling with user-friendly messages
 * - Persistent user stats via localStorage
 *
 * The component integrates with PositionService for data fetching
 * and provides a comprehensive overview of available training content.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get AdvancedEndgameMenu () {
        return AdvancedEndgameMenu;
    },
    get default () {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _link = /*#__PURE__*/ _interop_require_default(require("next/link"));
const _storeConfig = require("../../store/storeConfig");
const _logging = require("../../services/logging");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const logger = (0, _logging.getLogger)().setContext("AdvancedEndgameMenu");
const AdvancedEndgameMenu = ({ isOpen, onClose })=>{
    const dependencies = (0, _storeConfig.getStoreDependencies)();
    const positionService = dependencies === null || dependencies === void 0 ? void 0 : dependencies.positionService;
    const [categories, setCategories] = (0, _react.useState)([]);
    const [isLoading, setIsLoading] = (0, _react.useState)(true);
    const [error, setError] = (0, _react.useState)(null);
    const [userStats, setUserStats] = (0, _react.useState)({
        rating: 1123,
        totalPlayed: 45,
        successRate: 73
    });
    const [totalPositions, setTotalPositions] = (0, _react.useState)(0);
    // Load categories and user stats
    (0, _react.useEffect)(()=>{
        const loadData = async ()=>{
            try {
                // Load user stats from localStorage
                const savedStats = localStorage.getItem("endgame-user-stats");
                if (savedStats) {
                    setUserStats(JSON.parse(savedStats));
                }
                // Skip loading categories if service not available (SSR/build)
                if (!positionService) {
                    setIsLoading(false);
                    return;
                }
                // Fetch categories
                const baseCategories = await positionService.getCategories();
                // Fetch position counts in parallel
                const categoriesWithCounts = await Promise.all(baseCategories.map(async (cat)=>{
                    try {
                        const count = await positionService.getPositionCountByCategory(cat.id);
                        return {
                            ...cat,
                            positionCount: count,
                            isExpanded: false
                        };
                    } catch (err) {
                        logger.error(`Failed to get count for category ${cat.id}`, err);
                        return {
                            ...cat,
                            positionCount: null,
                            isExpanded: false
                        };
                    }
                }));
                setCategories(categoriesWithCounts);
                // Calculate total positions
                const total = categoriesWithCounts.reduce((sum, cat)=>sum + (cat.positionCount || 0), 0);
                setTotalPositions(total);
                setError(null);
            } catch (err) {
                logger.error("Failed to load menu data", err);
                setError("Men√º konnte nicht geladen werden");
            } finally{
                setIsLoading(false);
            }
        };
        if (isOpen) {
            loadData();
        }
    }, [
        isOpen,
        positionService
    ]);
    const toggleCategory = async (categoryId)=>{
        const categoryIndex = categories.findIndex((c)=>c.id === categoryId);
        if (categoryIndex === -1) return;
        const category = categories[categoryIndex];
        // Toggle expansion state
        if (category.isExpanded) {
            setCategories((prev)=>prev.map((c)=>c.id === categoryId ? {
                        ...c,
                        isExpanded: false
                    } : c));
            return;
        }
        // Expand and load chapters if not already loaded
        if (!category.chapters) {
            setCategories((prev)=>prev.map((c)=>c.id === categoryId ? {
                        ...c,
                        isLoadingChapters: true,
                        isExpanded: true
                    } : c));
            try {
                // Check if service is available before loading chapters
                if (!positionService) {
                    throw new Error("Position service not available");
                }
                const chapters = await positionService.getChaptersByCategory(categoryId);
                setCategories((prev)=>prev.map((c)=>c.id === categoryId ? {
                            ...c,
                            chapters,
                            isLoadingChapters: false
                        } : c));
            } catch (err) {
                logger.error(`Failed to load chapters for category ${categoryId}`, err);
                setCategories((prev)=>prev.map((c)=>c.id === categoryId ? {
                            ...c,
                            isLoadingChapters: false,
                            isExpanded: false
                        } : c));
            }
        } else {
            // Just expand if chapters already loaded
            setCategories((prev)=>prev.map((c)=>c.id === categoryId ? {
                        ...c,
                        isExpanded: true
                    } : c));
        }
    };
    const getCompletedPositions = ()=>Math.floor(totalPositions * (userStats.successRate / 100));
    if (!isOpen) return null;
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",
                onClick: onClose
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: `
        fixed left-0 top-0 h-full w-[22rem] bg-gray-900 text-white z-50 transform transition-transform duration-300 ease-in-out
        ${isOpen ? "translate-x-0" : "-translate-x-full"}
        lg:translate-x-0 lg:static lg:z-auto
      `,
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "p-4 border-b border-gray-700",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center justify-between",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                    className: "text-xl font-bold",
                                    children: "Endgame Training"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: onClose,
                                    className: "lg:hidden p-2 hover:bg-gray-800 rounded",
                                    children: "‚úï"
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "p-4 border-b border-gray-700",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                            className: "flex items-center gap-2 w-full p-2 hover:bg-gray-800 rounded text-gray-300",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    className: "text-lg",
                                    children: "‚öôÔ∏è"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    className: "text-sm",
                                    children: "Settings"
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex-1 overflow-y-auto",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "p-4",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_link.default, {
                                    href: "/dashboard",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center gap-3 p-3 bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: "text-lg",
                                                children: "üéØ"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: "font-medium",
                                                children: "All (rated)"
                                            })
                                        ]
                                    })
                                })
                            }),
                            isLoading && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "p-4 text-center text-gray-400",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "animate-pulse",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "h-4 bg-gray-700 rounded mb-2"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "h-4 bg-gray-700 rounded w-3/4"
                                        })
                                    ]
                                })
                            }),
                            error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "p-4 text-center text-red-400",
                                children: error
                            }),
                            !isLoading && !error && categories.map((category)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                            onClick: ()=>toggleCategory(category.id),
                                            className: "w-full flex items-center justify-between p-4 hover:bg-gray-800 transition-colors text-left",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex items-center gap-3",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                            className: "text-lg",
                                                            children: category.icon
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                            className: "font-medium",
                                                            children: category.name
                                                        }),
                                                        category.positionCount !== null && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                            className: "text-xs text-gray-400",
                                                            children: [
                                                                "(",
                                                                category.positionCount,
                                                                ")"
                                                            ]
                                                        })
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: `transform transition-transform ${category.isExpanded ? "rotate-90" : ""}`,
                                                    children: "‚ñ∂"
                                                })
                                            ]
                                        }),
                                        category.isExpanded && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "bg-gray-800",
                                            children: [
                                                category.isLoadingChapters && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "px-8 py-3 text-sm text-gray-400",
                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "animate-pulse",
                                                        children: "Lade Kapitel..."
                                                    })
                                                }),
                                                !category.isLoadingChapters && category.chapters && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                            className: "px-8 py-2",
                                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_link.default, {
                                                                href: `/train/1?category=${category.id}`,
                                                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                                    className: "p-2 hover:bg-gray-700 rounded text-sm text-gray-300",
                                                                    children: "Alle Positionen"
                                                                })
                                                            })
                                                        }),
                                                        category.chapters.map((chapter)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                                className: "px-8 py-1",
                                                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_link.default, {
                                                                    href: `/train/1?chapter=${chapter.id}`,
                                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                        className: "p-2 hover:bg-gray-700 rounded text-sm text-gray-300 flex items-center gap-2",
                                                                        children: [
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                                className: "text-xs",
                                                                                children: "üéØ"
                                                                            }),
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                                children: chapter.name
                                                                            }),
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                                className: "ml-auto text-xs text-gray-500",
                                                                                children: chapter.totalLessons
                                                                            })
                                                                        ]
                                                                    })
                                                                })
                                                            }, chapter.id))
                                                    ]
                                                }),
                                                !category.isLoadingChapters && category.chapters && category.chapters.length === 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "px-8 py-3 text-sm text-gray-500",
                                                    children: "Keine Kapitel verf√ºgbar"
                                                })
                                            ]
                                        })
                                    ]
                                }, category.id)),
                            [
                                "Queen endgames",
                                "Knight endgames",
                                "Bishop endgames"
                            ].map((name)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                    className: "w-full flex items-center justify-between p-4 hover:bg-gray-800 transition-colors text-left text-gray-500",
                                    disabled: true,
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex items-center gap-3",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "text-lg",
                                                    children: name.includes("Queen") ? "‚ôõ" : name.includes("Knight") ? "‚ôû" : "‚ôù"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "font-medium",
                                                    children: name
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            children: "‚ñ∂"
                                        })
                                    ]
                                }, name))
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "border-t border-gray-700 p-4",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "mb-3 text-xs text-gray-400",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "Total Positions: ",
                                            totalPositions
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            "Completed: ",
                                            getCompletedPositions()
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_link.default, {
                                href: "/profile",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center justify-between p-3 hover:bg-gray-800 rounded transition-colors",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex items-center gap-3",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center",
                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        className: "text-sm",
                                                        children: "üë§"
                                                    })
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                            className: "text-sm font-medium",
                                                            children: "D."
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                            className: "text-xs text-gray-400",
                                                            children: [
                                                                "Rating: ",
                                                                userStats.rating
                                                            ]
                                                        })
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            children: "‚ñ∂"
                                        })
                                    ]
                                })
                            })
                        ]
                    })
                ]
            })
        ]
    });
};
const _default = AdvancedEndgameMenu;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RoZWh1L2Nvb2xQcm9qZWN0cy9FbmRnYW1lVHJhaW5lci10cmFpbmluZy1ib2FyZC1jb21wbGV0ZS9zcmMvc2hhcmVkL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9BZHZhbmNlZEVuZGdhbWVNZW51LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIEFkdmFuY2VkIGVuZGdhbWUgbmF2aWdhdGlvbiBtZW51IGNvbXBvbmVudFxuICogQG1vZHVsZSBjb21wb25lbnRzL25hdmlnYXRpb24vQWR2YW5jZWRFbmRnYW1lTWVudVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29tcHJlaGVuc2l2ZSBuYXZpZ2F0aW9uIG1lbnUgZm9yIGNoZXNzIGVuZGdhbWUgdHJhaW5pbmcgY2F0ZWdvcmllcy5cbiAqIFByb3ZpZGVzIGhpZXJhcmNoaWNhbCBuYXZpZ2F0aW9uIHRocm91Z2ggZW5kZ2FtZSBjYXRlZ29yaWVzIGFuZCBjaGFwdGVycyxcbiAqIHVzZXIgc3RhdGlzdGljcyBkaXNwbGF5LCBhbmQgcHJvZ3Jlc3MgdHJhY2tpbmcuIEZlYXR1cmVzIGV4cGFuZGFibGVcbiAqIGNhdGVnb3JpZXMgd2l0aCBsYXp5LWxvYWRlZCBjaGFwdGVyIGRhdGEuXG4gKlxuICogQHJlbWFya3NcbiAqIEtleSBmZWF0dXJlczpcbiAqIC0gSGllcmFyY2hpY2FsIGNhdGVnb3J5IGFuZCBjaGFwdGVyIG5hdmlnYXRpb25cbiAqIC0gVXNlciBzdGF0aXN0aWNzIGRpc3BsYXkgKHJhdGluZywgZ2FtZXMgcGxheWVkLCBzdWNjZXNzIHJhdGUpXG4gKiAtIExhenkgbG9hZGluZyBvZiBjaGFwdGVyIGRhdGEgb24gY2F0ZWdvcnkgZXhwYW5zaW9uXG4gKiAtIFBvc2l0aW9uIGNvdW50IGRpc3BsYXkgcGVyIGNhdGVnb3J5XG4gKiAtIEN1cnJlbnQgcG9zaXRpb24gaGlnaGxpZ2h0aW5nXG4gKiAtIFJlc3BvbnNpdmUgc2lkZWJhciBkZXNpZ24gd2l0aCBzbGlkZS1vdXQgZnVuY3Rpb25hbGl0eVxuICogLSBFcnJvciBoYW5kbGluZyB3aXRoIHVzZXItZnJpZW5kbHkgbWVzc2FnZXNcbiAqIC0gUGVyc2lzdGVudCB1c2VyIHN0YXRzIHZpYSBsb2NhbFN0b3JhZ2VcbiAqXG4gKiBUaGUgY29tcG9uZW50IGludGVncmF0ZXMgd2l0aCBQb3NpdGlvblNlcnZpY2UgZm9yIGRhdGEgZmV0Y2hpbmdcbiAqIGFuZCBwcm92aWRlcyBhIGNvbXByZWhlbnNpdmUgb3ZlcnZpZXcgb2YgYXZhaWxhYmxlIHRyYWluaW5nIGNvbnRlbnQuXG4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IGdldFN0b3JlRGVwZW5kZW5jaWVzIH0gZnJvbSBcIkBzaGFyZWQvc3RvcmUvc3RvcmVDb25maWdcIjtcbmltcG9ydCB7IEVuZGdhbWVDYXRlZ29yeSwgRW5kZ2FtZUNoYXB0ZXIgfSBmcm9tIFwiQHNoYXJlZC90eXBlc1wiO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSBcIkBzaGFyZWQvc2VydmljZXMvbG9nZ2luZ1wiO1xuXG5jb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoKS5zZXRDb250ZXh0KFwiQWR2YW5jZWRFbmRnYW1lTWVudVwiKTtcblxuLyoqXG4gKiBQcm9wcyBmb3IgdGhlIEFkdmFuY2VkRW5kZ2FtZU1lbnUgY29tcG9uZW50XG4gKlxuICogQGludGVyZmFjZSBBZHZhbmNlZEVuZGdhbWVNZW51UHJvcHNcbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzT3BlbiAtIFdoZXRoZXIgdGhlIG1lbnUgaXMgY3VycmVudGx5IHZpc2libGVcbiAqIEBwcm9wZXJ0eSB7KCkgPT4gdm9pZH0gb25DbG9zZSAtIENhbGxiYWNrIHRvIGNsb3NlIHRoZSBtZW51XG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRQb3NpdGlvbklkXSAtIElEIG9mIGN1cnJlbnRseSBhY3RpdmUgcG9zaXRpb24gZm9yIGhpZ2hsaWdodGluZ1xuICovXG5pbnRlcmZhY2UgQWR2YW5jZWRFbmRnYW1lTWVudVByb3BzIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICBjdXJyZW50UG9zaXRpb25JZD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBVc2VyIHN0YXRpc3RpY3MgZGF0YSBzdHJ1Y3R1cmVcbiAqXG4gKiBAaW50ZXJmYWNlIFVzZXJTdGF0c1xuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByYXRpbmcgLSBVc2VyJ3MgY3VycmVudCByYXRpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3RhbFBsYXllZCAtIFRvdGFsIG51bWJlciBvZiBnYW1lcyBwbGF5ZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdWNjZXNzUmF0ZSAtIFN1Y2Nlc3MgcmF0ZSBhcyBwZXJjZW50YWdlICgwLTEwMClcbiAqL1xuaW50ZXJmYWNlIFVzZXJTdGF0cyB7XG4gIHJhdGluZzogbnVtYmVyO1xuICB0b3RhbFBsYXllZDogbnVtYmVyO1xuICBzdWNjZXNzUmF0ZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEV4dGVuZGVkIGNhdGVnb3J5IGRhdGEgd2l0aCBuYXZpZ2F0aW9uIHN0YXRlXG4gKlxuICogQGludGVyZmFjZSBDYXRlZ29yeVdpdGhEZXRhaWxzXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV4dGVuZHMgdGhlIGJhc2UgRW5kZ2FtZUNhdGVnb3J5IHdpdGggYWRkaXRpb25hbCBzdGF0ZSBmb3IgbmF2aWdhdGlvblxuICogYW5kIGxhenkgbG9hZGluZyBmdW5jdGlvbmFsaXR5LlxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyIHwgbnVsbH0gcG9zaXRpb25Db3VudCAtIE51bWJlciBvZiBwb3NpdGlvbnMgaW4gY2F0ZWdvcnlcbiAqIEBwcm9wZXJ0eSB7RW5kZ2FtZUNoYXB0ZXJbXX0gW2NoYXB0ZXJzXSAtIExvYWRlZCBjaGFwdGVycyBmb3IgdGhpcyBjYXRlZ29yeVxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNMb2FkaW5nQ2hhcHRlcnNdIC0gV2hldGhlciBjaGFwdGVycyBhcmUgY3VycmVudGx5IGxvYWRpbmdcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzRXhwYW5kZWRdIC0gV2hldGhlciB0aGUgY2F0ZWdvcnkgaXMgZXhwYW5kZWQgaW4gdGhlIFVJXG4gKi9cbmludGVyZmFjZSBDYXRlZ29yeVdpdGhEZXRhaWxzIGV4dGVuZHMgRW5kZ2FtZUNhdGVnb3J5IHtcbiAgcG9zaXRpb25Db3VudDogbnVtYmVyIHwgbnVsbDtcbiAgY2hhcHRlcnM/OiBFbmRnYW1lQ2hhcHRlcltdO1xuICBpc0xvYWRpbmdDaGFwdGVycz86IGJvb2xlYW47XG4gIGlzRXhwYW5kZWQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEFkdmFuY2VkIGVuZGdhbWUgbmF2aWdhdGlvbiBtZW51IGNvbXBvbmVudFxuICpcbiAqIEBjb21wb25lbnRcbiAqIEBkZXNjcmlwdGlvblxuICogQ29tcHJlaGVuc2l2ZSBuYXZpZ2F0aW9uIHNpZGViYXIgZm9yIGNoZXNzIGVuZGdhbWUgdHJhaW5pbmcuIERpc3BsYXlzXG4gKiBoaWVyYXJjaGljYWwgY2F0ZWdvcmllcyBhbmQgY2hhcHRlcnMsIHVzZXIgc3RhdGlzdGljcywgYW5kIHByb3ZpZGVzXG4gKiBkaXJlY3QgbmF2aWdhdGlvbiB0byB0cmFpbmluZyBwb3NpdGlvbnMuIEZlYXR1cmVzIGxhenkgbG9hZGluZyBmb3JcbiAqIHBlcmZvcm1hbmNlIGFuZCBtYWludGFpbnMgc3RhdGUgYWNyb3NzIHNlc3Npb25zLlxuICpcbiAqIEByZW1hcmtzXG4gKiBDb21wb25lbnQgYmVoYXZpb3I6XG4gKiAtIExvYWRzIGFsbCBjYXRlZ29yaWVzIG9uIG1vdW50IHdpdGggcG9zaXRpb24gY291bnRzXG4gKiAtIEV4cGFuZHMgY2F0ZWdvcmllcyBvbiBjbGljayB0byBsb2FkIGNoYXB0ZXJzXG4gKiAtIERpc3BsYXlzIHVzZXIgc3RhdGlzdGljcyBmcm9tIGxvY2FsU3RvcmFnZVxuICogLSBIaWdobGlnaHRzIGN1cnJlbnQgcG9zaXRpb24gd2hlbiBwcm92aWRlZFxuICogLSBIYW5kbGVzIGxvYWRpbmcgc3RhdGVzIGFuZCBlcnJvciBjb25kaXRpb25zIGdyYWNlZnVsbHlcbiAqIC0gUHJvdmlkZXMgcmVzcG9uc2l2ZSBkZXNpZ24gd2l0aCBzbGlkZS1vdXQgZnVuY3Rpb25hbGl0eVxuICpcbiAqIERhdGEgZmxvdzpcbiAqIDEuIEluaXRpYWwgbG9hZDogRmV0Y2ggYWxsIGNhdGVnb3JpZXMgd2l0aCBwb3NpdGlvbiBjb3VudHNcbiAqIDIuIFVzZXIgc3RhdHM6IExvYWQgZnJvbSBsb2NhbFN0b3JhZ2Ugd2l0aCBkZWZhdWx0c1xuICogMy4gQ2F0ZWdvcnkgZXhwYW5zaW9uOiBMYXp5IGxvYWQgY2hhcHRlcnMgb24gZGVtYW5kXG4gKiA0LiBOYXZpZ2F0aW9uOiBEaXJlY3QgbGlua3MgdG8gdHJhaW5pbmcgcG9zaXRpb25zXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzeFxuICogLy8gQmFzaWMgdXNhZ2UgaW4gbGF5b3V0XG4gKiA8QWR2YW5jZWRFbmRnYW1lTWVudVxuICogICBpc09wZW49e21lbnVPcGVufVxuICogICBvbkNsb3NlPXsoKSA9PiBzZXRNZW51T3BlbihmYWxzZSl9XG4gKiAvPlxuICpcbiAqIC8vIFdpdGggY3VycmVudCBwb3NpdGlvbiBoaWdobGlnaHRpbmdcbiAqIDxBZHZhbmNlZEVuZGdhbWVNZW51XG4gKiAgIGlzT3Blbj17dHJ1ZX1cbiAqICAgb25DbG9zZT17aGFuZGxlQ2xvc2V9XG4gKiAgIGN1cnJlbnRQb3NpdGlvbklkPXs1fVxuICogLz5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7QWR2YW5jZWRFbmRnYW1lTWVudVByb3BzfSBwcm9wcyAtIE5hdmlnYXRpb24gbWVudSBjb25maWd1cmF0aW9uXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IFJlbmRlcmVkIG5hdmlnYXRpb24gbWVudSB3aXRoIGNhdGVnb3JpZXMgYW5kIHN0YXRzXG4gKi9cbmV4cG9ydCBjb25zdCBBZHZhbmNlZEVuZGdhbWVNZW51OiBSZWFjdC5GQzxBZHZhbmNlZEVuZGdhbWVNZW51UHJvcHM+ID0gKHtcbiAgaXNPcGVuLFxuICBvbkNsb3NlLFxufSkgPT4ge1xuICBjb25zdCBkZXBlbmRlbmNpZXMgPSBnZXRTdG9yZURlcGVuZGVuY2llcygpO1xuICBjb25zdCBwb3NpdGlvblNlcnZpY2UgPSBkZXBlbmRlbmNpZXM/LnBvc2l0aW9uU2VydmljZTtcbiAgY29uc3QgW2NhdGVnb3JpZXMsIHNldENhdGVnb3JpZXNdID0gdXNlU3RhdGU8Q2F0ZWdvcnlXaXRoRGV0YWlsc1tdPihbXSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3VzZXJTdGF0cywgc2V0VXNlclN0YXRzXSA9IHVzZVN0YXRlPFVzZXJTdGF0cz4oe1xuICAgIHJhdGluZzogMTEyMyxcbiAgICB0b3RhbFBsYXllZDogNDUsXG4gICAgc3VjY2Vzc1JhdGU6IDczLFxuICB9KTtcbiAgY29uc3QgW3RvdGFsUG9zaXRpb25zLCBzZXRUb3RhbFBvc2l0aW9uc10gPSB1c2VTdGF0ZSgwKTtcblxuICAvLyBMb2FkIGNhdGVnb3JpZXMgYW5kIHVzZXIgc3RhdHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIExvYWQgdXNlciBzdGF0cyBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICBjb25zdCBzYXZlZFN0YXRzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJlbmRnYW1lLXVzZXItc3RhdHNcIik7XG4gICAgICAgIGlmIChzYXZlZFN0YXRzKSB7XG4gICAgICAgICAgc2V0VXNlclN0YXRzKEpTT04ucGFyc2Uoc2F2ZWRTdGF0cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCBsb2FkaW5nIGNhdGVnb3JpZXMgaWYgc2VydmljZSBub3QgYXZhaWxhYmxlIChTU1IvYnVpbGQpXG4gICAgICAgIGlmICghcG9zaXRpb25TZXJ2aWNlKSB7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGZXRjaCBjYXRlZ29yaWVzXG4gICAgICAgIGNvbnN0IGJhc2VDYXRlZ29yaWVzID0gYXdhaXQgcG9zaXRpb25TZXJ2aWNlLmdldENhdGVnb3JpZXMoKTtcblxuICAgICAgICAvLyBGZXRjaCBwb3NpdGlvbiBjb3VudHMgaW4gcGFyYWxsZWxcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllc1dpdGhDb3VudHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBiYXNlQ2F0ZWdvcmllcy5tYXAoYXN5bmMgKGNhdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBhd2FpdCBwb3NpdGlvblNlcnZpY2UuZ2V0UG9zaXRpb25Db3VudEJ5Q2F0ZWdvcnkoXG4gICAgICAgICAgICAgICAgY2F0LmlkLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmNhdCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkNvdW50OiBjb3VudCxcbiAgICAgICAgICAgICAgICBpc0V4cGFuZGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgfSBhcyBDYXRlZ29yeVdpdGhEZXRhaWxzO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGdldCBjb3VudCBmb3IgY2F0ZWdvcnkgJHtjYXQuaWR9YCwgZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5jYXQsXG4gICAgICAgICAgICAgICAgcG9zaXRpb25Db3VudDogbnVsbCxcbiAgICAgICAgICAgICAgICBpc0V4cGFuZGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgfSBhcyBDYXRlZ29yeVdpdGhEZXRhaWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIHNldENhdGVnb3JpZXMoY2F0ZWdvcmllc1dpdGhDb3VudHMpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBwb3NpdGlvbnNcbiAgICAgICAgY29uc3QgdG90YWwgPSBjYXRlZ29yaWVzV2l0aENvdW50cy5yZWR1Y2UoXG4gICAgICAgICAgKHN1bSwgY2F0KSA9PiBzdW0gKyAoY2F0LnBvc2l0aW9uQ291bnQgfHwgMCksXG4gICAgICAgICAgMCxcbiAgICAgICAgKTtcbiAgICAgICAgc2V0VG90YWxQb3NpdGlvbnModG90YWwpO1xuXG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBsb2FkIG1lbnUgZGF0YVwiLCBlcnIpO1xuICAgICAgICBzZXRFcnJvcihcIk1lbsO8IGtvbm50ZSBuaWNodCBnZWxhZGVuIHdlcmRlblwiKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIGxvYWREYXRhKCk7XG4gICAgfVxuICB9LCBbaXNPcGVuLCBwb3NpdGlvblNlcnZpY2VdKTtcblxuICBjb25zdCB0b2dnbGVDYXRlZ29yeSA9IGFzeW5jIChjYXRlZ29yeUlkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjYXRlZ29yeUluZGV4ID0gY2F0ZWdvcmllcy5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNhdGVnb3J5SWQpO1xuICAgIGlmIChjYXRlZ29yeUluZGV4ID09PSAtMSkgcmV0dXJuO1xuXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBjYXRlZ29yaWVzW2NhdGVnb3J5SW5kZXhdO1xuXG4gICAgLy8gVG9nZ2xlIGV4cGFuc2lvbiBzdGF0ZVxuICAgIGlmIChjYXRlZ29yeS5pc0V4cGFuZGVkKSB7XG4gICAgICBzZXRDYXRlZ29yaWVzKChwcmV2KSA9PlxuICAgICAgICBwcmV2Lm1hcCgoYykgPT5cbiAgICAgICAgICBjLmlkID09PSBjYXRlZ29yeUlkID8geyAuLi5jLCBpc0V4cGFuZGVkOiBmYWxzZSB9IDogYyxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRXhwYW5kIGFuZCBsb2FkIGNoYXB0ZXJzIGlmIG5vdCBhbHJlYWR5IGxvYWRlZFxuICAgIGlmICghY2F0ZWdvcnkuY2hhcHRlcnMpIHtcbiAgICAgIHNldENhdGVnb3JpZXMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChjKSA9PlxuICAgICAgICAgIGMuaWQgPT09IGNhdGVnb3J5SWRcbiAgICAgICAgICAgID8geyAuLi5jLCBpc0xvYWRpbmdDaGFwdGVyczogdHJ1ZSwgaXNFeHBhbmRlZDogdHJ1ZSB9XG4gICAgICAgICAgICA6IGMsXG4gICAgICAgICksXG4gICAgICApO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBDaGVjayBpZiBzZXJ2aWNlIGlzIGF2YWlsYWJsZSBiZWZvcmUgbG9hZGluZyBjaGFwdGVyc1xuICAgICAgICBpZiAoIXBvc2l0aW9uU2VydmljZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBvc2l0aW9uIHNlcnZpY2Ugbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFwdGVycyA9XG4gICAgICAgICAgYXdhaXQgcG9zaXRpb25TZXJ2aWNlLmdldENoYXB0ZXJzQnlDYXRlZ29yeShjYXRlZ29yeUlkKTtcbiAgICAgICAgc2V0Q2F0ZWdvcmllcygocHJldikgPT5cbiAgICAgICAgICBwcmV2Lm1hcCgoYykgPT5cbiAgICAgICAgICAgIGMuaWQgPT09IGNhdGVnb3J5SWRcbiAgICAgICAgICAgICAgPyB7IC4uLmMsIGNoYXB0ZXJzLCBpc0xvYWRpbmdDaGFwdGVyczogZmFsc2UgfVxuICAgICAgICAgICAgICA6IGMsXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBsb2FkIGNoYXB0ZXJzIGZvciBjYXRlZ29yeSAke2NhdGVnb3J5SWR9YCwgZXJyKTtcbiAgICAgICAgc2V0Q2F0ZWdvcmllcygocHJldikgPT5cbiAgICAgICAgICBwcmV2Lm1hcCgoYykgPT5cbiAgICAgICAgICAgIGMuaWQgPT09IGNhdGVnb3J5SWRcbiAgICAgICAgICAgICAgPyB7IC4uLmMsIGlzTG9hZGluZ0NoYXB0ZXJzOiBmYWxzZSwgaXNFeHBhbmRlZDogZmFsc2UgfVxuICAgICAgICAgICAgICA6IGMsXG4gICAgICAgICAgKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSnVzdCBleHBhbmQgaWYgY2hhcHRlcnMgYWxyZWFkeSBsb2FkZWRcbiAgICAgIHNldENhdGVnb3JpZXMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChjKSA9PiAoYy5pZCA9PT0gY2F0ZWdvcnlJZCA/IHsgLi4uYywgaXNFeHBhbmRlZDogdHJ1ZSB9IDogYykpLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0Q29tcGxldGVkUG9zaXRpb25zID0gKCkgPT5cbiAgICBNYXRoLmZsb29yKHRvdGFsUG9zaXRpb25zICogKHVzZXJTdGF0cy5zdWNjZXNzUmF0ZSAvIDEwMCkpO1xuXG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7LyogQmFja2Ryb3AgKi99XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCB6LTQwIGxnOmhpZGRlblwiXG4gICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAvPlxuXG4gICAgICB7LyogTWVudSBTaWRlYmFyICovfVxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgZml4ZWQgbGVmdC0wIHRvcC0wIGgtZnVsbCB3LVsyMnJlbV0gYmctZ3JheS05MDAgdGV4dC13aGl0ZSB6LTUwIHRyYW5zZm9ybSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDAgZWFzZS1pbi1vdXRcbiAgICAgICAgJHtpc09wZW4gPyBcInRyYW5zbGF0ZS14LTBcIiA6IFwiLXRyYW5zbGF0ZS14LWZ1bGxcIn1cbiAgICAgICAgbGc6dHJhbnNsYXRlLXgtMCBsZzpzdGF0aWMgbGc6ei1hdXRvXG4gICAgICBgfVxuICAgICAgPlxuICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkXCI+RW5kZ2FtZSBUcmFpbmluZzwvaDI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxnOmhpZGRlbiBwLTIgaG92ZXI6YmctZ3JheS04MDAgcm91bmRlZFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIOKclVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTZXR0aW5ncyBJY29uICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHctZnVsbCBwLTIgaG92ZXI6YmctZ3JheS04MDAgcm91bmRlZCB0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+4pqZ77iPPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbVwiPlNldHRpbmdzPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogTWVudSBDb250ZW50ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICB7LyogQWxsIChyYXRlZCkgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvZGFzaGJvYXJkXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcC0zIGJnLWJsdWUtNjAwIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+8J+Orzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPkFsbCAocmF0ZWQpPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBMb2FkaW5nIFN0YXRlICovfVxuICAgICAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtcHVsc2VcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtNCBiZy1ncmF5LTcwMCByb3VuZGVkIG1iLTJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtNCBiZy1ncmF5LTcwMCByb3VuZGVkIHctMy80XCI+PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBFcnJvciBTdGF0ZSAqL31cbiAgICAgICAgICB7ZXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJwLTQgdGV4dC1jZW50ZXIgdGV4dC1yZWQtNDAwXCI+e2Vycm9yfTwvZGl2Pn1cblxuICAgICAgICAgIHsvKiBDYXRlZ29yaWVzICovfVxuICAgICAgICAgIHshaXNMb2FkaW5nICYmXG4gICAgICAgICAgICAhZXJyb3IgJiZcbiAgICAgICAgICAgIGNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17Y2F0ZWdvcnkuaWR9PlxuICAgICAgICAgICAgICAgIHsvKiBDYXRlZ29yeSBIZWFkZXIgKi99XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlQ2F0ZWdvcnkoY2F0ZWdvcnkuaWQpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTQgaG92ZXI6YmctZ3JheS04MDAgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1sZWZ0XCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbGdcIj57Y2F0ZWdvcnkuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e2NhdGVnb3J5Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnkucG9zaXRpb25Db3VudCAhPT0gbnVsbCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAoe2NhdGVnb3J5LnBvc2l0aW9uQ291bnR9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdHJhbnNmb3JtIHRyYW5zaXRpb24tdHJhbnNmb3JtICR7XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkuaXNFeHBhbmRlZCA/IFwicm90YXRlLTkwXCIgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDilrZcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIHsvKiBDaGFwdGVycyAtIExhenkgTG9hZGVkICovfVxuICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5pc0V4cGFuZGVkICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgey8qIExvYWRpbmcgY2hhcHRlcnMgKi99XG4gICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5pc0xvYWRpbmdDaGFwdGVycyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC04IHB5LTMgdGV4dC1zbSB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtcHVsc2VcIj5MYWRlIEthcGl0ZWwuLi48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICB7LyogQ2hhcHRlcnMgKi99XG4gICAgICAgICAgICAgICAgICAgIHshY2F0ZWdvcnkuaXNMb2FkaW5nQ2hhcHRlcnMgJiYgY2F0ZWdvcnkuY2hhcHRlcnMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQWxsIHBvc2l0aW9ucyBpbiBjYXRlZ29yeSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtOCBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvdHJhaW4vMT9jYXRlZ29yeT0ke2NhdGVnb3J5LmlkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yIGhvdmVyOmJnLWdyYXktNzAwIHJvdW5kZWQgdGV4dC1zbSB0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxlIFBvc2l0aW9uZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBJbmRpdmlkdWFsIGNoYXB0ZXJzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5LmNoYXB0ZXJzLm1hcCgoY2hhcHRlcikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y2hhcHRlci5pZH0gY2xhc3NOYW1lPVwicHgtOCBweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC90cmFpbi8xP2NoYXB0ZXI9JHtjaGFwdGVyLmlkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgaG92ZXI6YmctZ3JheS03MDAgcm91bmRlZCB0ZXh0LXNtIHRleHQtZ3JheS0zMDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14c1wiPvCfjq88L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntjaGFwdGVyLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC1hdXRvIHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaGFwdGVyLnRvdGFsTGVzc29uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBObyBjaGFwdGVycyBtZXNzYWdlICovfVxuICAgICAgICAgICAgICAgICAgICB7IWNhdGVnb3J5LmlzTG9hZGluZ0NoYXB0ZXJzICYmXG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkuY2hhcHRlcnMgJiZcbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5jaGFwdGVycy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC04IHB5LTMgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEtlaW5lIEthcGl0ZWwgdmVyZsO8Z2JhclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG5cbiAgICAgICAgICB7LyogRnV0dXJlIENhdGVnb3JpZXMgKHBsYWNlaG9sZGVyKSAqL31cbiAgICAgICAgICB7W1wiUXVlZW4gZW5kZ2FtZXNcIiwgXCJLbmlnaHQgZW5kZ2FtZXNcIiwgXCJCaXNob3AgZW5kZ2FtZXNcIl0ubWFwKFxuICAgICAgICAgICAgKG5hbWUpID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17bmFtZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNCBob3ZlcjpiZy1ncmF5LTgwMCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LWxlZnQgdGV4dC1ncmF5LTUwMFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAge25hbWUuaW5jbHVkZXMoXCJRdWVlblwiKVxuICAgICAgICAgICAgICAgICAgICAgID8gXCLimZtcIlxuICAgICAgICAgICAgICAgICAgICAgIDogbmFtZS5pbmNsdWRlcyhcIktuaWdodFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIuKZnlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwi4pmdXCJ9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntuYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3Bhbj7ilrY8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogVXNlciBQcm9maWxlIFNlY3Rpb24gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktNzAwIHAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMyB0ZXh0LXhzIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIDxkaXY+VG90YWwgUG9zaXRpb25zOiB7dG90YWxQb3NpdGlvbnN9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PkNvbXBsZXRlZDoge2dldENvbXBsZXRlZFBvc2l0aW9ucygpfTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxMaW5rIGhyZWY9XCIvcHJvZmlsZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC0zIGhvdmVyOmJnLWdyYXktODAwIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1ncmF5LTYwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIj7wn5GkPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5ELjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgUmF0aW5nOiB7dXNlclN0YXRzLnJhdGluZ31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHNwYW4+4pa2PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQWR2YW5jZWRFbmRnYW1lTWVudTtcbiJdLCJuYW1lcyI6WyJBZHZhbmNlZEVuZGdhbWVNZW51IiwibG9nZ2VyIiwiZ2V0TG9nZ2VyIiwic2V0Q29udGV4dCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJkZXBlbmRlbmNpZXMiLCJnZXRTdG9yZURlcGVuZGVuY2llcyIsInBvc2l0aW9uU2VydmljZSIsImNhdGVnb3JpZXMiLCJzZXRDYXRlZ29yaWVzIiwidXNlU3RhdGUiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwidXNlclN0YXRzIiwic2V0VXNlclN0YXRzIiwicmF0aW5nIiwidG90YWxQbGF5ZWQiLCJzdWNjZXNzUmF0ZSIsInRvdGFsUG9zaXRpb25zIiwic2V0VG90YWxQb3NpdGlvbnMiLCJ1c2VFZmZlY3QiLCJsb2FkRGF0YSIsInNhdmVkU3RhdHMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiYmFzZUNhdGVnb3JpZXMiLCJnZXRDYXRlZ29yaWVzIiwiY2F0ZWdvcmllc1dpdGhDb3VudHMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiY2F0IiwiY291bnQiLCJnZXRQb3NpdGlvbkNvdW50QnlDYXRlZ29yeSIsImlkIiwicG9zaXRpb25Db3VudCIsImlzRXhwYW5kZWQiLCJlcnIiLCJ0b3RhbCIsInJlZHVjZSIsInN1bSIsInRvZ2dsZUNhdGVnb3J5IiwiY2F0ZWdvcnlJZCIsImNhdGVnb3J5SW5kZXgiLCJmaW5kSW5kZXgiLCJjIiwiY2F0ZWdvcnkiLCJwcmV2IiwiY2hhcHRlcnMiLCJpc0xvYWRpbmdDaGFwdGVycyIsIkVycm9yIiwiZ2V0Q2hhcHRlcnNCeUNhdGVnb3J5IiwiZ2V0Q29tcGxldGVkUG9zaXRpb25zIiwiTWF0aCIsImZsb29yIiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsImgyIiwiYnV0dG9uIiwic3BhbiIsIkxpbmsiLCJocmVmIiwiaWNvbiIsIm5hbWUiLCJjaGFwdGVyIiwidG90YWxMZXNzb25zIiwibGVuZ3RoIiwiZGlzYWJsZWQiLCJpbmNsdWRlcyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBdUJDOzs7Ozs7Ozs7OztRQXdHWUE7ZUFBQUE7O1FBa1ZiO2VBQUE7Ozs7K0RBeGIyQzs2REFDMUI7NkJBQ29CO3lCQUVYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUUxQixNQUFNQyxTQUFTQyxJQUFBQSxrQkFBUyxJQUFHQyxVQUFVLENBQUM7QUFnRy9CLE1BQU1ILHNCQUEwRCxDQUFDLEVBQ3RFSSxNQUFNLEVBQ05DLE9BQU8sRUFDUjtJ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