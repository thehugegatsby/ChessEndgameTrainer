{"version":3,"sources":["/home/thehu/coolProjects/EndgameTrainer-training-board-complete/node_modules/react-chessboard/dist/index.js"],"sourcesContent":["'use strict';\n\nvar React = require('react');\nvar reactDom = require('react-dom');\n\nvar jsxRuntime = {exports: {}};\n\nvar reactJsxRuntime_production = {};\n\n/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar hasRequiredReactJsxRuntime_production;\n\nfunction requireReactJsxRuntime_production () {\n\tif (hasRequiredReactJsxRuntime_production) return reactJsxRuntime_production;\n\thasRequiredReactJsxRuntime_production = 1;\n\tvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n\t  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\n\tfunction jsxProd(type, config, maybeKey) {\n\t  var key = null;\n\t  void 0 !== maybeKey && (key = \"\" + maybeKey);\n\t  void 0 !== config.key && (key = \"\" + config.key);\n\t  if (\"key\" in config) {\n\t    maybeKey = {};\n\t    for (var propName in config)\n\t      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n\t  } else maybeKey = config;\n\t  config = maybeKey.ref;\n\t  return {\n\t    $$typeof: REACT_ELEMENT_TYPE,\n\t    type: type,\n\t    key: key,\n\t    ref: void 0 !== config ? config : null,\n\t    props: maybeKey\n\t  };\n\t}\n\treactJsxRuntime_production.Fragment = REACT_FRAGMENT_TYPE;\n\treactJsxRuntime_production.jsx = jsxProd;\n\treactJsxRuntime_production.jsxs = jsxProd;\n\treturn reactJsxRuntime_production;\n}\n\nvar reactJsxRuntime_development = {};\n\n/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar hasRequiredReactJsxRuntime_development;\n\nfunction requireReactJsxRuntime_development () {\n\tif (hasRequiredReactJsxRuntime_development) return reactJsxRuntime_development;\n\thasRequiredReactJsxRuntime_development = 1;\n\t\"production\" !== process.env.NODE_ENV &&\n\t  (function () {\n\t    function getComponentNameFromType(type) {\n\t      if (null == type) return null;\n\t      if (\"function\" === typeof type)\n\t        return type.$$typeof === REACT_CLIENT_REFERENCE$2\n\t          ? null\n\t          : type.displayName || type.name || null;\n\t      if (\"string\" === typeof type) return type;\n\t      switch (type) {\n\t        case REACT_FRAGMENT_TYPE:\n\t          return \"Fragment\";\n\t        case REACT_PORTAL_TYPE:\n\t          return \"Portal\";\n\t        case REACT_PROFILER_TYPE:\n\t          return \"Profiler\";\n\t        case REACT_STRICT_MODE_TYPE:\n\t          return \"StrictMode\";\n\t        case REACT_SUSPENSE_TYPE:\n\t          return \"Suspense\";\n\t        case REACT_SUSPENSE_LIST_TYPE:\n\t          return \"SuspenseList\";\n\t      }\n\t      if (\"object\" === typeof type)\n\t        switch (\n\t          (\"number\" === typeof type.tag &&\n\t            console.error(\n\t              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n\t            ),\n\t          type.$$typeof)\n\t        ) {\n\t          case REACT_CONTEXT_TYPE:\n\t            return (type.displayName || \"Context\") + \".Provider\";\n\t          case REACT_CONSUMER_TYPE:\n\t            return (type._context.displayName || \"Context\") + \".Consumer\";\n\t          case REACT_FORWARD_REF_TYPE:\n\t            var innerType = type.render;\n\t            type = type.displayName;\n\t            type ||\n\t              ((type = innerType.displayName || innerType.name || \"\"),\n\t              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n\t            return type;\n\t          case REACT_MEMO_TYPE:\n\t            return (\n\t              (innerType = type.displayName || null),\n\t              null !== innerType\n\t                ? innerType\n\t                : getComponentNameFromType(type.type) || \"Memo\"\n\t            );\n\t          case REACT_LAZY_TYPE:\n\t            innerType = type._payload;\n\t            type = type._init;\n\t            try {\n\t              return getComponentNameFromType(type(innerType));\n\t            } catch (x) {}\n\t        }\n\t      return null;\n\t    }\n\t    function testStringCoercion(value) {\n\t      return \"\" + value;\n\t    }\n\t    function checkKeyStringCoercion(value) {\n\t      try {\n\t        testStringCoercion(value);\n\t        var JSCompiler_inline_result = !1;\n\t      } catch (e) {\n\t        JSCompiler_inline_result = true;\n\t      }\n\t      if (JSCompiler_inline_result) {\n\t        JSCompiler_inline_result = console;\n\t        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n\t        var JSCompiler_inline_result$jscomp$0 =\n\t          (\"function\" === typeof Symbol &&\n\t            Symbol.toStringTag &&\n\t            value[Symbol.toStringTag]) ||\n\t          value.constructor.name ||\n\t          \"Object\";\n\t        JSCompiler_temp_const.call(\n\t          JSCompiler_inline_result,\n\t          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n\t          JSCompiler_inline_result$jscomp$0\n\t        );\n\t        return testStringCoercion(value);\n\t      }\n\t    }\n\t    function disabledLog() {}\n\t    function disableLogs() {\n\t      if (0 === disabledDepth) {\n\t        prevLog = console.log;\n\t        prevInfo = console.info;\n\t        prevWarn = console.warn;\n\t        prevError = console.error;\n\t        prevGroup = console.group;\n\t        prevGroupCollapsed = console.groupCollapsed;\n\t        prevGroupEnd = console.groupEnd;\n\t        var props = {\n\t          configurable: true,\n\t          enumerable: true,\n\t          value: disabledLog,\n\t          writable: true\n\t        };\n\t        Object.defineProperties(console, {\n\t          info: props,\n\t          log: props,\n\t          warn: props,\n\t          error: props,\n\t          group: props,\n\t          groupCollapsed: props,\n\t          groupEnd: props\n\t        });\n\t      }\n\t      disabledDepth++;\n\t    }\n\t    function reenableLogs() {\n\t      disabledDepth--;\n\t      if (0 === disabledDepth) {\n\t        var props = { configurable: true, enumerable: true, writable: true };\n\t        Object.defineProperties(console, {\n\t          log: assign({}, props, { value: prevLog }),\n\t          info: assign({}, props, { value: prevInfo }),\n\t          warn: assign({}, props, { value: prevWarn }),\n\t          error: assign({}, props, { value: prevError }),\n\t          group: assign({}, props, { value: prevGroup }),\n\t          groupCollapsed: assign({}, props, { value: prevGroupCollapsed }),\n\t          groupEnd: assign({}, props, { value: prevGroupEnd })\n\t        });\n\t      }\n\t      0 > disabledDepth &&\n\t        console.error(\n\t          \"disabledDepth fell below zero. This is a bug in React. Please file an issue.\"\n\t        );\n\t    }\n\t    function describeBuiltInComponentFrame(name) {\n\t      if (void 0 === prefix)\n\t        try {\n\t          throw Error();\n\t        } catch (x) {\n\t          var match = x.stack.trim().match(/\\n( *(at )?)/);\n\t          prefix = (match && match[1]) || \"\";\n\t          suffix =\n\t            -1 < x.stack.indexOf(\"\\n    at\")\n\t              ? \" (<anonymous>)\"\n\t              : -1 < x.stack.indexOf(\"@\")\n\t                ? \"@unknown:0:0\"\n\t                : \"\";\n\t        }\n\t      return \"\\n\" + prefix + name + suffix;\n\t    }\n\t    function describeNativeComponentFrame(fn, construct) {\n\t      if (!fn || reentry) return \"\";\n\t      var frame = componentFrameCache.get(fn);\n\t      if (void 0 !== frame) return frame;\n\t      reentry = true;\n\t      frame = Error.prepareStackTrace;\n\t      Error.prepareStackTrace = void 0;\n\t      var previousDispatcher = null;\n\t      previousDispatcher = ReactSharedInternals.H;\n\t      ReactSharedInternals.H = null;\n\t      disableLogs();\n\t      try {\n\t        var RunInRootFrame = {\n\t          DetermineComponentFrameRoot: function () {\n\t            try {\n\t              if (construct) {\n\t                var Fake = function () {\n\t                  throw Error();\n\t                };\n\t                Object.defineProperty(Fake.prototype, \"props\", {\n\t                  set: function () {\n\t                    throw Error();\n\t                  }\n\t                });\n\t                if (\"object\" === typeof Reflect && Reflect.construct) {\n\t                  try {\n\t                    Reflect.construct(Fake, []);\n\t                  } catch (x) {\n\t                    var control = x;\n\t                  }\n\t                  Reflect.construct(fn, [], Fake);\n\t                } else {\n\t                  try {\n\t                    Fake.call();\n\t                  } catch (x$0) {\n\t                    control = x$0;\n\t                  }\n\t                  fn.call(Fake.prototype);\n\t                }\n\t              } else {\n\t                try {\n\t                  throw Error();\n\t                } catch (x$1) {\n\t                  control = x$1;\n\t                }\n\t                (Fake = fn()) &&\n\t                  \"function\" === typeof Fake.catch &&\n\t                  Fake.catch(function () {});\n\t              }\n\t            } catch (sample) {\n\t              if (sample && control && \"string\" === typeof sample.stack)\n\t                return [sample.stack, control.stack];\n\t            }\n\t            return [null, null];\n\t          }\n\t        };\n\t        RunInRootFrame.DetermineComponentFrameRoot.displayName =\n\t          \"DetermineComponentFrameRoot\";\n\t        var namePropDescriptor = Object.getOwnPropertyDescriptor(\n\t          RunInRootFrame.DetermineComponentFrameRoot,\n\t          \"name\"\n\t        );\n\t        namePropDescriptor &&\n\t          namePropDescriptor.configurable &&\n\t          Object.defineProperty(\n\t            RunInRootFrame.DetermineComponentFrameRoot,\n\t            \"name\",\n\t            { value: \"DetermineComponentFrameRoot\" }\n\t          );\n\t        var _RunInRootFrame$Deter =\n\t            RunInRootFrame.DetermineComponentFrameRoot(),\n\t          sampleStack = _RunInRootFrame$Deter[0],\n\t          controlStack = _RunInRootFrame$Deter[1];\n\t        if (sampleStack && controlStack) {\n\t          var sampleLines = sampleStack.split(\"\\n\"),\n\t            controlLines = controlStack.split(\"\\n\");\n\t          for (\n\t            _RunInRootFrame$Deter = namePropDescriptor = 0;\n\t            namePropDescriptor < sampleLines.length &&\n\t            !sampleLines[namePropDescriptor].includes(\n\t              \"DetermineComponentFrameRoot\"\n\t            );\n\n\t          )\n\t            namePropDescriptor++;\n\t          for (\n\t            ;\n\t            _RunInRootFrame$Deter < controlLines.length &&\n\t            !controlLines[_RunInRootFrame$Deter].includes(\n\t              \"DetermineComponentFrameRoot\"\n\t            );\n\n\t          )\n\t            _RunInRootFrame$Deter++;\n\t          if (\n\t            namePropDescriptor === sampleLines.length ||\n\t            _RunInRootFrame$Deter === controlLines.length\n\t          )\n\t            for (\n\t              namePropDescriptor = sampleLines.length - 1,\n\t                _RunInRootFrame$Deter = controlLines.length - 1;\n\t              1 <= namePropDescriptor &&\n\t              0 <= _RunInRootFrame$Deter &&\n\t              sampleLines[namePropDescriptor] !==\n\t                controlLines[_RunInRootFrame$Deter];\n\n\t            )\n\t              _RunInRootFrame$Deter--;\n\t          for (\n\t            ;\n\t            1 <= namePropDescriptor && 0 <= _RunInRootFrame$Deter;\n\t            namePropDescriptor--, _RunInRootFrame$Deter--\n\t          )\n\t            if (\n\t              sampleLines[namePropDescriptor] !==\n\t              controlLines[_RunInRootFrame$Deter]\n\t            ) {\n\t              if (1 !== namePropDescriptor || 1 !== _RunInRootFrame$Deter) {\n\t                do\n\t                  if (\n\t                    (namePropDescriptor--,\n\t                    _RunInRootFrame$Deter--,\n\t                    0 > _RunInRootFrame$Deter ||\n\t                      sampleLines[namePropDescriptor] !==\n\t                        controlLines[_RunInRootFrame$Deter])\n\t                  ) {\n\t                    var _frame =\n\t                      \"\\n\" +\n\t                      sampleLines[namePropDescriptor].replace(\n\t                        \" at new \",\n\t                        \" at \"\n\t                      );\n\t                    fn.displayName &&\n\t                      _frame.includes(\"<anonymous>\") &&\n\t                      (_frame = _frame.replace(\"<anonymous>\", fn.displayName));\n\t                    \"function\" === typeof fn &&\n\t                      componentFrameCache.set(fn, _frame);\n\t                    return _frame;\n\t                  }\n\t                while (1 <= namePropDescriptor && 0 <= _RunInRootFrame$Deter);\n\t              }\n\t              break;\n\t            }\n\t        }\n\t      } finally {\n\t        (reentry = false),\n\t          (ReactSharedInternals.H = previousDispatcher),\n\t          reenableLogs(),\n\t          (Error.prepareStackTrace = frame);\n\t      }\n\t      sampleLines = (sampleLines = fn ? fn.displayName || fn.name : \"\")\n\t        ? describeBuiltInComponentFrame(sampleLines)\n\t        : \"\";\n\t      \"function\" === typeof fn && componentFrameCache.set(fn, sampleLines);\n\t      return sampleLines;\n\t    }\n\t    function describeUnknownElementTypeFrameInDEV(type) {\n\t      if (null == type) return \"\";\n\t      if (\"function\" === typeof type) {\n\t        var prototype = type.prototype;\n\t        return describeNativeComponentFrame(\n\t          type,\n\t          !(!prototype || !prototype.isReactComponent)\n\t        );\n\t      }\n\t      if (\"string\" === typeof type) return describeBuiltInComponentFrame(type);\n\t      switch (type) {\n\t        case REACT_SUSPENSE_TYPE:\n\t          return describeBuiltInComponentFrame(\"Suspense\");\n\t        case REACT_SUSPENSE_LIST_TYPE:\n\t          return describeBuiltInComponentFrame(\"SuspenseList\");\n\t      }\n\t      if (\"object\" === typeof type)\n\t        switch (type.$$typeof) {\n\t          case REACT_FORWARD_REF_TYPE:\n\t            return (type = describeNativeComponentFrame(type.render, false)), type;\n\t          case REACT_MEMO_TYPE:\n\t            return describeUnknownElementTypeFrameInDEV(type.type);\n\t          case REACT_LAZY_TYPE:\n\t            prototype = type._payload;\n\t            type = type._init;\n\t            try {\n\t              return describeUnknownElementTypeFrameInDEV(type(prototype));\n\t            } catch (x) {}\n\t        }\n\t      return \"\";\n\t    }\n\t    function getOwner() {\n\t      var dispatcher = ReactSharedInternals.A;\n\t      return null === dispatcher ? null : dispatcher.getOwner();\n\t    }\n\t    function hasValidKey(config) {\n\t      if (hasOwnProperty.call(config, \"key\")) {\n\t        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n\t        if (getter && getter.isReactWarning) return false;\n\t      }\n\t      return void 0 !== config.key;\n\t    }\n\t    function defineKeyPropWarningGetter(props, displayName) {\n\t      function warnAboutAccessingKey() {\n\t        specialPropKeyWarningShown ||\n\t          ((specialPropKeyWarningShown = true),\n\t          console.error(\n\t            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n\t            displayName\n\t          ));\n\t      }\n\t      warnAboutAccessingKey.isReactWarning = true;\n\t      Object.defineProperty(props, \"key\", {\n\t        get: warnAboutAccessingKey,\n\t        configurable: true\n\t      });\n\t    }\n\t    function elementRefGetterWithDeprecationWarning() {\n\t      var componentName = getComponentNameFromType(this.type);\n\t      didWarnAboutElementRef[componentName] ||\n\t        ((didWarnAboutElementRef[componentName] = true),\n\t        console.error(\n\t          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n\t        ));\n\t      componentName = this.props.ref;\n\t      return void 0 !== componentName ? componentName : null;\n\t    }\n\t    function ReactElement(type, key, self, source, owner, props) {\n\t      self = props.ref;\n\t      type = {\n\t        $$typeof: REACT_ELEMENT_TYPE,\n\t        type: type,\n\t        key: key,\n\t        props: props,\n\t        _owner: owner\n\t      };\n\t      null !== (void 0 !== self ? self : null)\n\t        ? Object.defineProperty(type, \"ref\", {\n\t            enumerable: false,\n\t            get: elementRefGetterWithDeprecationWarning\n\t          })\n\t        : Object.defineProperty(type, \"ref\", { enumerable: false, value: null });\n\t      type._store = {};\n\t      Object.defineProperty(type._store, \"validated\", {\n\t        configurable: false,\n\t        enumerable: false,\n\t        writable: true,\n\t        value: 0\n\t      });\n\t      Object.defineProperty(type, \"_debugInfo\", {\n\t        configurable: false,\n\t        enumerable: false,\n\t        writable: true,\n\t        value: null\n\t      });\n\t      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n\t      return type;\n\t    }\n\t    function jsxDEVImpl(\n\t      type,\n\t      config,\n\t      maybeKey,\n\t      isStaticChildren,\n\t      source,\n\t      self\n\t    ) {\n\t      if (\n\t        \"string\" === typeof type ||\n\t        \"function\" === typeof type ||\n\t        type === REACT_FRAGMENT_TYPE ||\n\t        type === REACT_PROFILER_TYPE ||\n\t        type === REACT_STRICT_MODE_TYPE ||\n\t        type === REACT_SUSPENSE_TYPE ||\n\t        type === REACT_SUSPENSE_LIST_TYPE ||\n\t        type === REACT_OFFSCREEN_TYPE ||\n\t        (\"object\" === typeof type &&\n\t          null !== type &&\n\t          (type.$$typeof === REACT_LAZY_TYPE ||\n\t            type.$$typeof === REACT_MEMO_TYPE ||\n\t            type.$$typeof === REACT_CONTEXT_TYPE ||\n\t            type.$$typeof === REACT_CONSUMER_TYPE ||\n\t            type.$$typeof === REACT_FORWARD_REF_TYPE ||\n\t            type.$$typeof === REACT_CLIENT_REFERENCE$1 ||\n\t            void 0 !== type.getModuleId))\n\t      ) {\n\t        var children = config.children;\n\t        if (void 0 !== children)\n\t          if (isStaticChildren)\n\t            if (isArrayImpl(children)) {\n\t              for (\n\t                isStaticChildren = 0;\n\t                isStaticChildren < children.length;\n\t                isStaticChildren++\n\t              )\n\t                validateChildKeys(children[isStaticChildren], type);\n\t              Object.freeze && Object.freeze(children);\n\t            } else\n\t              console.error(\n\t                \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n\t              );\n\t          else validateChildKeys(children, type);\n\t      } else {\n\t        children = \"\";\n\t        if (\n\t          void 0 === type ||\n\t          (\"object\" === typeof type &&\n\t            null !== type &&\n\t            0 === Object.keys(type).length)\n\t        )\n\t          children +=\n\t            \" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\";\n\t        null === type\n\t          ? (isStaticChildren = \"null\")\n\t          : isArrayImpl(type)\n\t            ? (isStaticChildren = \"array\")\n\t            : void 0 !== type && type.$$typeof === REACT_ELEMENT_TYPE\n\t              ? ((isStaticChildren =\n\t                  \"<\" +\n\t                  (getComponentNameFromType(type.type) || \"Unknown\") +\n\t                  \" />\"),\n\t                (children =\n\t                  \" Did you accidentally export a JSX literal instead of a component?\"))\n\t              : (isStaticChildren = typeof type);\n\t        console.error(\n\t          \"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",\n\t          isStaticChildren,\n\t          children\n\t        );\n\t      }\n\t      if (hasOwnProperty.call(config, \"key\")) {\n\t        children = getComponentNameFromType(type);\n\t        var keys = Object.keys(config).filter(function (k) {\n\t          return \"key\" !== k;\n\t        });\n\t        isStaticChildren =\n\t          0 < keys.length\n\t            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n\t            : \"{key: someKey}\";\n\t        didWarnAboutKeySpread[children + isStaticChildren] ||\n\t          ((keys =\n\t            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n\t          console.error(\n\t            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n\t            isStaticChildren,\n\t            children,\n\t            keys,\n\t            children\n\t          ),\n\t          (didWarnAboutKeySpread[children + isStaticChildren] = true));\n\t      }\n\t      children = null;\n\t      void 0 !== maybeKey &&\n\t        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n\t      hasValidKey(config) &&\n\t        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n\t      if (\"key\" in config) {\n\t        maybeKey = {};\n\t        for (var propName in config)\n\t          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n\t      } else maybeKey = config;\n\t      children &&\n\t        defineKeyPropWarningGetter(\n\t          maybeKey,\n\t          \"function\" === typeof type\n\t            ? type.displayName || type.name || \"Unknown\"\n\t            : type\n\t        );\n\t      return ReactElement(type, children, self, source, getOwner(), maybeKey);\n\t    }\n\t    function validateChildKeys(node, parentType) {\n\t      if (\n\t        \"object\" === typeof node &&\n\t        node &&\n\t        node.$$typeof !== REACT_CLIENT_REFERENCE\n\t      )\n\t        if (isArrayImpl(node))\n\t          for (var i = 0; i < node.length; i++) {\n\t            var child = node[i];\n\t            isValidElement(child) && validateExplicitKey(child, parentType);\n\t          }\n\t        else if (isValidElement(node))\n\t          node._store && (node._store.validated = 1);\n\t        else if (\n\t          (null === node || \"object\" !== typeof node\n\t            ? (i = null)\n\t            : ((i =\n\t                (MAYBE_ITERATOR_SYMBOL && node[MAYBE_ITERATOR_SYMBOL]) ||\n\t                node[\"@@iterator\"]),\n\t              (i = \"function\" === typeof i ? i : null)),\n\t          \"function\" === typeof i &&\n\t            i !== node.entries &&\n\t            ((i = i.call(node)), i !== node))\n\t        )\n\t          for (; !(node = i.next()).done; )\n\t            isValidElement(node.value) &&\n\t              validateExplicitKey(node.value, parentType);\n\t    }\n\t    function isValidElement(object) {\n\t      return (\n\t        \"object\" === typeof object &&\n\t        null !== object &&\n\t        object.$$typeof === REACT_ELEMENT_TYPE\n\t      );\n\t    }\n\t    function validateExplicitKey(element, parentType) {\n\t      if (\n\t        element._store &&\n\t        !element._store.validated &&\n\t        null == element.key &&\n\t        ((element._store.validated = 1),\n\t        (parentType = getCurrentComponentErrorInfo(parentType)),\n\t        !ownerHasKeyUseWarning[parentType])\n\t      ) {\n\t        ownerHasKeyUseWarning[parentType] = true;\n\t        var childOwner = \"\";\n\t        element &&\n\t          null != element._owner &&\n\t          element._owner !== getOwner() &&\n\t          ((childOwner = null),\n\t          \"number\" === typeof element._owner.tag\n\t            ? (childOwner = getComponentNameFromType(element._owner.type))\n\t            : \"string\" === typeof element._owner.name &&\n\t              (childOwner = element._owner.name),\n\t          (childOwner = \" It was passed a child from \" + childOwner + \".\"));\n\t        var prevGetCurrentStack = ReactSharedInternals.getCurrentStack;\n\t        ReactSharedInternals.getCurrentStack = function () {\n\t          var stack = describeUnknownElementTypeFrameInDEV(element.type);\n\t          prevGetCurrentStack && (stack += prevGetCurrentStack() || \"\");\n\t          return stack;\n\t        };\n\t        console.error(\n\t          'Each child in a list should have a unique \"key\" prop.%s%s See https://react.dev/link/warning-keys for more information.',\n\t          parentType,\n\t          childOwner\n\t        );\n\t        ReactSharedInternals.getCurrentStack = prevGetCurrentStack;\n\t      }\n\t    }\n\t    function getCurrentComponentErrorInfo(parentType) {\n\t      var info = \"\",\n\t        owner = getOwner();\n\t      owner &&\n\t        (owner = getComponentNameFromType(owner.type)) &&\n\t        (info = \"\\n\\nCheck the render method of `\" + owner + \"`.\");\n\t      info ||\n\t        ((parentType = getComponentNameFromType(parentType)) &&\n\t          (info =\n\t            \"\\n\\nCheck the top-level render call using <\" + parentType + \">.\"));\n\t      return info;\n\t    }\n\t    var React$1 = React,\n\t      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n\t      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n\t      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n\t      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n\t      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n\t    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n\t      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n\t      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n\t      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n\t      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n\t      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n\t      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n\t      REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\"),\n\t      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,\n\t      REACT_CLIENT_REFERENCE$2 = Symbol.for(\"react.client.reference\"),\n\t      ReactSharedInternals =\n\t        React$1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n\t      hasOwnProperty = Object.prototype.hasOwnProperty,\n\t      assign = Object.assign,\n\t      REACT_CLIENT_REFERENCE$1 = Symbol.for(\"react.client.reference\"),\n\t      isArrayImpl = Array.isArray,\n\t      disabledDepth = 0,\n\t      prevLog,\n\t      prevInfo,\n\t      prevWarn,\n\t      prevError,\n\t      prevGroup,\n\t      prevGroupCollapsed,\n\t      prevGroupEnd;\n\t    disabledLog.__reactDisabledLog = true;\n\t    var prefix,\n\t      suffix,\n\t      reentry = false;\n\t    var componentFrameCache = new (\n\t      \"function\" === typeof WeakMap ? WeakMap : Map\n\t    )();\n\t    var REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n\t      specialPropKeyWarningShown;\n\t    var didWarnAboutElementRef = {};\n\t    var didWarnAboutKeySpread = {},\n\t      ownerHasKeyUseWarning = {};\n\t    reactJsxRuntime_development.Fragment = REACT_FRAGMENT_TYPE;\n\t    reactJsxRuntime_development.jsx = function (type, config, maybeKey, source, self) {\n\t      return jsxDEVImpl(type, config, maybeKey, false, source, self);\n\t    };\n\t    reactJsxRuntime_development.jsxs = function (type, config, maybeKey, source, self) {\n\t      return jsxDEVImpl(type, config, maybeKey, true, source, self);\n\t    };\n\t  })();\n\treturn reactJsxRuntime_development;\n}\n\nvar hasRequiredJsxRuntime;\n\nfunction requireJsxRuntime () {\n\tif (hasRequiredJsxRuntime) return jsxRuntime.exports;\n\thasRequiredJsxRuntime = 1;\n\n\tif (process.env.NODE_ENV === 'production') {\n\t  jsxRuntime.exports = requireReactJsxRuntime_production();\n\t} else {\n\t  jsxRuntime.exports = requireReactJsxRuntime_development();\n\t}\n\treturn jsxRuntime.exports;\n}\n\nvar jsxRuntimeExports = requireJsxRuntime();\n\n// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nconst canUseDOM = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n\nfunction isWindow(element) {\n  const elementString = Object.prototype.toString.call(element);\n  return elementString === '[object Window]' || // In Electron context the Window object serializes to [object global]\n  elementString === '[object global]';\n}\n\nfunction isNode(node) {\n  return 'nodeType' in node;\n}\n\nfunction getWindow(target) {\n  var _target$ownerDocument, _target$ownerDocument2;\n\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  return (_target$ownerDocument = (_target$ownerDocument2 = target.ownerDocument) == null ? void 0 : _target$ownerDocument2.defaultView) != null ? _target$ownerDocument : window;\n}\n\nfunction isDocument(node) {\n  const {\n    Document\n  } = getWindow(node);\n  return node instanceof Document;\n}\n\nfunction isHTMLElement(node) {\n  if (isWindow(node)) {\n    return false;\n  }\n\n  return node instanceof getWindow(node).HTMLElement;\n}\n\nfunction isSVGElement(node) {\n  return node instanceof getWindow(node).SVGElement;\n}\n\nfunction getOwnerDocument(target) {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n\n/**\r\n * A hook that resolves to useEffect on the server and useLayoutEffect on the client\r\n * @param callback {function} Callback function that is invoked when the dependencies of the hook change\r\n */\n\nconst useIsomorphicLayoutEffect = canUseDOM ? React.useLayoutEffect : React.useEffect;\n\nfunction useEvent(handler) {\n  const handlerRef = React.useRef(handler);\n  useIsomorphicLayoutEffect(() => {\n    handlerRef.current = handler;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return handlerRef.current == null ? void 0 : handlerRef.current(...args);\n  }, []);\n}\n\nfunction useInterval() {\n  const intervalRef = React.useRef(null);\n  const set = React.useCallback((listener, duration) => {\n    intervalRef.current = setInterval(listener, duration);\n  }, []);\n  const clear = React.useCallback(() => {\n    if (intervalRef.current !== null) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, []);\n  return [set, clear];\n}\n\nfunction useLatestValue(value, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [value];\n  }\n\n  const valueRef = React.useRef(value);\n  useIsomorphicLayoutEffect(() => {\n    if (valueRef.current !== value) {\n      valueRef.current = value;\n    }\n  }, dependencies);\n  return valueRef;\n}\n\nfunction useLazyMemo(callback, dependencies) {\n  const valueRef = React.useRef();\n  return React.useMemo(() => {\n    const newValue = callback(valueRef.current);\n    valueRef.current = newValue;\n    return newValue;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [...dependencies]);\n}\n\nfunction useNodeRef(onChange) {\n  const onChangeHandler = useEvent(onChange);\n  const node = React.useRef(null);\n  const setNodeRef = React.useCallback(element => {\n    if (element !== node.current) {\n      onChangeHandler == null ? void 0 : onChangeHandler(element, node.current);\n    }\n\n    node.current = element;\n  }, //eslint-disable-next-line\n  []);\n  return [node, setNodeRef];\n}\n\nfunction usePrevious(value) {\n  const ref = React.useRef();\n  React.useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\nlet ids = {};\nfunction useUniqueId(prefix, value) {\n  return React.useMemo(() => {\n    if (value) {\n      return value;\n    }\n\n    const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n    ids[prefix] = id;\n    return prefix + \"-\" + id;\n  }, [prefix, value]);\n}\n\nfunction createAdjustmentFn(modifier) {\n  return function (object) {\n    for (var _len = arguments.length, adjustments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      adjustments[_key - 1] = arguments[_key];\n    }\n\n    return adjustments.reduce((accumulator, adjustment) => {\n      const entries = Object.entries(adjustment);\n\n      for (const [key, valueAdjustment] of entries) {\n        const value = accumulator[key];\n\n        if (value != null) {\n          accumulator[key] = value + modifier * valueAdjustment;\n        }\n      }\n\n      return accumulator;\n    }, { ...object\n    });\n  };\n}\n\nconst add = /*#__PURE__*/createAdjustmentFn(1);\nconst subtract = /*#__PURE__*/createAdjustmentFn(-1);\n\nfunction hasViewportRelativeCoordinates(event) {\n  return 'clientX' in event && 'clientY' in event;\n}\n\nfunction isKeyboardEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    KeyboardEvent\n  } = getWindow(event.target);\n  return KeyboardEvent && event instanceof KeyboardEvent;\n}\n\nfunction isTouchEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    TouchEvent\n  } = getWindow(event.target);\n  return TouchEvent && event instanceof TouchEvent;\n}\n\n/**\r\n * Returns the normalized x and y coordinates for mouse and touch events.\r\n */\n\nfunction getEventCoordinates(event) {\n  if (isTouchEvent(event)) {\n    if (event.touches && event.touches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.touches[0];\n      return {\n        x,\n        y\n      };\n    } else if (event.changedTouches && event.changedTouches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.changedTouches[0];\n      return {\n        x,\n        y\n      };\n    }\n  }\n\n  if (hasViewportRelativeCoordinates(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY\n    };\n  }\n\n  return null;\n}\n\nconst CSS = /*#__PURE__*/Object.freeze({\n  Translate: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        x,\n        y\n      } = transform;\n      return \"translate3d(\" + (x ? Math.round(x) : 0) + \"px, \" + (y ? Math.round(y) : 0) + \"px, 0)\";\n    }\n\n  },\n  Scale: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        scaleX,\n        scaleY\n      } = transform;\n      return \"scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\";\n    }\n\n  },\n  Transform: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      return [CSS.Translate.toString(transform), CSS.Scale.toString(transform)].join(' ');\n    }\n\n  },\n  Transition: {\n    toString(_ref) {\n      let {\n        property,\n        duration,\n        easing\n      } = _ref;\n      return property + \" \" + duration + \"ms \" + easing;\n    }\n\n  }\n});\n\nconst SELECTOR = 'a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]';\nfunction findFirstFocusableNode(element) {\n  if (element.matches(SELECTOR)) {\n    return element;\n  }\n\n  return element.querySelector(SELECTOR);\n}\n\nconst hiddenStyles = {\n  display: 'none'\n};\nfunction HiddenText(_ref) {\n  let {\n    id,\n    value\n  } = _ref;\n  return React.createElement(\"div\", {\n    id: id,\n    style: hiddenStyles\n  }, value);\n}\n\nfunction LiveRegion(_ref) {\n  let {\n    id,\n    announcement,\n    ariaLiveType = \"assertive\"\n  } = _ref;\n  // Hide element visually but keep it readable by screen readers\n  const visuallyHidden = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0 0 0 0)',\n    clipPath: 'inset(100%)',\n    whiteSpace: 'nowrap'\n  };\n  return React.createElement(\"div\", {\n    id: id,\n    style: visuallyHidden,\n    role: \"status\",\n    \"aria-live\": ariaLiveType,\n    \"aria-atomic\": true\n  }, announcement);\n}\n\nfunction useAnnouncement() {\n  const [announcement, setAnnouncement] = React.useState('');\n  const announce = React.useCallback(value => {\n    if (value != null) {\n      setAnnouncement(value);\n    }\n  }, []);\n  return {\n    announce,\n    announcement\n  };\n}\n\nconst DndMonitorContext = /*#__PURE__*/React.createContext(null);\n\nfunction useDndMonitor(listener) {\n  const registerListener = React.useContext(DndMonitorContext);\n  React.useEffect(() => {\n    if (!registerListener) {\n      throw new Error('useDndMonitor must be used within a children of <DndContext>');\n    }\n\n    const unsubscribe = registerListener(listener);\n    return unsubscribe;\n  }, [listener, registerListener]);\n}\n\nfunction useDndMonitorProvider() {\n  const [listeners] = React.useState(() => new Set());\n  const registerListener = React.useCallback(listener => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  }, [listeners]);\n  const dispatch = React.useCallback(_ref => {\n    let {\n      type,\n      event\n    } = _ref;\n    listeners.forEach(listener => {\n      var _listener$type;\n\n      return (_listener$type = listener[type]) == null ? void 0 : _listener$type.call(listener, event);\n    });\n  }, [listeners]);\n  return [dispatch, registerListener];\n}\n\nconst defaultScreenReaderInstructions = {\n  draggable: \"\\n    To pick up a draggable item, press the space bar.\\n    While dragging, use the arrow keys to move the item.\\n    Press space again to drop the item in its new position, or press escape to cancel.\\n  \"\n};\nconst defaultAnnouncements = {\n  onDragStart(_ref) {\n    let {\n      active\n    } = _ref;\n    return \"Picked up draggable item \" + active.id + \".\";\n  },\n\n  onDragOver(_ref2) {\n    let {\n      active,\n      over\n    } = _ref2;\n\n    if (over) {\n      return \"Draggable item \" + active.id + \" was moved over droppable area \" + over.id + \".\";\n    }\n\n    return \"Draggable item \" + active.id + \" is no longer over a droppable area.\";\n  },\n\n  onDragEnd(_ref3) {\n    let {\n      active,\n      over\n    } = _ref3;\n\n    if (over) {\n      return \"Draggable item \" + active.id + \" was dropped over droppable area \" + over.id;\n    }\n\n    return \"Draggable item \" + active.id + \" was dropped.\";\n  },\n\n  onDragCancel(_ref4) {\n    let {\n      active\n    } = _ref4;\n    return \"Dragging was cancelled. Draggable item \" + active.id + \" was dropped.\";\n  }\n\n};\n\nfunction Accessibility(_ref) {\n  let {\n    announcements = defaultAnnouncements,\n    container,\n    hiddenTextDescribedById,\n    screenReaderInstructions = defaultScreenReaderInstructions\n  } = _ref;\n  const {\n    announce,\n    announcement\n  } = useAnnouncement();\n  const liveRegionId = useUniqueId(\"DndLiveRegion\");\n  const [mounted, setMounted] = React.useState(false);\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n  useDndMonitor(React.useMemo(() => ({\n    onDragStart(_ref2) {\n      let {\n        active\n      } = _ref2;\n      announce(announcements.onDragStart({\n        active\n      }));\n    },\n\n    onDragMove(_ref3) {\n      let {\n        active,\n        over\n      } = _ref3;\n\n      if (announcements.onDragMove) {\n        announce(announcements.onDragMove({\n          active,\n          over\n        }));\n      }\n    },\n\n    onDragOver(_ref4) {\n      let {\n        active,\n        over\n      } = _ref4;\n      announce(announcements.onDragOver({\n        active,\n        over\n      }));\n    },\n\n    onDragEnd(_ref5) {\n      let {\n        active,\n        over\n      } = _ref5;\n      announce(announcements.onDragEnd({\n        active,\n        over\n      }));\n    },\n\n    onDragCancel(_ref6) {\n      let {\n        active,\n        over\n      } = _ref6;\n      announce(announcements.onDragCancel({\n        active,\n        over\n      }));\n    }\n\n  }), [announce, announcements]));\n\n  if (!mounted) {\n    return null;\n  }\n\n  const markup = React.createElement(React.Fragment, null, React.createElement(HiddenText, {\n    id: hiddenTextDescribedById,\n    value: screenReaderInstructions.draggable\n  }), React.createElement(LiveRegion, {\n    id: liveRegionId,\n    announcement: announcement\n  }));\n  return container ? reactDom.createPortal(markup, container) : markup;\n}\n\nvar Action;\n\n(function (Action) {\n  Action[\"DragStart\"] = \"dragStart\";\n  Action[\"DragMove\"] = \"dragMove\";\n  Action[\"DragEnd\"] = \"dragEnd\";\n  Action[\"DragCancel\"] = \"dragCancel\";\n  Action[\"DragOver\"] = \"dragOver\";\n  Action[\"RegisterDroppable\"] = \"registerDroppable\";\n  Action[\"SetDroppableDisabled\"] = \"setDroppableDisabled\";\n  Action[\"UnregisterDroppable\"] = \"unregisterDroppable\";\n})(Action || (Action = {}));\n\nfunction noop() {}\n\nfunction useSensor(sensor, options) {\n  return React.useMemo(() => ({\n    sensor,\n    options: options != null ? options : {}\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [sensor, options]);\n}\n\nfunction useSensors() {\n  for (var _len = arguments.length, sensors = new Array(_len), _key = 0; _key < _len; _key++) {\n    sensors[_key] = arguments[_key];\n  }\n\n  return React.useMemo(() => [...sensors].filter(sensor => sensor != null), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [...sensors]);\n}\n\nconst defaultCoordinates = /*#__PURE__*/Object.freeze({\n  x: 0,\n  y: 0\n});\n\n/**\r\n * Returns the distance between two points\r\n */\nfunction distanceBetween(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n}\n\nfunction getRelativeTransformOrigin(event, rect) {\n  const eventCoordinates = getEventCoordinates(event);\n\n  if (!eventCoordinates) {\n    return '0 0';\n  }\n\n  const transformOrigin = {\n    x: (eventCoordinates.x - rect.left) / rect.width * 100,\n    y: (eventCoordinates.y - rect.top) / rect.height * 100\n  };\n  return transformOrigin.x + \"% \" + transformOrigin.y + \"%\";\n}\n\n/**\r\n * Sort collisions from smallest to greatest value\r\n */\nfunction sortCollisionsAsc(_ref, _ref2) {\n  let {\n    data: {\n      value: a\n    }\n  } = _ref;\n  let {\n    data: {\n      value: b\n    }\n  } = _ref2;\n  return a - b;\n}\n/**\r\n * Sort collisions from greatest to smallest value\r\n */\n\nfunction sortCollisionsDesc(_ref3, _ref4) {\n  let {\n    data: {\n      value: a\n    }\n  } = _ref3;\n  let {\n    data: {\n      value: b\n    }\n  } = _ref4;\n  return b - a;\n}\n/**\r\n * Returns the coordinates of the corners of a given rectangle:\r\n * [TopLeft {x, y}, TopRight {x, y}, BottomLeft {x, y}, BottomRight {x, y}]\r\n */\n\nfunction cornersOfRectangle(_ref5) {\n  let {\n    left,\n    top,\n    height,\n    width\n  } = _ref5;\n  return [{\n    x: left,\n    y: top\n  }, {\n    x: left + width,\n    y: top\n  }, {\n    x: left,\n    y: top + height\n  }, {\n    x: left + width,\n    y: top + height\n  }];\n}\nfunction getFirstCollision(collisions, property) {\n  if (!collisions || collisions.length === 0) {\n    return null;\n  }\n\n  const [firstCollision] = collisions;\n  return firstCollision[property] ;\n}\n\n/**\r\n * Returns the intersecting rectangle area between two rectangles\r\n */\n\nfunction getIntersectionRatio(entry, target) {\n  const top = Math.max(target.top, entry.top);\n  const left = Math.max(target.left, entry.left);\n  const right = Math.min(target.left + target.width, entry.left + entry.width);\n  const bottom = Math.min(target.top + target.height, entry.top + entry.height);\n  const width = right - left;\n  const height = bottom - top;\n\n  if (left < right && top < bottom) {\n    const targetArea = target.width * target.height;\n    const entryArea = entry.width * entry.height;\n    const intersectionArea = width * height;\n    const intersectionRatio = intersectionArea / (targetArea + entryArea - intersectionArea);\n    return Number(intersectionRatio.toFixed(4));\n  } // Rectangles do not overlap, or overlap has an area of zero (edge/corner overlap)\n\n\n  return 0;\n}\n/**\r\n * Returns the rectangles that has the greatest intersection area with a given\r\n * rectangle in an array of rectangles.\r\n */\n\nconst rectIntersection = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const intersectionRatio = getIntersectionRatio(rect, collisionRect);\n\n      if (intersectionRatio > 0) {\n        collisions.push({\n          id,\n          data: {\n            droppableContainer,\n            value: intersectionRatio\n          }\n        });\n      }\n    }\n  }\n\n  return collisions.sort(sortCollisionsDesc);\n};\n\n/**\r\n * Check if a given point is contained within a bounding rectangle\r\n */\n\nfunction isPointWithinRect(point, rect) {\n  const {\n    top,\n    left,\n    bottom,\n    right\n  } = rect;\n  return top <= point.y && point.y <= bottom && left <= point.x && point.x <= right;\n}\n/**\r\n * Returns the rectangles that the pointer is hovering over\r\n */\n\n\nconst pointerWithin = _ref => {\n  let {\n    droppableContainers,\n    droppableRects,\n    pointerCoordinates\n  } = _ref;\n\n  if (!pointerCoordinates) {\n    return [];\n  }\n\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect && isPointWithinRect(pointerCoordinates, rect)) {\n      /* There may be more than a single rectangle intersecting\r\n       * with the pointer coordinates. In order to sort the\r\n       * colliding rectangles, we measure the distance between\r\n       * the pointer and the corners of the intersecting rectangle\r\n       */\n      const corners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner) => {\n        return accumulator + distanceBetween(pointerCoordinates, corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: effectiveDistance\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\nfunction adjustScale(transform, rect1, rect2) {\n  return { ...transform,\n    scaleX: rect1 && rect2 ? rect1.width / rect2.width : 1,\n    scaleY: rect1 && rect2 ? rect1.height / rect2.height : 1\n  };\n}\n\nfunction getRectDelta(rect1, rect2) {\n  return rect1 && rect2 ? {\n    x: rect1.left - rect2.left,\n    y: rect1.top - rect2.top\n  } : defaultCoordinates;\n}\n\nfunction createRectAdjustmentFn(modifier) {\n  return function adjustClientRect(rect) {\n    for (var _len = arguments.length, adjustments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      adjustments[_key - 1] = arguments[_key];\n    }\n\n    return adjustments.reduce((acc, adjustment) => ({ ...acc,\n      top: acc.top + modifier * adjustment.y,\n      bottom: acc.bottom + modifier * adjustment.y,\n      left: acc.left + modifier * adjustment.x,\n      right: acc.right + modifier * adjustment.x\n    }), { ...rect\n    });\n  };\n}\nconst getAdjustedRect = /*#__PURE__*/createRectAdjustmentFn(1);\n\nfunction parseTransform(transform) {\n  if (transform.startsWith('matrix3d(')) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5]\n    };\n  } else if (transform.startsWith('matrix(')) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3]\n    };\n  }\n\n  return null;\n}\n\nfunction inverseTransform(rect, transform, transformOrigin) {\n  const parsedTransform = parseTransform(transform);\n\n  if (!parsedTransform) {\n    return rect;\n  }\n\n  const {\n    scaleX,\n    scaleY,\n    x: translateX,\n    y: translateY\n  } = parsedTransform;\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y = rect.top - translateY - (1 - scaleY) * parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x\n  };\n}\n\nconst defaultOptions = {\n  ignoreTransform: false\n};\n/**\r\n * Returns the bounding client rect of an element relative to the viewport.\r\n */\n\nfunction getClientRect(element, options) {\n  if (options === void 0) {\n    options = defaultOptions;\n  }\n\n  let rect = element.getBoundingClientRect();\n\n  if (options.ignoreTransform) {\n    const {\n      transform,\n      transformOrigin\n    } = getWindow(element).getComputedStyle(element);\n\n    if (transform) {\n      rect = inverseTransform(rect, transform, transformOrigin);\n    }\n  }\n\n  const {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right\n  } = rect;\n  return {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right\n  };\n}\n/**\r\n * Returns the bounding client rect of an element relative to the viewport.\r\n *\r\n * @remarks\r\n * The ClientRect returned by this method does not take into account transforms\r\n * applied to the element it measures.\r\n *\r\n */\n\nfunction getTransformAgnosticClientRect(element) {\n  return getClientRect(element, {\n    ignoreTransform: true\n  });\n}\n\nfunction getWindowClientRect(element) {\n  const width = element.innerWidth;\n  const height = element.innerHeight;\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height\n  };\n}\n\nfunction isFixed(node, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = getWindow(node).getComputedStyle(node);\n  }\n\n  return computedStyle.position === 'fixed';\n}\n\nfunction isScrollable(element, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = getWindow(element).getComputedStyle(element);\n  }\n\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.some(property => {\n    const value = computedStyle[property];\n    return typeof value === 'string' ? overflowRegex.test(value) : false;\n  });\n}\n\nfunction getScrollableAncestors(element, limit) {\n  const scrollParents = [];\n\n  function findScrollableAncestors(node) {\n    if (limit != null && scrollParents.length >= limit) {\n      return scrollParents;\n    }\n\n    if (!node) {\n      return scrollParents;\n    }\n\n    if (isDocument(node) && node.scrollingElement != null && !scrollParents.includes(node.scrollingElement)) {\n      scrollParents.push(node.scrollingElement);\n      return scrollParents;\n    }\n\n    if (!isHTMLElement(node) || isSVGElement(node)) {\n      return scrollParents;\n    }\n\n    if (scrollParents.includes(node)) {\n      return scrollParents;\n    }\n\n    const computedStyle = getWindow(element).getComputedStyle(node);\n\n    if (node !== element) {\n      if (isScrollable(node, computedStyle)) {\n        scrollParents.push(node);\n      }\n    }\n\n    if (isFixed(node, computedStyle)) {\n      return scrollParents;\n    }\n\n    return findScrollableAncestors(node.parentNode);\n  }\n\n  if (!element) {\n    return scrollParents;\n  }\n\n  return findScrollableAncestors(element);\n}\nfunction getFirstScrollableAncestor(node) {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, 1);\n  return firstScrollableAncestor != null ? firstScrollableAncestor : null;\n}\n\nfunction getScrollableElement(element) {\n  if (!canUseDOM || !element) {\n    return null;\n  }\n\n  if (isWindow(element)) {\n    return element;\n  }\n\n  if (!isNode(element)) {\n    return null;\n  }\n\n  if (isDocument(element) || element === getOwnerDocument(element).scrollingElement) {\n    return window;\n  }\n\n  if (isHTMLElement(element)) {\n    return element;\n  }\n\n  return null;\n}\n\nfunction getScrollXCoordinate(element) {\n  if (isWindow(element)) {\n    return element.scrollX;\n  }\n\n  return element.scrollLeft;\n}\nfunction getScrollYCoordinate(element) {\n  if (isWindow(element)) {\n    return element.scrollY;\n  }\n\n  return element.scrollTop;\n}\nfunction getScrollCoordinates(element) {\n  return {\n    x: getScrollXCoordinate(element),\n    y: getScrollYCoordinate(element)\n  };\n}\n\nvar Direction;\n\n(function (Direction) {\n  Direction[Direction[\"Forward\"] = 1] = \"Forward\";\n  Direction[Direction[\"Backward\"] = -1] = \"Backward\";\n})(Direction || (Direction = {}));\n\nfunction isDocumentScrollingElement(element) {\n  if (!canUseDOM || !element) {\n    return false;\n  }\n\n  return element === document.scrollingElement;\n}\n\nfunction getScrollPosition(scrollingContainer) {\n  const minScroll = {\n    x: 0,\n    y: 0\n  };\n  const dimensions = isDocumentScrollingElement(scrollingContainer) ? {\n    height: window.innerHeight,\n    width: window.innerWidth\n  } : {\n    height: scrollingContainer.clientHeight,\n    width: scrollingContainer.clientWidth\n  };\n  const maxScroll = {\n    x: scrollingContainer.scrollWidth - dimensions.width,\n    y: scrollingContainer.scrollHeight - dimensions.height\n  };\n  const isTop = scrollingContainer.scrollTop <= minScroll.y;\n  const isLeft = scrollingContainer.scrollLeft <= minScroll.x;\n  const isBottom = scrollingContainer.scrollTop >= maxScroll.y;\n  const isRight = scrollingContainer.scrollLeft >= maxScroll.x;\n  return {\n    isTop,\n    isLeft,\n    isBottom,\n    isRight,\n    maxScroll,\n    minScroll\n  };\n}\n\nconst defaultThreshold = {\n  x: 0.2,\n  y: 0.2\n};\nfunction getScrollDirectionAndSpeed(scrollContainer, scrollContainerRect, _ref, acceleration, thresholdPercentage) {\n  let {\n    top,\n    left,\n    right,\n    bottom\n  } = _ref;\n\n  if (acceleration === void 0) {\n    acceleration = 10;\n  }\n\n  if (thresholdPercentage === void 0) {\n    thresholdPercentage = defaultThreshold;\n  }\n\n  const {\n    isTop,\n    isBottom,\n    isLeft,\n    isRight\n  } = getScrollPosition(scrollContainer);\n  const direction = {\n    x: 0,\n    y: 0\n  };\n  const speed = {\n    x: 0,\n    y: 0\n  };\n  const threshold = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x\n  };\n\n  if (!isTop && top <= scrollContainerRect.top + threshold.height) {\n    // Scroll Up\n    direction.y = Direction.Backward;\n    speed.y = acceleration * Math.abs((scrollContainerRect.top + threshold.height - top) / threshold.height);\n  } else if (!isBottom && bottom >= scrollContainerRect.bottom - threshold.height) {\n    // Scroll Down\n    direction.y = Direction.Forward;\n    speed.y = acceleration * Math.abs((scrollContainerRect.bottom - threshold.height - bottom) / threshold.height);\n  }\n\n  if (!isRight && right >= scrollContainerRect.right - threshold.width) {\n    // Scroll Right\n    direction.x = Direction.Forward;\n    speed.x = acceleration * Math.abs((scrollContainerRect.right - threshold.width - right) / threshold.width);\n  } else if (!isLeft && left <= scrollContainerRect.left + threshold.width) {\n    // Scroll Left\n    direction.x = Direction.Backward;\n    speed.x = acceleration * Math.abs((scrollContainerRect.left + threshold.width - left) / threshold.width);\n  }\n\n  return {\n    direction,\n    speed\n  };\n}\n\nfunction getScrollElementRect(element) {\n  if (element === document.scrollingElement) {\n    const {\n      innerWidth,\n      innerHeight\n    } = window;\n    return {\n      top: 0,\n      left: 0,\n      right: innerWidth,\n      bottom: innerHeight,\n      width: innerWidth,\n      height: innerHeight\n    };\n  }\n\n  const {\n    top,\n    left,\n    right,\n    bottom\n  } = element.getBoundingClientRect();\n  return {\n    top,\n    left,\n    right,\n    bottom,\n    width: element.clientWidth,\n    height: element.clientHeight\n  };\n}\n\nfunction getScrollOffsets(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return add(acc, getScrollCoordinates(node));\n  }, defaultCoordinates);\n}\nfunction getScrollXOffset(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return acc + getScrollXCoordinate(node);\n  }, 0);\n}\nfunction getScrollYOffset(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return acc + getScrollYCoordinate(node);\n  }, 0);\n}\n\nfunction scrollIntoViewIfNeeded(element, measure) {\n  if (measure === void 0) {\n    measure = getClientRect;\n  }\n\n  if (!element) {\n    return;\n  }\n\n  const {\n    top,\n    left,\n    bottom,\n    right\n  } = measure(element);\n  const firstScrollableAncestor = getFirstScrollableAncestor(element);\n\n  if (!firstScrollableAncestor) {\n    return;\n  }\n\n  if (bottom <= 0 || right <= 0 || top >= window.innerHeight || left >= window.innerWidth) {\n    element.scrollIntoView({\n      block: 'center',\n      inline: 'center'\n    });\n  }\n}\n\nconst properties = [['x', ['left', 'right'], getScrollXOffset], ['y', ['top', 'bottom'], getScrollYOffset]];\nclass Rect {\n  constructor(rect, element) {\n    this.rect = void 0;\n    this.width = void 0;\n    this.height = void 0;\n    this.top = void 0;\n    this.bottom = void 0;\n    this.right = void 0;\n    this.left = void 0;\n    const scrollableAncestors = getScrollableAncestors(element);\n    const scrollOffsets = getScrollOffsets(scrollableAncestors);\n    this.rect = { ...rect\n    };\n    this.width = rect.width;\n    this.height = rect.height;\n\n    for (const [axis, keys, getScrollOffset] of properties) {\n      for (const key of keys) {\n        Object.defineProperty(this, key, {\n          get: () => {\n            const currentOffsets = getScrollOffset(scrollableAncestors);\n            const scrollOffsetsDeltla = scrollOffsets[axis] - currentOffsets;\n            return this.rect[key] + scrollOffsetsDeltla;\n          },\n          enumerable: true\n        });\n      }\n    }\n\n    Object.defineProperty(this, 'rect', {\n      enumerable: false\n    });\n  }\n\n}\n\nclass Listeners {\n  constructor(target) {\n    this.target = void 0;\n    this.listeners = [];\n\n    this.removeAll = () => {\n      this.listeners.forEach(listener => {\n        var _this$target;\n\n        return (_this$target = this.target) == null ? void 0 : _this$target.removeEventListener(...listener);\n      });\n    };\n\n    this.target = target;\n  }\n\n  add(eventName, handler, options) {\n    var _this$target2;\n\n    (_this$target2 = this.target) == null ? void 0 : _this$target2.addEventListener(eventName, handler, options);\n    this.listeners.push([eventName, handler, options]);\n  }\n\n}\n\nfunction getEventListenerTarget(target) {\n  // If the `event.target` element is removed from the document events will still be targeted\n  // at it, and hence won't always bubble up to the window or document anymore.\n  // If there is any risk of an element being removed while it is being dragged,\n  // the best practice is to attach the event listeners directly to the target.\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n  const {\n    EventTarget\n  } = getWindow(target);\n  return target instanceof EventTarget ? target : getOwnerDocument(target);\n}\n\nfunction hasExceededDistance(delta, measurement) {\n  const dx = Math.abs(delta.x);\n  const dy = Math.abs(delta.y);\n\n  if (typeof measurement === 'number') {\n    return Math.sqrt(dx ** 2 + dy ** 2) > measurement;\n  }\n\n  if ('x' in measurement && 'y' in measurement) {\n    return dx > measurement.x && dy > measurement.y;\n  }\n\n  if ('x' in measurement) {\n    return dx > measurement.x;\n  }\n\n  if ('y' in measurement) {\n    return dy > measurement.y;\n  }\n\n  return false;\n}\n\nvar EventName;\n\n(function (EventName) {\n  EventName[\"Click\"] = \"click\";\n  EventName[\"DragStart\"] = \"dragstart\";\n  EventName[\"Keydown\"] = \"keydown\";\n  EventName[\"ContextMenu\"] = \"contextmenu\";\n  EventName[\"Resize\"] = \"resize\";\n  EventName[\"SelectionChange\"] = \"selectionchange\";\n  EventName[\"VisibilityChange\"] = \"visibilitychange\";\n})(EventName || (EventName = {}));\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nvar KeyboardCode;\n\n(function (KeyboardCode) {\n  KeyboardCode[\"Space\"] = \"Space\";\n  KeyboardCode[\"Down\"] = \"ArrowDown\";\n  KeyboardCode[\"Right\"] = \"ArrowRight\";\n  KeyboardCode[\"Left\"] = \"ArrowLeft\";\n  KeyboardCode[\"Up\"] = \"ArrowUp\";\n  KeyboardCode[\"Esc\"] = \"Escape\";\n  KeyboardCode[\"Enter\"] = \"Enter\";\n  KeyboardCode[\"Tab\"] = \"Tab\";\n})(KeyboardCode || (KeyboardCode = {}));\n\nconst defaultKeyboardCodes = {\n  start: [KeyboardCode.Space, KeyboardCode.Enter],\n  cancel: [KeyboardCode.Esc],\n  end: [KeyboardCode.Space, KeyboardCode.Enter, KeyboardCode.Tab]\n};\nconst defaultKeyboardCoordinateGetter = (event, _ref) => {\n  let {\n    currentCoordinates\n  } = _ref;\n\n  switch (event.code) {\n    case KeyboardCode.Right:\n      return { ...currentCoordinates,\n        x: currentCoordinates.x + 25\n      };\n\n    case KeyboardCode.Left:\n      return { ...currentCoordinates,\n        x: currentCoordinates.x - 25\n      };\n\n    case KeyboardCode.Down:\n      return { ...currentCoordinates,\n        y: currentCoordinates.y + 25\n      };\n\n    case KeyboardCode.Up:\n      return { ...currentCoordinates,\n        y: currentCoordinates.y - 25\n      };\n  }\n\n  return undefined;\n};\n\nclass KeyboardSensor {\n  constructor(props) {\n    this.props = void 0;\n    this.autoScrollEnabled = false;\n    this.referenceCoordinates = void 0;\n    this.listeners = void 0;\n    this.windowListeners = void 0;\n    this.props = props;\n    const {\n      event: {\n        target\n      }\n    } = props;\n    this.props = props;\n    this.listeners = new Listeners(getOwnerDocument(target));\n    this.windowListeners = new Listeners(getWindow(target));\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.attach();\n  }\n\n  attach() {\n    this.handleStart();\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    setTimeout(() => this.listeners.add(EventName.Keydown, this.handleKeyDown));\n  }\n\n  handleStart() {\n    const {\n      activeNode,\n      onStart\n    } = this.props;\n    const node = activeNode.node.current;\n\n    if (node) {\n      scrollIntoViewIfNeeded(node);\n    }\n\n    onStart(defaultCoordinates);\n  }\n\n  handleKeyDown(event) {\n    if (isKeyboardEvent(event)) {\n      const {\n        active,\n        context,\n        options\n      } = this.props;\n      const {\n        keyboardCodes = defaultKeyboardCodes,\n        coordinateGetter = defaultKeyboardCoordinateGetter,\n        scrollBehavior = 'smooth'\n      } = options;\n      const {\n        code\n      } = event;\n\n      if (keyboardCodes.end.includes(code)) {\n        this.handleEnd(event);\n        return;\n      }\n\n      if (keyboardCodes.cancel.includes(code)) {\n        this.handleCancel(event);\n        return;\n      }\n\n      const {\n        collisionRect\n      } = context.current;\n      const currentCoordinates = collisionRect ? {\n        x: collisionRect.left,\n        y: collisionRect.top\n      } : defaultCoordinates;\n\n      if (!this.referenceCoordinates) {\n        this.referenceCoordinates = currentCoordinates;\n      }\n\n      const newCoordinates = coordinateGetter(event, {\n        active,\n        context: context.current,\n        currentCoordinates\n      });\n\n      if (newCoordinates) {\n        const coordinatesDelta = subtract(newCoordinates, currentCoordinates);\n        const scrollDelta = {\n          x: 0,\n          y: 0\n        };\n        const {\n          scrollableAncestors\n        } = context.current;\n\n        for (const scrollContainer of scrollableAncestors) {\n          const direction = event.code;\n          const {\n            isTop,\n            isRight,\n            isLeft,\n            isBottom,\n            maxScroll,\n            minScroll\n          } = getScrollPosition(scrollContainer);\n          const scrollElementRect = getScrollElementRect(scrollContainer);\n          const clampedCoordinates = {\n            x: Math.min(direction === KeyboardCode.Right ? scrollElementRect.right - scrollElementRect.width / 2 : scrollElementRect.right, Math.max(direction === KeyboardCode.Right ? scrollElementRect.left : scrollElementRect.left + scrollElementRect.width / 2, newCoordinates.x)),\n            y: Math.min(direction === KeyboardCode.Down ? scrollElementRect.bottom - scrollElementRect.height / 2 : scrollElementRect.bottom, Math.max(direction === KeyboardCode.Down ? scrollElementRect.top : scrollElementRect.top + scrollElementRect.height / 2, newCoordinates.y))\n          };\n          const canScrollX = direction === KeyboardCode.Right && !isRight || direction === KeyboardCode.Left && !isLeft;\n          const canScrollY = direction === KeyboardCode.Down && !isBottom || direction === KeyboardCode.Up && !isTop;\n\n          if (canScrollX && clampedCoordinates.x !== newCoordinates.x) {\n            const newScrollCoordinates = scrollContainer.scrollLeft + coordinatesDelta.x;\n            const canScrollToNewCoordinates = direction === KeyboardCode.Right && newScrollCoordinates <= maxScroll.x || direction === KeyboardCode.Left && newScrollCoordinates >= minScroll.x;\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.y) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                left: newScrollCoordinates,\n                behavior: scrollBehavior\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.x = scrollContainer.scrollLeft - newScrollCoordinates;\n            } else {\n              scrollDelta.x = direction === KeyboardCode.Right ? scrollContainer.scrollLeft - maxScroll.x : scrollContainer.scrollLeft - minScroll.x;\n            }\n\n            if (scrollDelta.x) {\n              scrollContainer.scrollBy({\n                left: -scrollDelta.x,\n                behavior: scrollBehavior\n              });\n            }\n\n            break;\n          } else if (canScrollY && clampedCoordinates.y !== newCoordinates.y) {\n            const newScrollCoordinates = scrollContainer.scrollTop + coordinatesDelta.y;\n            const canScrollToNewCoordinates = direction === KeyboardCode.Down && newScrollCoordinates <= maxScroll.y || direction === KeyboardCode.Up && newScrollCoordinates >= minScroll.y;\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.x) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                top: newScrollCoordinates,\n                behavior: scrollBehavior\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.y = scrollContainer.scrollTop - newScrollCoordinates;\n            } else {\n              scrollDelta.y = direction === KeyboardCode.Down ? scrollContainer.scrollTop - maxScroll.y : scrollContainer.scrollTop - minScroll.y;\n            }\n\n            if (scrollDelta.y) {\n              scrollContainer.scrollBy({\n                top: -scrollDelta.y,\n                behavior: scrollBehavior\n              });\n            }\n\n            break;\n          }\n        }\n\n        this.handleMove(event, add(subtract(newCoordinates, this.referenceCoordinates), scrollDelta));\n      }\n    }\n  }\n\n  handleMove(event, coordinates) {\n    const {\n      onMove\n    } = this.props;\n    event.preventDefault();\n    onMove(coordinates);\n  }\n\n  handleEnd(event) {\n    const {\n      onEnd\n    } = this.props;\n    event.preventDefault();\n    this.detach();\n    onEnd();\n  }\n\n  handleCancel(event) {\n    const {\n      onCancel\n    } = this.props;\n    event.preventDefault();\n    this.detach();\n    onCancel();\n  }\n\n  detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n  }\n\n}\nKeyboardSensor.activators = [{\n  eventName: 'onKeyDown',\n  handler: (event, _ref, _ref2) => {\n    let {\n      keyboardCodes = defaultKeyboardCodes,\n      onActivation\n    } = _ref;\n    let {\n      active\n    } = _ref2;\n    const {\n      code\n    } = event.nativeEvent;\n\n    if (keyboardCodes.start.includes(code)) {\n      const activator = active.activatorNode.current;\n\n      if (activator && event.target !== activator) {\n        return false;\n      }\n\n      event.preventDefault();\n      onActivation == null ? void 0 : onActivation({\n        event: event.nativeEvent\n      });\n      return true;\n    }\n\n    return false;\n  }\n}];\n\nfunction isDistanceConstraint(constraint) {\n  return Boolean(constraint && 'distance' in constraint);\n}\n\nfunction isDelayConstraint(constraint) {\n  return Boolean(constraint && 'delay' in constraint);\n}\n\nclass AbstractPointerSensor {\n  constructor(props, events, listenerTarget) {\n    var _getEventCoordinates;\n\n    if (listenerTarget === void 0) {\n      listenerTarget = getEventListenerTarget(props.event.target);\n    }\n\n    this.props = void 0;\n    this.events = void 0;\n    this.autoScrollEnabled = true;\n    this.document = void 0;\n    this.activated = false;\n    this.initialCoordinates = void 0;\n    this.timeoutId = null;\n    this.listeners = void 0;\n    this.documentListeners = void 0;\n    this.windowListeners = void 0;\n    this.props = props;\n    this.events = events;\n    const {\n      event\n    } = props;\n    const {\n      target\n    } = event;\n    this.props = props;\n    this.events = events;\n    this.document = getOwnerDocument(target);\n    this.documentListeners = new Listeners(this.document);\n    this.listeners = new Listeners(listenerTarget);\n    this.windowListeners = new Listeners(getWindow(target));\n    this.initialCoordinates = (_getEventCoordinates = getEventCoordinates(event)) != null ? _getEventCoordinates : defaultCoordinates;\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n    this.removeTextSelection = this.removeTextSelection.bind(this);\n    this.attach();\n  }\n\n  attach() {\n    const {\n      events,\n      props: {\n        options: {\n          activationConstraint,\n          bypassActivationConstraint\n        }\n      }\n    } = this;\n    this.listeners.add(events.move.name, this.handleMove, {\n      passive: false\n    });\n    this.listeners.add(events.end.name, this.handleEnd);\n\n    if (events.cancel) {\n      this.listeners.add(events.cancel.name, this.handleCancel);\n    }\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.DragStart, preventDefault);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    this.windowListeners.add(EventName.ContextMenu, preventDefault);\n    this.documentListeners.add(EventName.Keydown, this.handleKeydown);\n\n    if (activationConstraint) {\n      if (bypassActivationConstraint != null && bypassActivationConstraint({\n        event: this.props.event,\n        activeNode: this.props.activeNode,\n        options: this.props.options\n      })) {\n        return this.handleStart();\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        this.timeoutId = setTimeout(this.handleStart, activationConstraint.delay);\n        this.handlePending(activationConstraint);\n        return;\n      }\n\n      if (isDistanceConstraint(activationConstraint)) {\n        this.handlePending(activationConstraint);\n        return;\n      }\n    }\n\n    this.handleStart();\n  }\n\n  detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll(); // Wait until the next event loop before removing document listeners\n    // This is necessary because we listen for `click` and `selection` events on the document\n\n    setTimeout(this.documentListeners.removeAll, 50);\n\n    if (this.timeoutId !== null) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n  }\n\n  handlePending(constraint, offset) {\n    const {\n      active,\n      onPending\n    } = this.props;\n    onPending(active, constraint, this.initialCoordinates, offset);\n  }\n\n  handleStart() {\n    const {\n      initialCoordinates\n    } = this;\n    const {\n      onStart\n    } = this.props;\n\n    if (initialCoordinates) {\n      this.activated = true; // Stop propagation of click events once activation constraints are met\n\n      this.documentListeners.add(EventName.Click, stopPropagation, {\n        capture: true\n      }); // Remove any text selection from the document\n\n      this.removeTextSelection(); // Prevent further text selection while dragging\n\n      this.documentListeners.add(EventName.SelectionChange, this.removeTextSelection);\n      onStart(initialCoordinates);\n    }\n  }\n\n  handleMove(event) {\n    var _getEventCoordinates2;\n\n    const {\n      activated,\n      initialCoordinates,\n      props\n    } = this;\n    const {\n      onMove,\n      options: {\n        activationConstraint\n      }\n    } = props;\n\n    if (!initialCoordinates) {\n      return;\n    }\n\n    const coordinates = (_getEventCoordinates2 = getEventCoordinates(event)) != null ? _getEventCoordinates2 : defaultCoordinates;\n    const delta = subtract(initialCoordinates, coordinates); // Constraint validation\n\n    if (!activated && activationConstraint) {\n      if (isDistanceConstraint(activationConstraint)) {\n        if (activationConstraint.tolerance != null && hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n\n        if (hasExceededDistance(delta, activationConstraint.distance)) {\n          return this.handleStart();\n        }\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        if (hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n      }\n\n      this.handlePending(activationConstraint, delta);\n      return;\n    }\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    onMove(coordinates);\n  }\n\n  handleEnd() {\n    const {\n      onAbort,\n      onEnd\n    } = this.props;\n    this.detach();\n\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n\n    onEnd();\n  }\n\n  handleCancel() {\n    const {\n      onAbort,\n      onCancel\n    } = this.props;\n    this.detach();\n\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n\n    onCancel();\n  }\n\n  handleKeydown(event) {\n    if (event.code === KeyboardCode.Esc) {\n      this.handleCancel();\n    }\n  }\n\n  removeTextSelection() {\n    var _this$document$getSel;\n\n    (_this$document$getSel = this.document.getSelection()) == null ? void 0 : _this$document$getSel.removeAllRanges();\n  }\n\n}\n\nconst events = {\n  cancel: {\n    name: 'pointercancel'\n  },\n  move: {\n    name: 'pointermove'\n  },\n  end: {\n    name: 'pointerup'\n  }\n};\nclass PointerSensor extends AbstractPointerSensor {\n  constructor(props) {\n    const {\n      event\n    } = props; // Pointer events stop firing if the target is unmounted while dragging\n    // Therefore we attach listeners to the owner document instead\n\n    const listenerTarget = getOwnerDocument(event.target);\n    super(props, events, listenerTarget);\n  }\n\n}\nPointerSensor.activators = [{\n  eventName: 'onPointerDown',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n\n    if (!event.isPrimary || event.button !== 0) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nconst events$1 = {\n  move: {\n    name: 'mousemove'\n  },\n  end: {\n    name: 'mouseup'\n  }\n};\nvar MouseButton;\n\n(function (MouseButton) {\n  MouseButton[MouseButton[\"RightClick\"] = 2] = \"RightClick\";\n})(MouseButton || (MouseButton = {}));\n\nclass MouseSensor extends AbstractPointerSensor {\n  constructor(props) {\n    super(props, events$1, getOwnerDocument(props.event.target));\n  }\n\n}\nMouseSensor.activators = [{\n  eventName: 'onMouseDown',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n\n    if (event.button === MouseButton.RightClick) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nconst events$2 = {\n  cancel: {\n    name: 'touchcancel'\n  },\n  move: {\n    name: 'touchmove'\n  },\n  end: {\n    name: 'touchend'\n  }\n};\nclass TouchSensor extends AbstractPointerSensor {\n  constructor(props) {\n    super(props, events$2);\n  }\n\n  static setup() {\n    // Adding a non-capture and non-passive `touchmove` listener in order\n    // to force `event.preventDefault()` calls to work in dynamically added\n    // touchmove event handlers. This is required for iOS Safari.\n    window.addEventListener(events$2.move.name, noop, {\n      capture: false,\n      passive: false\n    });\n    return function teardown() {\n      window.removeEventListener(events$2.move.name, noop);\n    }; // We create a new handler because the teardown function of another sensor\n    // could remove our event listener if we use a referentially equal listener.\n\n    function noop() {}\n  }\n\n}\nTouchSensor.activators = [{\n  eventName: 'onTouchStart',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n    const {\n      touches\n    } = event;\n\n    if (touches.length > 1) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nvar AutoScrollActivator;\n\n(function (AutoScrollActivator) {\n  AutoScrollActivator[AutoScrollActivator[\"Pointer\"] = 0] = \"Pointer\";\n  AutoScrollActivator[AutoScrollActivator[\"DraggableRect\"] = 1] = \"DraggableRect\";\n})(AutoScrollActivator || (AutoScrollActivator = {}));\n\nvar TraversalOrder;\n\n(function (TraversalOrder) {\n  TraversalOrder[TraversalOrder[\"TreeOrder\"] = 0] = \"TreeOrder\";\n  TraversalOrder[TraversalOrder[\"ReversedTreeOrder\"] = 1] = \"ReversedTreeOrder\";\n})(TraversalOrder || (TraversalOrder = {}));\n\nfunction useAutoScroller(_ref) {\n  let {\n    acceleration,\n    activator = AutoScrollActivator.Pointer,\n    canScroll,\n    draggingRect,\n    enabled,\n    interval = 5,\n    order = TraversalOrder.TreeOrder,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    delta,\n    threshold\n  } = _ref;\n  const scrollIntent = useScrollIntent({\n    delta,\n    disabled: !enabled\n  });\n  const [setAutoScrollInterval, clearAutoScrollInterval] = useInterval();\n  const scrollSpeed = React.useRef({\n    x: 0,\n    y: 0\n  });\n  const scrollDirection = React.useRef({\n    x: 0,\n    y: 0\n  });\n  const rect = React.useMemo(() => {\n    switch (activator) {\n      case AutoScrollActivator.Pointer:\n        return pointerCoordinates ? {\n          top: pointerCoordinates.y,\n          bottom: pointerCoordinates.y,\n          left: pointerCoordinates.x,\n          right: pointerCoordinates.x\n        } : null;\n\n      case AutoScrollActivator.DraggableRect:\n        return draggingRect;\n    }\n  }, [activator, draggingRect, pointerCoordinates]);\n  const scrollContainerRef = React.useRef(null);\n  const autoScroll = React.useCallback(() => {\n    const scrollContainer = scrollContainerRef.current;\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const scrollLeft = scrollSpeed.current.x * scrollDirection.current.x;\n    const scrollTop = scrollSpeed.current.y * scrollDirection.current.y;\n    scrollContainer.scrollBy(scrollLeft, scrollTop);\n  }, []);\n  const sortedScrollableAncestors = React.useMemo(() => order === TraversalOrder.TreeOrder ? [...scrollableAncestors].reverse() : scrollableAncestors, [order, scrollableAncestors]);\n  React.useEffect(() => {\n    if (!enabled || !scrollableAncestors.length || !rect) {\n      clearAutoScrollInterval();\n      return;\n    }\n\n    for (const scrollContainer of sortedScrollableAncestors) {\n      if ((canScroll == null ? void 0 : canScroll(scrollContainer)) === false) {\n        continue;\n      }\n\n      const index = scrollableAncestors.indexOf(scrollContainer);\n      const scrollContainerRect = scrollableAncestorRects[index];\n\n      if (!scrollContainerRect) {\n        continue;\n      }\n\n      const {\n        direction,\n        speed\n      } = getScrollDirectionAndSpeed(scrollContainer, scrollContainerRect, rect, acceleration, threshold);\n\n      for (const axis of ['x', 'y']) {\n        if (!scrollIntent[axis][direction[axis]]) {\n          speed[axis] = 0;\n          direction[axis] = 0;\n        }\n      }\n\n      if (speed.x > 0 || speed.y > 0) {\n        clearAutoScrollInterval();\n        scrollContainerRef.current = scrollContainer;\n        setAutoScrollInterval(autoScroll, interval);\n        scrollSpeed.current = speed;\n        scrollDirection.current = direction;\n        return;\n      }\n    }\n\n    scrollSpeed.current = {\n      x: 0,\n      y: 0\n    };\n    scrollDirection.current = {\n      x: 0,\n      y: 0\n    };\n    clearAutoScrollInterval();\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [acceleration, autoScroll, canScroll, clearAutoScrollInterval, enabled, interval, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(rect), // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(scrollIntent), setAutoScrollInterval, scrollableAncestors, sortedScrollableAncestors, scrollableAncestorRects, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(threshold)]);\n}\nconst defaultScrollIntent = {\n  x: {\n    [Direction.Backward]: false,\n    [Direction.Forward]: false\n  },\n  y: {\n    [Direction.Backward]: false,\n    [Direction.Forward]: false\n  }\n};\n\nfunction useScrollIntent(_ref2) {\n  let {\n    delta,\n    disabled\n  } = _ref2;\n  const previousDelta = usePrevious(delta);\n  return useLazyMemo(previousIntent => {\n    if (disabled || !previousDelta || !previousIntent) {\n      // Reset scroll intent tracking when auto-scrolling is disabled\n      return defaultScrollIntent;\n    }\n\n    const direction = {\n      x: Math.sign(delta.x - previousDelta.x),\n      y: Math.sign(delta.y - previousDelta.y)\n    }; // Keep track of the user intent to scroll in each direction for both axis\n\n    return {\n      x: {\n        [Direction.Backward]: previousIntent.x[Direction.Backward] || direction.x === -1,\n        [Direction.Forward]: previousIntent.x[Direction.Forward] || direction.x === 1\n      },\n      y: {\n        [Direction.Backward]: previousIntent.y[Direction.Backward] || direction.y === -1,\n        [Direction.Forward]: previousIntent.y[Direction.Forward] || direction.y === 1\n      }\n    };\n  }, [disabled, delta, previousDelta]);\n}\n\nfunction useCachedNode(draggableNodes, id) {\n  const draggableNode = id != null ? draggableNodes.get(id) : undefined;\n  const node = draggableNode ? draggableNode.node.current : null;\n  return useLazyMemo(cachedNode => {\n    var _ref;\n\n    if (id == null) {\n      return null;\n    } // In some cases, the draggable node can unmount while dragging\n    // This is the case for virtualized lists. In those situations,\n    // we fall back to the last known value for that node.\n\n\n    return (_ref = node != null ? node : cachedNode) != null ? _ref : null;\n  }, [node, id]);\n}\n\nfunction useCombineActivators(sensors, getSyntheticHandler) {\n  return React.useMemo(() => sensors.reduce((accumulator, sensor) => {\n    const {\n      sensor: Sensor\n    } = sensor;\n    const sensorActivators = Sensor.activators.map(activator => ({\n      eventName: activator.eventName,\n      handler: getSyntheticHandler(activator.handler, sensor)\n    }));\n    return [...accumulator, ...sensorActivators];\n  }, []), [sensors, getSyntheticHandler]);\n}\n\nvar MeasuringStrategy;\n\n(function (MeasuringStrategy) {\n  MeasuringStrategy[MeasuringStrategy[\"Always\"] = 0] = \"Always\";\n  MeasuringStrategy[MeasuringStrategy[\"BeforeDragging\"] = 1] = \"BeforeDragging\";\n  MeasuringStrategy[MeasuringStrategy[\"WhileDragging\"] = 2] = \"WhileDragging\";\n})(MeasuringStrategy || (MeasuringStrategy = {}));\n\nvar MeasuringFrequency;\n\n(function (MeasuringFrequency) {\n  MeasuringFrequency[\"Optimized\"] = \"optimized\";\n})(MeasuringFrequency || (MeasuringFrequency = {}));\n\nconst defaultValue = /*#__PURE__*/new Map();\nfunction useDroppableMeasuring(containers, _ref) {\n  let {\n    dragging,\n    dependencies,\n    config\n  } = _ref;\n  const [queue, setQueue] = React.useState(null);\n  const {\n    frequency,\n    measure,\n    strategy\n  } = config;\n  const containersRef = React.useRef(containers);\n  const disabled = isDisabled();\n  const disabledRef = useLatestValue(disabled);\n  const measureDroppableContainers = React.useCallback(function (ids) {\n    if (ids === void 0) {\n      ids = [];\n    }\n\n    if (disabledRef.current) {\n      return;\n    }\n\n    setQueue(value => {\n      if (value === null) {\n        return ids;\n      }\n\n      return value.concat(ids.filter(id => !value.includes(id)));\n    });\n  }, [disabledRef]);\n  const timeoutId = React.useRef(null);\n  const droppableRects = useLazyMemo(previousValue => {\n    if (disabled && !dragging) {\n      return defaultValue;\n    }\n\n    if (!previousValue || previousValue === defaultValue || containersRef.current !== containers || queue != null) {\n      const map = new Map();\n\n      for (let container of containers) {\n        if (!container) {\n          continue;\n        }\n\n        if (queue && queue.length > 0 && !queue.includes(container.id) && container.rect.current) {\n          // This container does not need to be re-measured\n          map.set(container.id, container.rect.current);\n          continue;\n        }\n\n        const node = container.node.current;\n        const rect = node ? new Rect(measure(node), node) : null;\n        container.rect.current = rect;\n\n        if (rect) {\n          map.set(container.id, rect);\n        }\n      }\n\n      return map;\n    }\n\n    return previousValue;\n  }, [containers, queue, dragging, disabled, measure]);\n  React.useEffect(() => {\n    containersRef.current = containers;\n  }, [containers]);\n  React.useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    measureDroppableContainers();\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [dragging, disabled]);\n  React.useEffect(() => {\n    if (queue && queue.length > 0) {\n      setQueue(null);\n    }\n  }, //eslint-disable-next-line react-hooks/exhaustive-deps\n  [JSON.stringify(queue)]);\n  React.useEffect(() => {\n    if (disabled || typeof frequency !== 'number' || timeoutId.current !== null) {\n      return;\n    }\n\n    timeoutId.current = setTimeout(() => {\n      measureDroppableContainers();\n      timeoutId.current = null;\n    }, frequency);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [frequency, disabled, measureDroppableContainers, ...dependencies]);\n  return {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled: queue != null\n  };\n\n  function isDisabled() {\n    switch (strategy) {\n      case MeasuringStrategy.Always:\n        return false;\n\n      case MeasuringStrategy.BeforeDragging:\n        return dragging;\n\n      default:\n        return !dragging;\n    }\n  }\n}\n\nfunction useInitialValue(value, computeFn) {\n  return useLazyMemo(previousValue => {\n    if (!value) {\n      return null;\n    }\n\n    if (previousValue) {\n      return previousValue;\n    }\n\n    return typeof computeFn === 'function' ? computeFn(value) : value;\n  }, [computeFn, value]);\n}\n\nfunction useInitialRect(node, measure) {\n  return useInitialValue(node, measure);\n}\n\n/**\r\n * Returns a new MutationObserver instance.\r\n * If `MutationObserver` is undefined in the execution environment, returns `undefined`.\r\n */\n\nfunction useMutationObserver(_ref) {\n  let {\n    callback,\n    disabled\n  } = _ref;\n  const handleMutations = useEvent(callback);\n  const mutationObserver = React.useMemo(() => {\n    if (disabled || typeof window === 'undefined' || typeof window.MutationObserver === 'undefined') {\n      return undefined;\n    }\n\n    const {\n      MutationObserver\n    } = window;\n    return new MutationObserver(handleMutations);\n  }, [handleMutations, disabled]);\n  React.useEffect(() => {\n    return () => mutationObserver == null ? void 0 : mutationObserver.disconnect();\n  }, [mutationObserver]);\n  return mutationObserver;\n}\n\n/**\r\n * Returns a new ResizeObserver instance bound to the `onResize` callback.\r\n * If `ResizeObserver` is undefined in the execution environment, returns `undefined`.\r\n */\n\nfunction useResizeObserver(_ref) {\n  let {\n    callback,\n    disabled\n  } = _ref;\n  const handleResize = useEvent(callback);\n  const resizeObserver = React.useMemo(() => {\n    if (disabled || typeof window === 'undefined' || typeof window.ResizeObserver === 'undefined') {\n      return undefined;\n    }\n\n    const {\n      ResizeObserver\n    } = window;\n    return new ResizeObserver(handleResize);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [disabled]);\n  React.useEffect(() => {\n    return () => resizeObserver == null ? void 0 : resizeObserver.disconnect();\n  }, [resizeObserver]);\n  return resizeObserver;\n}\n\nfunction defaultMeasure(element) {\n  return new Rect(getClientRect(element), element);\n}\n\nfunction useRect(element, measure, fallbackRect) {\n  if (measure === void 0) {\n    measure = defaultMeasure;\n  }\n\n  const [rect, setRect] = React.useState(null);\n\n  function measureRect() {\n    setRect(currentRect => {\n      if (!element) {\n        return null;\n      }\n\n      if (element.isConnected === false) {\n        var _ref;\n\n        // Fall back to last rect we measured if the element is\n        // no longer connected to the DOM.\n        return (_ref = currentRect != null ? currentRect : fallbackRect) != null ? _ref : null;\n      }\n\n      const newRect = measure(element);\n\n      if (JSON.stringify(currentRect) === JSON.stringify(newRect)) {\n        return currentRect;\n      }\n\n      return newRect;\n    });\n  }\n\n  const mutationObserver = useMutationObserver({\n    callback(records) {\n      if (!element) {\n        return;\n      }\n\n      for (const record of records) {\n        const {\n          type,\n          target\n        } = record;\n\n        if (type === 'childList' && target instanceof HTMLElement && target.contains(element)) {\n          measureRect();\n          break;\n        }\n      }\n    }\n\n  });\n  const resizeObserver = useResizeObserver({\n    callback: measureRect\n  });\n  useIsomorphicLayoutEffect(() => {\n    measureRect();\n\n    if (element) {\n      resizeObserver == null ? void 0 : resizeObserver.observe(element);\n      mutationObserver == null ? void 0 : mutationObserver.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    } else {\n      resizeObserver == null ? void 0 : resizeObserver.disconnect();\n      mutationObserver == null ? void 0 : mutationObserver.disconnect();\n    }\n  }, [element]);\n  return rect;\n}\n\nfunction useRectDelta(rect) {\n  const initialRect = useInitialValue(rect);\n  return getRectDelta(rect, initialRect);\n}\n\nconst defaultValue$1 = [];\nfunction useScrollableAncestors(node) {\n  const previousNode = React.useRef(node);\n  const ancestors = useLazyMemo(previousValue => {\n    if (!node) {\n      return defaultValue$1;\n    }\n\n    if (previousValue && previousValue !== defaultValue$1 && node && previousNode.current && node.parentNode === previousNode.current.parentNode) {\n      return previousValue;\n    }\n\n    return getScrollableAncestors(node);\n  }, [node]);\n  React.useEffect(() => {\n    previousNode.current = node;\n  }, [node]);\n  return ancestors;\n}\n\nfunction useScrollOffsets(elements) {\n  const [scrollCoordinates, setScrollCoordinates] = React.useState(null);\n  const prevElements = React.useRef(elements); // To-do: Throttle the handleScroll callback\n\n  const handleScroll = React.useCallback(event => {\n    const scrollingElement = getScrollableElement(event.target);\n\n    if (!scrollingElement) {\n      return;\n    }\n\n    setScrollCoordinates(scrollCoordinates => {\n      if (!scrollCoordinates) {\n        return null;\n      }\n\n      scrollCoordinates.set(scrollingElement, getScrollCoordinates(scrollingElement));\n      return new Map(scrollCoordinates);\n    });\n  }, []);\n  React.useEffect(() => {\n    const previousElements = prevElements.current;\n\n    if (elements !== previousElements) {\n      cleanup(previousElements);\n      const entries = elements.map(element => {\n        const scrollableElement = getScrollableElement(element);\n\n        if (scrollableElement) {\n          scrollableElement.addEventListener('scroll', handleScroll, {\n            passive: true\n          });\n          return [scrollableElement, getScrollCoordinates(scrollableElement)];\n        }\n\n        return null;\n      }).filter(entry => entry != null);\n      setScrollCoordinates(entries.length ? new Map(entries) : null);\n      prevElements.current = elements;\n    }\n\n    return () => {\n      cleanup(elements);\n      cleanup(previousElements);\n    };\n\n    function cleanup(elements) {\n      elements.forEach(element => {\n        const scrollableElement = getScrollableElement(element);\n        scrollableElement == null ? void 0 : scrollableElement.removeEventListener('scroll', handleScroll);\n      });\n    }\n  }, [handleScroll, elements]);\n  return React.useMemo(() => {\n    if (elements.length) {\n      return scrollCoordinates ? Array.from(scrollCoordinates.values()).reduce((acc, coordinates) => add(acc, coordinates), defaultCoordinates) : getScrollOffsets(elements);\n    }\n\n    return defaultCoordinates;\n  }, [elements, scrollCoordinates]);\n}\n\nfunction useScrollOffsetsDelta(scrollOffsets, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n\n  const initialScrollOffsets = React.useRef(null);\n  React.useEffect(() => {\n    initialScrollOffsets.current = null;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  dependencies);\n  React.useEffect(() => {\n    const hasScrollOffsets = scrollOffsets !== defaultCoordinates;\n\n    if (hasScrollOffsets && !initialScrollOffsets.current) {\n      initialScrollOffsets.current = scrollOffsets;\n    }\n\n    if (!hasScrollOffsets && initialScrollOffsets.current) {\n      initialScrollOffsets.current = null;\n    }\n  }, [scrollOffsets]);\n  return initialScrollOffsets.current ? subtract(scrollOffsets, initialScrollOffsets.current) : defaultCoordinates;\n}\n\nfunction useSensorSetup(sensors) {\n  React.useEffect(() => {\n    if (!canUseDOM) {\n      return;\n    }\n\n    const teardownFns = sensors.map(_ref => {\n      let {\n        sensor\n      } = _ref;\n      return sensor.setup == null ? void 0 : sensor.setup();\n    });\n    return () => {\n      for (const teardown of teardownFns) {\n        teardown == null ? void 0 : teardown();\n      }\n    };\n  }, // TO-DO: Sensors length could theoretically change which would not be a valid dependency\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  sensors.map(_ref2 => {\n    let {\n      sensor\n    } = _ref2;\n    return sensor;\n  }));\n}\n\nfunction useSyntheticListeners(listeners, id) {\n  return React.useMemo(() => {\n    return listeners.reduce((acc, _ref) => {\n      let {\n        eventName,\n        handler\n      } = _ref;\n\n      acc[eventName] = event => {\n        handler(event, id);\n      };\n\n      return acc;\n    }, {});\n  }, [listeners, id]);\n}\n\nfunction useWindowRect(element) {\n  return React.useMemo(() => element ? getWindowClientRect(element) : null, [element]);\n}\n\nconst defaultValue$2 = [];\nfunction useRects(elements, measure) {\n  if (measure === void 0) {\n    measure = getClientRect;\n  }\n\n  const [firstElement] = elements;\n  const windowRect = useWindowRect(firstElement ? getWindow(firstElement) : null);\n  const [rects, setRects] = React.useState(defaultValue$2);\n\n  function measureRects() {\n    setRects(() => {\n      if (!elements.length) {\n        return defaultValue$2;\n      }\n\n      return elements.map(element => isDocumentScrollingElement(element) ? windowRect : new Rect(measure(element), element));\n    });\n  }\n\n  const resizeObserver = useResizeObserver({\n    callback: measureRects\n  });\n  useIsomorphicLayoutEffect(() => {\n    resizeObserver == null ? void 0 : resizeObserver.disconnect();\n    measureRects();\n    elements.forEach(element => resizeObserver == null ? void 0 : resizeObserver.observe(element));\n  }, [elements]);\n  return rects;\n}\n\nfunction getMeasurableNode(node) {\n  if (!node) {\n    return null;\n  }\n\n  if (node.children.length > 1) {\n    return node;\n  }\n\n  const firstChild = node.children[0];\n  return isHTMLElement(firstChild) ? firstChild : node;\n}\n\nfunction useDragOverlayMeasuring(_ref) {\n  let {\n    measure\n  } = _ref;\n  const [rect, setRect] = React.useState(null);\n  const handleResize = React.useCallback(entries => {\n    for (const {\n      target\n    } of entries) {\n      if (isHTMLElement(target)) {\n        setRect(rect => {\n          const newRect = measure(target);\n          return rect ? { ...rect,\n            width: newRect.width,\n            height: newRect.height\n          } : newRect;\n        });\n        break;\n      }\n    }\n  }, [measure]);\n  const resizeObserver = useResizeObserver({\n    callback: handleResize\n  });\n  const handleNodeChange = React.useCallback(element => {\n    const node = getMeasurableNode(element);\n    resizeObserver == null ? void 0 : resizeObserver.disconnect();\n\n    if (node) {\n      resizeObserver == null ? void 0 : resizeObserver.observe(node);\n    }\n\n    setRect(node ? measure(node) : null);\n  }, [measure, resizeObserver]);\n  const [nodeRef, setRef] = useNodeRef(handleNodeChange);\n  return React.useMemo(() => ({\n    nodeRef,\n    rect,\n    setRef\n  }), [rect, nodeRef, setRef]);\n}\n\nconst defaultSensors = [{\n  sensor: PointerSensor,\n  options: {}\n}, {\n  sensor: KeyboardSensor,\n  options: {}\n}];\nconst defaultData = {\n  current: {}\n};\nconst defaultMeasuringConfiguration = {\n  draggable: {\n    measure: getTransformAgnosticClientRect\n  },\n  droppable: {\n    measure: getTransformAgnosticClientRect,\n    strategy: MeasuringStrategy.WhileDragging,\n    frequency: MeasuringFrequency.Optimized\n  },\n  dragOverlay: {\n    measure: getClientRect\n  }\n};\n\nclass DroppableContainersMap extends Map {\n  get(id) {\n    var _super$get;\n\n    return id != null ? (_super$get = super.get(id)) != null ? _super$get : undefined : undefined;\n  }\n\n  toArray() {\n    return Array.from(this.values());\n  }\n\n  getEnabled() {\n    return this.toArray().filter(_ref => {\n      let {\n        disabled\n      } = _ref;\n      return !disabled;\n    });\n  }\n\n  getNodeFor(id) {\n    var _this$get$node$curren, _this$get;\n\n    return (_this$get$node$curren = (_this$get = this.get(id)) == null ? void 0 : _this$get.node.current) != null ? _this$get$node$curren : undefined;\n  }\n\n}\n\nconst defaultPublicContext = {\n  activatorEvent: null,\n  active: null,\n  activeNode: null,\n  activeNodeRect: null,\n  collisions: null,\n  containerNodeRect: null,\n  draggableNodes: /*#__PURE__*/new Map(),\n  droppableRects: /*#__PURE__*/new Map(),\n  droppableContainers: /*#__PURE__*/new DroppableContainersMap(),\n  over: null,\n  dragOverlay: {\n    nodeRef: {\n      current: null\n    },\n    rect: null,\n    setRef: noop\n  },\n  scrollableAncestors: [],\n  scrollableAncestorRects: [],\n  measuringConfiguration: defaultMeasuringConfiguration,\n  measureDroppableContainers: noop,\n  windowRect: null,\n  measuringScheduled: false\n};\nconst defaultInternalContext = {\n  activatorEvent: null,\n  activators: [],\n  active: null,\n  activeNodeRect: null,\n  ariaDescribedById: {\n    draggable: ''\n  },\n  dispatch: noop,\n  draggableNodes: /*#__PURE__*/new Map(),\n  over: null,\n  measureDroppableContainers: noop\n};\nconst InternalContext = /*#__PURE__*/React.createContext(defaultInternalContext);\nconst PublicContext = /*#__PURE__*/React.createContext(defaultPublicContext);\n\nfunction getInitialState() {\n  return {\n    draggable: {\n      active: null,\n      initialCoordinates: {\n        x: 0,\n        y: 0\n      },\n      nodes: new Map(),\n      translate: {\n        x: 0,\n        y: 0\n      }\n    },\n    droppable: {\n      containers: new DroppableContainersMap()\n    }\n  };\n}\nfunction reducer(state, action) {\n  switch (action.type) {\n    case Action.DragStart:\n      return { ...state,\n        draggable: { ...state.draggable,\n          initialCoordinates: action.initialCoordinates,\n          active: action.active\n        }\n      };\n\n    case Action.DragMove:\n      if (state.draggable.active == null) {\n        return state;\n      }\n\n      return { ...state,\n        draggable: { ...state.draggable,\n          translate: {\n            x: action.coordinates.x - state.draggable.initialCoordinates.x,\n            y: action.coordinates.y - state.draggable.initialCoordinates.y\n          }\n        }\n      };\n\n    case Action.DragEnd:\n    case Action.DragCancel:\n      return { ...state,\n        draggable: { ...state.draggable,\n          active: null,\n          initialCoordinates: {\n            x: 0,\n            y: 0\n          },\n          translate: {\n            x: 0,\n            y: 0\n          }\n        }\n      };\n\n    case Action.RegisterDroppable:\n      {\n        const {\n          element\n        } = action;\n        const {\n          id\n        } = element;\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.set(id, element);\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    case Action.SetDroppableDisabled:\n      {\n        const {\n          id,\n          key,\n          disabled\n        } = action;\n        const element = state.droppable.containers.get(id);\n\n        if (!element || key !== element.key) {\n          return state;\n        }\n\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.set(id, { ...element,\n          disabled\n        });\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    case Action.UnregisterDroppable:\n      {\n        const {\n          id,\n          key\n        } = action;\n        const element = state.droppable.containers.get(id);\n\n        if (!element || key !== element.key) {\n          return state;\n        }\n\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.delete(id);\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nfunction RestoreFocus(_ref) {\n  let {\n    disabled\n  } = _ref;\n  const {\n    active,\n    activatorEvent,\n    draggableNodes\n  } = React.useContext(InternalContext);\n  const previousActivatorEvent = usePrevious(activatorEvent);\n  const previousActiveId = usePrevious(active == null ? void 0 : active.id); // Restore keyboard focus on the activator node\n\n  React.useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    if (!activatorEvent && previousActivatorEvent && previousActiveId != null) {\n      if (!isKeyboardEvent(previousActivatorEvent)) {\n        return;\n      }\n\n      if (document.activeElement === previousActivatorEvent.target) {\n        // No need to restore focus\n        return;\n      }\n\n      const draggableNode = draggableNodes.get(previousActiveId);\n\n      if (!draggableNode) {\n        return;\n      }\n\n      const {\n        activatorNode,\n        node\n      } = draggableNode;\n\n      if (!activatorNode.current && !node.current) {\n        return;\n      }\n\n      requestAnimationFrame(() => {\n        for (const element of [activatorNode.current, node.current]) {\n          if (!element) {\n            continue;\n          }\n\n          const focusableNode = findFirstFocusableNode(element);\n\n          if (focusableNode) {\n            focusableNode.focus();\n            break;\n          }\n        }\n      });\n    }\n  }, [activatorEvent, disabled, draggableNodes, previousActiveId, previousActivatorEvent]);\n  return null;\n}\n\nfunction applyModifiers(modifiers, _ref) {\n  let {\n    transform,\n    ...args\n  } = _ref;\n  return modifiers != null && modifiers.length ? modifiers.reduce((accumulator, modifier) => {\n    return modifier({\n      transform: accumulator,\n      ...args\n    });\n  }, transform) : transform;\n}\n\nfunction useMeasuringConfiguration(config) {\n  return React.useMemo(() => ({\n    draggable: { ...defaultMeasuringConfiguration.draggable,\n      ...(config == null ? void 0 : config.draggable)\n    },\n    droppable: { ...defaultMeasuringConfiguration.droppable,\n      ...(config == null ? void 0 : config.droppable)\n    },\n    dragOverlay: { ...defaultMeasuringConfiguration.dragOverlay,\n      ...(config == null ? void 0 : config.dragOverlay)\n    }\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [config == null ? void 0 : config.draggable, config == null ? void 0 : config.droppable, config == null ? void 0 : config.dragOverlay]);\n}\n\nfunction useLayoutShiftScrollCompensation(_ref) {\n  let {\n    activeNode,\n    measure,\n    initialRect,\n    config = true\n  } = _ref;\n  const initialized = React.useRef(false);\n  const {\n    x,\n    y\n  } = typeof config === 'boolean' ? {\n    x: config,\n    y: config\n  } : config;\n  useIsomorphicLayoutEffect(() => {\n    const disabled = !x && !y;\n\n    if (disabled || !activeNode) {\n      initialized.current = false;\n      return;\n    }\n\n    if (initialized.current || !initialRect) {\n      // Return early if layout shift scroll compensation was already attempted\n      // or if there is no initialRect to compare to.\n      return;\n    } // Get the most up to date node ref for the active draggable\n\n\n    const node = activeNode == null ? void 0 : activeNode.node.current;\n\n    if (!node || node.isConnected === false) {\n      // Return early if there is no attached node ref or if the node is\n      // disconnected from the document.\n      return;\n    }\n\n    const rect = measure(node);\n    const rectDelta = getRectDelta(rect, initialRect);\n\n    if (!x) {\n      rectDelta.x = 0;\n    }\n\n    if (!y) {\n      rectDelta.y = 0;\n    } // Only perform layout shift scroll compensation once\n\n\n    initialized.current = true;\n\n    if (Math.abs(rectDelta.x) > 0 || Math.abs(rectDelta.y) > 0) {\n      const firstScrollableAncestor = getFirstScrollableAncestor(node);\n\n      if (firstScrollableAncestor) {\n        firstScrollableAncestor.scrollBy({\n          top: rectDelta.y,\n          left: rectDelta.x\n        });\n      }\n    }\n  }, [activeNode, x, y, initialRect, measure]);\n}\n\nconst ActiveDraggableContext = /*#__PURE__*/React.createContext({ ...defaultCoordinates,\n  scaleX: 1,\n  scaleY: 1\n});\nvar Status;\n\n(function (Status) {\n  Status[Status[\"Uninitialized\"] = 0] = \"Uninitialized\";\n  Status[Status[\"Initializing\"] = 1] = \"Initializing\";\n  Status[Status[\"Initialized\"] = 2] = \"Initialized\";\n})(Status || (Status = {}));\n\nconst DndContext = /*#__PURE__*/React.memo(function DndContext(_ref) {\n  var _sensorContext$curren, _dragOverlay$nodeRef$, _dragOverlay$rect, _over$rect;\n\n  let {\n    id,\n    accessibility,\n    autoScroll = true,\n    children,\n    sensors = defaultSensors,\n    collisionDetection = rectIntersection,\n    measuring,\n    modifiers,\n    ...props\n  } = _ref;\n  const store = React.useReducer(reducer, undefined, getInitialState);\n  const [state, dispatch] = store;\n  const [dispatchMonitorEvent, registerMonitorListener] = useDndMonitorProvider();\n  const [status, setStatus] = React.useState(Status.Uninitialized);\n  const isInitialized = status === Status.Initialized;\n  const {\n    draggable: {\n      active: activeId,\n      nodes: draggableNodes,\n      translate\n    },\n    droppable: {\n      containers: droppableContainers\n    }\n  } = state;\n  const node = activeId != null ? draggableNodes.get(activeId) : null;\n  const activeRects = React.useRef({\n    initial: null,\n    translated: null\n  });\n  const active = React.useMemo(() => {\n    var _node$data;\n\n    return activeId != null ? {\n      id: activeId,\n      // It's possible for the active node to unmount while dragging\n      data: (_node$data = node == null ? void 0 : node.data) != null ? _node$data : defaultData,\n      rect: activeRects\n    } : null;\n  }, [activeId, node]);\n  const activeRef = React.useRef(null);\n  const [activeSensor, setActiveSensor] = React.useState(null);\n  const [activatorEvent, setActivatorEvent] = React.useState(null);\n  const latestProps = useLatestValue(props, Object.values(props));\n  const draggableDescribedById = useUniqueId(\"DndDescribedBy\", id);\n  const enabledDroppableContainers = React.useMemo(() => droppableContainers.getEnabled(), [droppableContainers]);\n  const measuringConfiguration = useMeasuringConfiguration(measuring);\n  const {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled\n  } = useDroppableMeasuring(enabledDroppableContainers, {\n    dragging: isInitialized,\n    dependencies: [translate.x, translate.y],\n    config: measuringConfiguration.droppable\n  });\n  const activeNode = useCachedNode(draggableNodes, activeId);\n  const activationCoordinates = React.useMemo(() => activatorEvent ? getEventCoordinates(activatorEvent) : null, [activatorEvent]);\n  const autoScrollOptions = getAutoScrollerOptions();\n  const initialActiveNodeRect = useInitialRect(activeNode, measuringConfiguration.draggable.measure);\n  useLayoutShiftScrollCompensation({\n    activeNode: activeId != null ? draggableNodes.get(activeId) : null,\n    config: autoScrollOptions.layoutShiftCompensation,\n    initialRect: initialActiveNodeRect,\n    measure: measuringConfiguration.draggable.measure\n  });\n  const activeNodeRect = useRect(activeNode, measuringConfiguration.draggable.measure, initialActiveNodeRect);\n  const containerNodeRect = useRect(activeNode ? activeNode.parentElement : null);\n  const sensorContext = React.useRef({\n    activatorEvent: null,\n    active: null,\n    activeNode,\n    collisionRect: null,\n    collisions: null,\n    droppableRects,\n    draggableNodes,\n    draggingNode: null,\n    draggingNodeRect: null,\n    droppableContainers,\n    over: null,\n    scrollableAncestors: [],\n    scrollAdjustedTranslate: null\n  });\n  const overNode = droppableContainers.getNodeFor((_sensorContext$curren = sensorContext.current.over) == null ? void 0 : _sensorContext$curren.id);\n  const dragOverlay = useDragOverlayMeasuring({\n    measure: measuringConfiguration.dragOverlay.measure\n  }); // Use the rect of the drag overlay if it is mounted\n\n  const draggingNode = (_dragOverlay$nodeRef$ = dragOverlay.nodeRef.current) != null ? _dragOverlay$nodeRef$ : activeNode;\n  const draggingNodeRect = isInitialized ? (_dragOverlay$rect = dragOverlay.rect) != null ? _dragOverlay$rect : activeNodeRect : null;\n  const usesDragOverlay = Boolean(dragOverlay.nodeRef.current && dragOverlay.rect); // The delta between the previous and new position of the draggable node\n  // is only relevant when there is no drag overlay\n\n  const nodeRectDelta = useRectDelta(usesDragOverlay ? null : activeNodeRect); // Get the window rect of the dragging node\n\n  const windowRect = useWindowRect(draggingNode ? getWindow(draggingNode) : null); // Get scrollable ancestors of the dragging node\n\n  const scrollableAncestors = useScrollableAncestors(isInitialized ? overNode != null ? overNode : activeNode : null);\n  const scrollableAncestorRects = useRects(scrollableAncestors); // Apply modifiers\n\n  const modifiedTranslate = applyModifiers(modifiers, {\n    transform: {\n      x: translate.x - nodeRectDelta.x,\n      y: translate.y - nodeRectDelta.y,\n      scaleX: 1,\n      scaleY: 1\n    },\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect,\n    over: sensorContext.current.over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect\n  });\n  const pointerCoordinates = activationCoordinates ? add(activationCoordinates, translate) : null;\n  const scrollOffsets = useScrollOffsets(scrollableAncestors); // Represents the scroll delta since dragging was initiated\n\n  const scrollAdjustment = useScrollOffsetsDelta(scrollOffsets); // Represents the scroll delta since the last time the active node rect was measured\n\n  const activeNodeScrollDelta = useScrollOffsetsDelta(scrollOffsets, [activeNodeRect]);\n  const scrollAdjustedTranslate = add(modifiedTranslate, scrollAdjustment);\n  const collisionRect = draggingNodeRect ? getAdjustedRect(draggingNodeRect, modifiedTranslate) : null;\n  const collisions = active && collisionRect ? collisionDetection({\n    active,\n    collisionRect,\n    droppableRects,\n    droppableContainers: enabledDroppableContainers,\n    pointerCoordinates\n  }) : null;\n  const overId = getFirstCollision(collisions, 'id');\n  const [over, setOver] = React.useState(null); // When there is no drag overlay used, we need to account for the\n  // window scroll delta\n\n  const appliedTranslate = usesDragOverlay ? modifiedTranslate : add(modifiedTranslate, activeNodeScrollDelta);\n  const transform = adjustScale(appliedTranslate, (_over$rect = over == null ? void 0 : over.rect) != null ? _over$rect : null, activeNodeRect);\n  const activeSensorRef = React.useRef(null);\n  const instantiateSensor = React.useCallback((event, _ref2) => {\n    let {\n      sensor: Sensor,\n      options\n    } = _ref2;\n\n    if (activeRef.current == null) {\n      return;\n    }\n\n    const activeNode = draggableNodes.get(activeRef.current);\n\n    if (!activeNode) {\n      return;\n    }\n\n    const activatorEvent = event.nativeEvent;\n    const sensorInstance = new Sensor({\n      active: activeRef.current,\n      activeNode,\n      event: activatorEvent,\n      options,\n      // Sensors need to be instantiated with refs for arguments that change over time\n      // otherwise they are frozen in time with the stale arguments\n      context: sensorContext,\n\n      onAbort(id) {\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragAbort\n        } = latestProps.current;\n        const event = {\n          id\n        };\n        onDragAbort == null ? void 0 : onDragAbort(event);\n        dispatchMonitorEvent({\n          type: 'onDragAbort',\n          event\n        });\n      },\n\n      onPending(id, constraint, initialCoordinates, offset) {\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragPending\n        } = latestProps.current;\n        const event = {\n          id,\n          constraint,\n          initialCoordinates,\n          offset\n        };\n        onDragPending == null ? void 0 : onDragPending(event);\n        dispatchMonitorEvent({\n          type: 'onDragPending',\n          event\n        });\n      },\n\n      onStart(initialCoordinates) {\n        const id = activeRef.current;\n\n        if (id == null) {\n          return;\n        }\n\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragStart\n        } = latestProps.current;\n        const event = {\n          activatorEvent,\n          active: {\n            id,\n            data: draggableNode.data,\n            rect: activeRects\n          }\n        };\n        reactDom.unstable_batchedUpdates(() => {\n          onDragStart == null ? void 0 : onDragStart(event);\n          setStatus(Status.Initializing);\n          dispatch({\n            type: Action.DragStart,\n            initialCoordinates,\n            active: id\n          });\n          dispatchMonitorEvent({\n            type: 'onDragStart',\n            event\n          });\n          setActiveSensor(activeSensorRef.current);\n          setActivatorEvent(activatorEvent);\n        });\n      },\n\n      onMove(coordinates) {\n        dispatch({\n          type: Action.DragMove,\n          coordinates\n        });\n      },\n\n      onEnd: createHandler(Action.DragEnd),\n      onCancel: createHandler(Action.DragCancel)\n    });\n    activeSensorRef.current = sensorInstance;\n\n    function createHandler(type) {\n      return async function handler() {\n        const {\n          active,\n          collisions,\n          over,\n          scrollAdjustedTranslate\n        } = sensorContext.current;\n        let event = null;\n\n        if (active && scrollAdjustedTranslate) {\n          const {\n            cancelDrop\n          } = latestProps.current;\n          event = {\n            activatorEvent,\n            active: active,\n            collisions,\n            delta: scrollAdjustedTranslate,\n            over\n          };\n\n          if (type === Action.DragEnd && typeof cancelDrop === 'function') {\n            const shouldCancel = await Promise.resolve(cancelDrop(event));\n\n            if (shouldCancel) {\n              type = Action.DragCancel;\n            }\n          }\n        }\n\n        activeRef.current = null;\n        reactDom.unstable_batchedUpdates(() => {\n          dispatch({\n            type\n          });\n          setStatus(Status.Uninitialized);\n          setOver(null);\n          setActiveSensor(null);\n          setActivatorEvent(null);\n          activeSensorRef.current = null;\n          const eventName = type === Action.DragEnd ? 'onDragEnd' : 'onDragCancel';\n\n          if (event) {\n            const handler = latestProps.current[eventName];\n            handler == null ? void 0 : handler(event);\n            dispatchMonitorEvent({\n              type: eventName,\n              event\n            });\n          }\n        });\n      };\n    }\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [draggableNodes]);\n  const bindActivatorToSensorInstantiator = React.useCallback((handler, sensor) => {\n    return (event, active) => {\n      const nativeEvent = event.nativeEvent;\n      const activeDraggableNode = draggableNodes.get(active);\n\n      if ( // Another sensor is already instantiating\n      activeRef.current !== null || // No active draggable\n      !activeDraggableNode || // Event has already been captured\n      nativeEvent.dndKit || nativeEvent.defaultPrevented) {\n        return;\n      }\n\n      const activationContext = {\n        active: activeDraggableNode\n      };\n      const shouldActivate = handler(event, sensor.options, activationContext);\n\n      if (shouldActivate === true) {\n        nativeEvent.dndKit = {\n          capturedBy: sensor.sensor\n        };\n        activeRef.current = active;\n        instantiateSensor(event, sensor);\n      }\n    };\n  }, [draggableNodes, instantiateSensor]);\n  const activators = useCombineActivators(sensors, bindActivatorToSensorInstantiator);\n  useSensorSetup(sensors);\n  useIsomorphicLayoutEffect(() => {\n    if (activeNodeRect && status === Status.Initializing) {\n      setStatus(Status.Initialized);\n    }\n  }, [activeNodeRect, status]);\n  React.useEffect(() => {\n    const {\n      onDragMove\n    } = latestProps.current;\n    const {\n      active,\n      activatorEvent,\n      collisions,\n      over\n    } = sensorContext.current;\n\n    if (!active || !activatorEvent) {\n      return;\n    }\n\n    const event = {\n      active,\n      activatorEvent,\n      collisions,\n      delta: {\n        x: scrollAdjustedTranslate.x,\n        y: scrollAdjustedTranslate.y\n      },\n      over\n    };\n    reactDom.unstable_batchedUpdates(() => {\n      onDragMove == null ? void 0 : onDragMove(event);\n      dispatchMonitorEvent({\n        type: 'onDragMove',\n        event\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [scrollAdjustedTranslate.x, scrollAdjustedTranslate.y]);\n  React.useEffect(() => {\n    const {\n      active,\n      activatorEvent,\n      collisions,\n      droppableContainers,\n      scrollAdjustedTranslate\n    } = sensorContext.current;\n\n    if (!active || activeRef.current == null || !activatorEvent || !scrollAdjustedTranslate) {\n      return;\n    }\n\n    const {\n      onDragOver\n    } = latestProps.current;\n    const overContainer = droppableContainers.get(overId);\n    const over = overContainer && overContainer.rect.current ? {\n      id: overContainer.id,\n      rect: overContainer.rect.current,\n      data: overContainer.data,\n      disabled: overContainer.disabled\n    } : null;\n    const event = {\n      active,\n      activatorEvent,\n      collisions,\n      delta: {\n        x: scrollAdjustedTranslate.x,\n        y: scrollAdjustedTranslate.y\n      },\n      over\n    };\n    reactDom.unstable_batchedUpdates(() => {\n      setOver(over);\n      onDragOver == null ? void 0 : onDragOver(event);\n      dispatchMonitorEvent({\n        type: 'onDragOver',\n        event\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [overId]);\n  useIsomorphicLayoutEffect(() => {\n    sensorContext.current = {\n      activatorEvent,\n      active,\n      activeNode,\n      collisionRect,\n      collisions,\n      droppableRects,\n      draggableNodes,\n      draggingNode,\n      draggingNodeRect,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n      scrollAdjustedTranslate\n    };\n    activeRects.current = {\n      initial: draggingNodeRect,\n      translated: collisionRect\n    };\n  }, [active, activeNode, collisions, collisionRect, draggableNodes, draggingNode, draggingNodeRect, droppableRects, droppableContainers, over, scrollableAncestors, scrollAdjustedTranslate]);\n  useAutoScroller({ ...autoScrollOptions,\n    delta: translate,\n    draggingRect: collisionRect,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects\n  });\n  const publicContext = React.useMemo(() => {\n    const context = {\n      active,\n      activeNode,\n      activeNodeRect,\n      activatorEvent,\n      collisions,\n      containerNodeRect,\n      dragOverlay,\n      draggableNodes,\n      droppableContainers,\n      droppableRects,\n      over,\n      measureDroppableContainers,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      measuringConfiguration,\n      measuringScheduled,\n      windowRect\n    };\n    return context;\n  }, [active, activeNode, activeNodeRect, activatorEvent, collisions, containerNodeRect, dragOverlay, draggableNodes, droppableContainers, droppableRects, over, measureDroppableContainers, scrollableAncestors, scrollableAncestorRects, measuringConfiguration, measuringScheduled, windowRect]);\n  const internalContext = React.useMemo(() => {\n    const context = {\n      activatorEvent,\n      activators,\n      active,\n      activeNodeRect,\n      ariaDescribedById: {\n        draggable: draggableDescribedById\n      },\n      dispatch,\n      draggableNodes,\n      over,\n      measureDroppableContainers\n    };\n    return context;\n  }, [activatorEvent, activators, active, activeNodeRect, dispatch, draggableDescribedById, draggableNodes, over, measureDroppableContainers]);\n  return React.createElement(DndMonitorContext.Provider, {\n    value: registerMonitorListener\n  }, React.createElement(InternalContext.Provider, {\n    value: internalContext\n  }, React.createElement(PublicContext.Provider, {\n    value: publicContext\n  }, React.createElement(ActiveDraggableContext.Provider, {\n    value: transform\n  }, children)), React.createElement(RestoreFocus, {\n    disabled: (accessibility == null ? void 0 : accessibility.restoreFocus) === false\n  })), React.createElement(Accessibility, { ...accessibility,\n    hiddenTextDescribedById: draggableDescribedById\n  }));\n\n  function getAutoScrollerOptions() {\n    const activeSensorDisablesAutoscroll = (activeSensor == null ? void 0 : activeSensor.autoScrollEnabled) === false;\n    const autoScrollGloballyDisabled = typeof autoScroll === 'object' ? autoScroll.enabled === false : autoScroll === false;\n    const enabled = isInitialized && !activeSensorDisablesAutoscroll && !autoScrollGloballyDisabled;\n\n    if (typeof autoScroll === 'object') {\n      return { ...autoScroll,\n        enabled\n      };\n    }\n\n    return {\n      enabled\n    };\n  }\n});\n\nconst NullContext = /*#__PURE__*/React.createContext(null);\nconst defaultRole = 'button';\nconst ID_PREFIX = 'Draggable';\nfunction useDraggable(_ref) {\n  let {\n    id,\n    data,\n    disabled = false,\n    attributes\n  } = _ref;\n  const key = useUniqueId(ID_PREFIX);\n  const {\n    activators,\n    activatorEvent,\n    active,\n    activeNodeRect,\n    ariaDescribedById,\n    draggableNodes,\n    over\n  } = React.useContext(InternalContext);\n  const {\n    role = defaultRole,\n    roleDescription = 'draggable',\n    tabIndex = 0\n  } = attributes != null ? attributes : {};\n  const isDragging = (active == null ? void 0 : active.id) === id;\n  const transform = React.useContext(isDragging ? ActiveDraggableContext : NullContext);\n  const [node, setNodeRef] = useNodeRef();\n  const [activatorNode, setActivatorNodeRef] = useNodeRef();\n  const listeners = useSyntheticListeners(activators, id);\n  const dataRef = useLatestValue(data);\n  useIsomorphicLayoutEffect(() => {\n    draggableNodes.set(id, {\n      id,\n      key,\n      node,\n      activatorNode,\n      data: dataRef\n    });\n    return () => {\n      const node = draggableNodes.get(id);\n\n      if (node && node.key === key) {\n        draggableNodes.delete(id);\n      }\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [draggableNodes, id]);\n  const memoizedAttributes = React.useMemo(() => ({\n    role,\n    tabIndex,\n    'aria-disabled': disabled,\n    'aria-pressed': isDragging && role === defaultRole ? true : undefined,\n    'aria-roledescription': roleDescription,\n    'aria-describedby': ariaDescribedById.draggable\n  }), [disabled, role, tabIndex, isDragging, roleDescription, ariaDescribedById.draggable]);\n  return {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes: memoizedAttributes,\n    isDragging,\n    listeners: disabled ? undefined : listeners,\n    node,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    transform\n  };\n}\n\nfunction useDndContext() {\n  return React.useContext(PublicContext);\n}\n\nconst ID_PREFIX$1 = 'Droppable';\nconst defaultResizeObserverConfig = {\n  timeout: 25\n};\nfunction useDroppable(_ref) {\n  let {\n    data,\n    disabled = false,\n    id,\n    resizeObserverConfig\n  } = _ref;\n  const key = useUniqueId(ID_PREFIX$1);\n  const {\n    active,\n    dispatch,\n    over,\n    measureDroppableContainers\n  } = React.useContext(InternalContext);\n  const previous = React.useRef({\n    disabled\n  });\n  const resizeObserverConnected = React.useRef(false);\n  const rect = React.useRef(null);\n  const callbackId = React.useRef(null);\n  const {\n    disabled: resizeObserverDisabled,\n    updateMeasurementsFor,\n    timeout: resizeObserverTimeout\n  } = { ...defaultResizeObserverConfig,\n    ...resizeObserverConfig\n  };\n  const ids = useLatestValue(updateMeasurementsFor != null ? updateMeasurementsFor : id);\n  const handleResize = React.useCallback(() => {\n    if (!resizeObserverConnected.current) {\n      // ResizeObserver invokes the `handleResize` callback as soon as `observe` is called,\n      // assuming the element is rendered and displayed.\n      resizeObserverConnected.current = true;\n      return;\n    }\n\n    if (callbackId.current != null) {\n      clearTimeout(callbackId.current);\n    }\n\n    callbackId.current = setTimeout(() => {\n      measureDroppableContainers(Array.isArray(ids.current) ? ids.current : [ids.current]);\n      callbackId.current = null;\n    }, resizeObserverTimeout);\n  }, //eslint-disable-next-line react-hooks/exhaustive-deps\n  [resizeObserverTimeout]);\n  const resizeObserver = useResizeObserver({\n    callback: handleResize,\n    disabled: resizeObserverDisabled || !active\n  });\n  const handleNodeChange = React.useCallback((newElement, previousElement) => {\n    if (!resizeObserver) {\n      return;\n    }\n\n    if (previousElement) {\n      resizeObserver.unobserve(previousElement);\n      resizeObserverConnected.current = false;\n    }\n\n    if (newElement) {\n      resizeObserver.observe(newElement);\n    }\n  }, [resizeObserver]);\n  const [nodeRef, setNodeRef] = useNodeRef(handleNodeChange);\n  const dataRef = useLatestValue(data);\n  React.useEffect(() => {\n    if (!resizeObserver || !nodeRef.current) {\n      return;\n    }\n\n    resizeObserver.disconnect();\n    resizeObserverConnected.current = false;\n    resizeObserver.observe(nodeRef.current);\n  }, [nodeRef, resizeObserver]);\n  React.useEffect(() => {\n    dispatch({\n      type: Action.RegisterDroppable,\n      element: {\n        id,\n        key,\n        disabled,\n        node: nodeRef,\n        rect,\n        data: dataRef\n      }\n    });\n    return () => dispatch({\n      type: Action.UnregisterDroppable,\n      key,\n      id\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [id]);\n  React.useEffect(() => {\n    if (disabled !== previous.current.disabled) {\n      dispatch({\n        type: Action.SetDroppableDisabled,\n        id,\n        key,\n        disabled\n      });\n      previous.current.disabled = disabled;\n    }\n  }, [id, key, disabled, dispatch]);\n  return {\n    active,\n    rect,\n    isOver: (over == null ? void 0 : over.id) === id,\n    node: nodeRef,\n    over,\n    setNodeRef\n  };\n}\n\nfunction AnimationManager(_ref) {\n  let {\n    animation,\n    children\n  } = _ref;\n  const [clonedChildren, setClonedChildren] = React.useState(null);\n  const [element, setElement] = React.useState(null);\n  const previousChildren = usePrevious(children);\n\n  if (!children && !clonedChildren && previousChildren) {\n    setClonedChildren(previousChildren);\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) {\n      return;\n    }\n\n    const key = clonedChildren == null ? void 0 : clonedChildren.key;\n    const id = clonedChildren == null ? void 0 : clonedChildren.props.id;\n\n    if (key == null || id == null) {\n      setClonedChildren(null);\n      return;\n    }\n\n    Promise.resolve(animation(id, element)).then(() => {\n      setClonedChildren(null);\n    });\n  }, [animation, clonedChildren, element]);\n  return React.createElement(React.Fragment, null, children, clonedChildren ? React.cloneElement(clonedChildren, {\n    ref: setElement\n  }) : null);\n}\n\nconst defaultTransform = {\n  x: 0,\n  y: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction NullifiedContextProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  return React.createElement(InternalContext.Provider, {\n    value: defaultInternalContext\n  }, React.createElement(ActiveDraggableContext.Provider, {\n    value: defaultTransform\n  }, children));\n}\n\nconst baseStyles = {\n  position: 'fixed',\n  touchAction: 'none'\n};\n\nconst defaultTransition = activatorEvent => {\n  const isKeyboardActivator = isKeyboardEvent(activatorEvent);\n  return isKeyboardActivator ? 'transform 250ms ease' : undefined;\n};\n\nconst PositionedOverlay = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    as,\n    activatorEvent,\n    adjustScale,\n    children,\n    className,\n    rect,\n    style,\n    transform,\n    transition = defaultTransition\n  } = _ref;\n\n  if (!rect) {\n    return null;\n  }\n\n  const scaleAdjustedTransform = adjustScale ? transform : { ...transform,\n    scaleX: 1,\n    scaleY: 1\n  };\n  const styles = { ...baseStyles,\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    left: rect.left,\n    transform: CSS.Transform.toString(scaleAdjustedTransform),\n    transformOrigin: adjustScale && activatorEvent ? getRelativeTransformOrigin(activatorEvent, rect) : undefined,\n    transition: typeof transition === 'function' ? transition(activatorEvent) : transition,\n    ...style\n  };\n  return React.createElement(as, {\n    className,\n    style: styles,\n    ref\n  }, children);\n});\n\nconst defaultDropAnimationSideEffects = options => _ref => {\n  let {\n    active,\n    dragOverlay\n  } = _ref;\n  const originalStyles = {};\n  const {\n    styles,\n    className\n  } = options;\n\n  if (styles != null && styles.active) {\n    for (const [key, value] of Object.entries(styles.active)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      originalStyles[key] = active.node.style.getPropertyValue(key);\n      active.node.style.setProperty(key, value);\n    }\n  }\n\n  if (styles != null && styles.dragOverlay) {\n    for (const [key, value] of Object.entries(styles.dragOverlay)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      dragOverlay.node.style.setProperty(key, value);\n    }\n  }\n\n  if (className != null && className.active) {\n    active.node.classList.add(className.active);\n  }\n\n  if (className != null && className.dragOverlay) {\n    dragOverlay.node.classList.add(className.dragOverlay);\n  }\n\n  return function cleanup() {\n    for (const [key, value] of Object.entries(originalStyles)) {\n      active.node.style.setProperty(key, value);\n    }\n\n    if (className != null && className.active) {\n      active.node.classList.remove(className.active);\n    }\n  };\n};\n\nconst defaultKeyframeResolver = _ref2 => {\n  let {\n    transform: {\n      initial,\n      final\n    }\n  } = _ref2;\n  return [{\n    transform: CSS.Transform.toString(initial)\n  }, {\n    transform: CSS.Transform.toString(final)\n  }];\n};\n\nconst defaultDropAnimationConfiguration = {\n  duration: 250,\n  easing: 'ease',\n  keyframes: defaultKeyframeResolver,\n  sideEffects: /*#__PURE__*/defaultDropAnimationSideEffects({\n    styles: {\n      active: {\n        opacity: '0'\n      }\n    }\n  })\n};\nfunction useDropAnimation(_ref3) {\n  let {\n    config,\n    draggableNodes,\n    droppableContainers,\n    measuringConfiguration\n  } = _ref3;\n  return useEvent((id, node) => {\n    if (config === null) {\n      return;\n    }\n\n    const activeDraggable = draggableNodes.get(id);\n\n    if (!activeDraggable) {\n      return;\n    }\n\n    const activeNode = activeDraggable.node.current;\n\n    if (!activeNode) {\n      return;\n    }\n\n    const measurableNode = getMeasurableNode(node);\n\n    if (!measurableNode) {\n      return;\n    }\n\n    const {\n      transform\n    } = getWindow(node).getComputedStyle(node);\n    const parsedTransform = parseTransform(transform);\n\n    if (!parsedTransform) {\n      return;\n    }\n\n    const animation = typeof config === 'function' ? config : createDefaultDropAnimation(config);\n    scrollIntoViewIfNeeded(activeNode, measuringConfiguration.draggable.measure);\n    return animation({\n      active: {\n        id,\n        data: activeDraggable.data,\n        node: activeNode,\n        rect: measuringConfiguration.draggable.measure(activeNode)\n      },\n      draggableNodes,\n      dragOverlay: {\n        node,\n        rect: measuringConfiguration.dragOverlay.measure(measurableNode)\n      },\n      droppableContainers,\n      measuringConfiguration,\n      transform: parsedTransform\n    });\n  });\n}\n\nfunction createDefaultDropAnimation(options) {\n  const {\n    duration,\n    easing,\n    sideEffects,\n    keyframes\n  } = { ...defaultDropAnimationConfiguration,\n    ...options\n  };\n  return _ref4 => {\n    let {\n      active,\n      dragOverlay,\n      transform,\n      ...rest\n    } = _ref4;\n\n    if (!duration) {\n      // Do not animate if animation duration is zero.\n      return;\n    }\n\n    const delta = {\n      x: dragOverlay.rect.left - active.rect.left,\n      y: dragOverlay.rect.top - active.rect.top\n    };\n    const scale = {\n      scaleX: transform.scaleX !== 1 ? active.rect.width * transform.scaleX / dragOverlay.rect.width : 1,\n      scaleY: transform.scaleY !== 1 ? active.rect.height * transform.scaleY / dragOverlay.rect.height : 1\n    };\n    const finalTransform = {\n      x: transform.x - delta.x,\n      y: transform.y - delta.y,\n      ...scale\n    };\n    const animationKeyframes = keyframes({ ...rest,\n      active,\n      dragOverlay,\n      transform: {\n        initial: transform,\n        final: finalTransform\n      }\n    });\n    const [firstKeyframe] = animationKeyframes;\n    const lastKeyframe = animationKeyframes[animationKeyframes.length - 1];\n\n    if (JSON.stringify(firstKeyframe) === JSON.stringify(lastKeyframe)) {\n      // The start and end keyframes are the same, infer that there is no animation needed.\n      return;\n    }\n\n    const cleanup = sideEffects == null ? void 0 : sideEffects({\n      active,\n      dragOverlay,\n      ...rest\n    });\n    const animation = dragOverlay.node.animate(animationKeyframes, {\n      duration,\n      easing,\n      fill: 'forwards'\n    });\n    return new Promise(resolve => {\n      animation.onfinish = () => {\n        cleanup == null ? void 0 : cleanup();\n        resolve();\n      };\n    });\n  };\n}\n\nlet key = 0;\nfunction useKey(id) {\n  return React.useMemo(() => {\n    if (id == null) {\n      return;\n    }\n\n    key++;\n    return key;\n  }, [id]);\n}\n\nconst DragOverlay = /*#__PURE__*/React.memo(_ref => {\n  let {\n    adjustScale = false,\n    children,\n    dropAnimation: dropAnimationConfig,\n    style,\n    transition,\n    modifiers,\n    wrapperElement = 'div',\n    className,\n    zIndex = 999\n  } = _ref;\n  const {\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggableNodes,\n    droppableContainers,\n    dragOverlay,\n    over,\n    measuringConfiguration,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect\n  } = useDndContext();\n  const transform = React.useContext(ActiveDraggableContext);\n  const key = useKey(active == null ? void 0 : active.id);\n  const modifiedTransform = applyModifiers(modifiers, {\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect: dragOverlay.rect,\n    over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    transform,\n    windowRect\n  });\n  const initialRect = useInitialValue(activeNodeRect);\n  const dropAnimation = useDropAnimation({\n    config: dropAnimationConfig,\n    draggableNodes,\n    droppableContainers,\n    measuringConfiguration\n  }); // We need to wait for the active node to be measured before connecting the drag overlay ref\n  // otherwise collisions can be computed against a mispositioned drag overlay\n\n  const ref = initialRect ? dragOverlay.setRef : undefined;\n  return React.createElement(NullifiedContextProvider, null, React.createElement(AnimationManager, {\n    animation: dropAnimation\n  }, active && key ? React.createElement(PositionedOverlay, {\n    key: key,\n    id: active.id,\n    ref: ref,\n    as: wrapperElement,\n    activatorEvent: activatorEvent,\n    adjustScale: adjustScale,\n    className: className,\n    transition: transition,\n    rect: initialRect,\n    style: {\n      zIndex,\n      ...style\n    },\n    transform: modifiedTransform\n  }, children) : null));\n});\n\nconst snapCenterToCursor = _ref => {\n  let {\n    activatorEvent,\n    draggingNodeRect,\n    transform\n  } = _ref;\n\n  if (draggingNodeRect && activatorEvent) {\n    const activatorCoordinates = getEventCoordinates(activatorEvent);\n\n    if (!activatorCoordinates) {\n      return transform;\n    }\n\n    const offsetX = activatorCoordinates.x - draggingNodeRect.left;\n    const offsetY = activatorCoordinates.y - draggingNodeRect.top;\n    return { ...transform,\n      x: transform.x + offsetX - draggingNodeRect.width / 2,\n      y: transform.y + offsetY - draggingNodeRect.height / 2\n    };\n  }\n\n  return transform;\n};\n\nfunction generateBoard(noOfRows, noOfColumns, boardOrientation) {\n    const board = Array.from(Array(noOfRows), () => new Array(noOfColumns));\n    for (let row = 0; row < noOfRows; row++) {\n        for (let column = 0; column < noOfColumns; column++) {\n            board[row][column] = {\n                squareId: `${columnIndexToChessColumn(column, noOfColumns, boardOrientation)}${rowIndexToChessRow(row, noOfRows, boardOrientation)}`, // e.g. \"a8\" for row 0, column 0 in white orientation\n                isLightSquare: (row + column) % 2 === 0,\n            };\n        }\n    }\n    return board;\n}\nfunction rowIndexToChessRow(row, noOfRows, boardOrientation) {\n    return boardOrientation === 'white'\n        ? (noOfRows - row).toString()\n        : (row + 1).toString();\n}\nfunction columnIndexToChessColumn(column, noOfColumns, boardOrientation) {\n    return boardOrientation === 'white'\n        ? String.fromCharCode(97 + column)\n        : String.fromCharCode(97 + noOfColumns - column - 1);\n}\nfunction chessColumnToColumnIndex(column, noOfColumns, boardOrientation) {\n    return boardOrientation === 'white'\n        ? column.charCodeAt(0) - 97\n        : noOfColumns - (column.charCodeAt(0) - 97) - 1;\n}\nfunction chessRowToRowIndex(row, noOfRows, boardOrientation) {\n    return boardOrientation === 'white'\n        ? noOfRows - Number(row)\n        : Number(row) - 1;\n}\nfunction fenStringToPositionObject(fen, noOfRows, noOfColumns) {\n    const positionObject = {};\n    const rows = fen.split(' ')[0].split('/');\n    // rows start from top of the board (black rank) in white orientation, and bottom of the board (white rank) in black orientation\n    for (let row = 0; row < rows.length; row++) {\n        let column = 0;\n        for (const char of rows[row]) {\n            // if char is a letter, it is a piece\n            if (isNaN(Number(char))) {\n                // force orientation to flip fen string when black orientation used\n                const position = `${columnIndexToChessColumn(column, noOfColumns, 'white')}${rowIndexToChessRow(row, noOfRows, 'white')}`;\n                // set piece at position (e.g. 0-0 for a8 on a normal board)\n                positionObject[position] = {\n                    pieceType: fenToPieceCode(char),\n                };\n                // increment column for next piece\n                column++;\n            }\n            else {\n                // if char is a number, it is empty squares, skip that many columns\n                column += Number(char);\n            }\n        }\n    }\n    return positionObject;\n}\n/**\n * Convert fen piece code (e.g. p, N) to camel case notation (e.g. bP, wK).\n */\nfunction fenToPieceCode(piece) {\n    // lower case is black piece\n    if (piece.toLowerCase() === piece) {\n        return 'b' + piece.toUpperCase();\n    }\n    // upper case is white piece\n    return 'w' + piece.toUpperCase();\n}\n// todo: if already in updates, find next candidate\n/**\n * Return an object with the pieces that have moved from the old position to the new position.\n * The keys are the source square names (e.g. \"e2\") and the values are the new square positions (e.g. \"e4\"), indicating that the piece in square \"e2\" has moved to square \"e4\".\n */\nfunction getPositionUpdates(oldPosition, newPosition, noOfColumns, boardOrientation) {\n    const updates = {};\n    for (const newSquare in newPosition) {\n        const candidateSquares = [];\n        // the piece hasn't moved, so we don't need to do anything\n        if (oldPosition[newSquare]?.pieceType === newPosition[newSquare].pieceType) {\n            continue;\n        }\n        for (const oldSquare in oldPosition) {\n            // if the piece type is the same, and the new square is not the old square, and the piece has moved, then we have found a candidate for the new position\n            if (oldPosition[oldSquare].pieceType === newPosition[newSquare].pieceType &&\n                oldSquare !== newSquare &&\n                oldPosition[oldSquare].pieceType !== newPosition[oldSquare]?.pieceType) {\n                candidateSquares.push(oldSquare);\n            }\n        }\n        if (candidateSquares.length === 1) {\n            // if there is only one candidate, we can just return it\n            updates[candidateSquares[0]] = newSquare;\n        }\n        else {\n            // if there are multiple candidates, we need to find the one that is correct to the best of our ability by standard chess rules\n            for (const candidateSquare of candidateSquares) {\n                // get the piece type of the candidate e.g. 'P', 'N', 'B', 'R', 'Q', 'K'\n                const candidatePieceType = oldPosition[candidateSquare].pieceType[1];\n                const columnDifference = Math.abs(chessColumnToColumnIndex(candidateSquare.match(/^[a-z]+/)?.[0] ?? '', noOfColumns, boardOrientation) -\n                    chessColumnToColumnIndex(newSquare.match(/^[a-z]+/)?.[0] ?? '', noOfColumns, boardOrientation));\n                const rowDifference = Math.abs(Number(candidateSquare.match(/\\d+$/)?.[0] ?? '') -\n                    Number(newSquare.match(/\\d+$/)?.[0] ?? ''));\n                const isOldSquareLight = (chessColumnToColumnIndex(candidateSquare.match(/^[a-z]+/)?.[0] ?? '', noOfColumns, boardOrientation) +\n                    Number(candidateSquare.match(/\\d+$/)?.[0] ?? '')) %\n                    2 ===\n                    0;\n                const isNewSquareLight = (chessColumnToColumnIndex(newSquare.match(/^[a-z]+/)?.[0] ?? '', noOfColumns, boardOrientation) +\n                    Number(newSquare.match(/\\d+$/)?.[0] ?? '')) %\n                    2 ===\n                    0;\n                // prioritise pawns on same file\n                if (candidatePieceType === 'P') {\n                    if (candidateSquare.match(/^[a-z]+/)?.[0] ===\n                        newSquare.match(/^[a-z]+/)?.[0]) {\n                        updates[candidateSquare] = newSquare;\n                        break;\n                    }\n                }\n                // prioritise knights by euclidean distance\n                if (candidatePieceType === 'N') {\n                    if ((columnDifference === 2 && rowDifference === 1) ||\n                        (columnDifference === 1 && rowDifference === 2)) {\n                        updates[candidateSquare] = newSquare;\n                        break;\n                    }\n                }\n                // prioritise bishops that have moved diagonally and are on the same color square\n                if (candidatePieceType === 'B') {\n                    if (columnDifference === rowDifference &&\n                        isOldSquareLight === isNewSquareLight) {\n                        updates[candidateSquare] = newSquare;\n                        break;\n                    }\n                }\n                // prioritise rooks that have moved horizontally or vertically\n                if (candidatePieceType === 'R') {\n                    if (columnDifference === 0 || rowDifference === 0) {\n                        updates[candidateSquare] = newSquare;\n                        break;\n                    }\n                }\n                // prioritise queens that have moved diagonally, horizontally or vertically\n                if (candidatePieceType === 'Q') {\n                    if (columnDifference === 0 ||\n                        rowDifference === 0 ||\n                        columnDifference === rowDifference) {\n                        updates[candidateSquare] = newSquare;\n                        break;\n                    }\n                }\n                // prioritise kings that have moved one square in any direction\n                if (candidatePieceType === 'K') {\n                    if (columnDifference <= 1 && rowDifference <= 1) {\n                        updates[candidateSquare] = newSquare;\n                        break;\n                    }\n                }\n            }\n            // if we still don't have a candidate, use the first candidate that has not been used yet\n            if (!Object.values(updates).includes(newSquare) &&\n                candidateSquares.length > 0) {\n                for (const candidateSquare of candidateSquares) {\n                    if (!Object.keys(updates).includes(candidateSquare)) {\n                        updates[candidateSquare] = newSquare;\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    return updates;\n}\n/**\n * Retrieves the coordinates at the centre of the requested square, relative to the top left of the board (0, 0).\n */\nfunction getRelativeCoords(boardOrientation, boardWidth, chessboardColumns, chessboardRows, square) {\n    const squareWidth = boardWidth / chessboardColumns;\n    const x = chessColumnToColumnIndex(square.match(/^[a-z]+/)?.[0] ?? '', chessboardColumns, boardOrientation) *\n        squareWidth +\n        squareWidth / 2;\n    const y = chessRowToRowIndex(square.match(/\\d+$/)?.[0] ?? '', chessboardRows, boardOrientation) *\n        squareWidth +\n        squareWidth / 2;\n    return { x, y };\n}\n\nconst defaultPieces = {\n    wP: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsx(\"path\", { d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\", style: {\n                opacity: '1',\n                fill: props?.fill ?? '#ffffff',\n                fillOpacity: '1',\n                fillRule: 'nonzero',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'miter',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            } }) })),\n    wR: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                opacity: '1',\n                fill: props?.fill ?? '#ffffff',\n                fillOpacity: '1',\n                fillRule: 'evenodd',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'round',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \", style: { strokeLinecap: 'butt' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \", style: { strokeLinecap: 'butt' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\", style: { strokeLinecap: 'butt' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 34,14 L 31,17 L 14,17 L 11,14\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 31,17 L 31,29.5 L 14,29.5 L 14,17\", style: { strokeLinecap: 'butt', strokeLinejoin: 'miter' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 11,14 L 34,14\", style: { fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' } })] }) })),\n    wN: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                opacity: '1',\n                fill: 'none',\n                fillOpacity: '1',\n                fillRule: 'evenodd',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'round',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\", style: { fill: props?.fill ?? '#ffffff', stroke: '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\", style: { fill: props?.fill ?? '#ffffff', stroke: '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\", style: { fill: '#000000', stroke: '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\", transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\", style: { fill: '#000000', stroke: '#000000' } })] }) })),\n    wB: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                opacity: '1',\n                fill: 'none',\n                fillRule: 'evenodd',\n                fillOpacity: '1',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'round',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            }, children: [jsxRuntimeExports.jsxs(\"g\", { style: {\n                        fill: props?.fill ?? '#ffffff',\n                        stroke: '#000000',\n                        strokeLinecap: 'butt',\n                    }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" })] }), jsxRuntimeExports.jsx(\"path\", { d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\", style: { fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' } })] }) })),\n    wQ: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                fill: props?.fill ?? '#ffffff',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinejoin: 'round',\n            }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 11.5,30 C 15,29 30,29 33.5,30\", style: { fill: 'none' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12,33.5 C 18,32.5 27,32.5 33,33.5\", style: { fill: 'none' } }), jsxRuntimeExports.jsx(\"circle\", { cx: \"6\", cy: \"12\", r: \"2\" }), jsxRuntimeExports.jsx(\"circle\", { cx: \"14\", cy: \"9\", r: \"2\" }), jsxRuntimeExports.jsx(\"circle\", { cx: \"22.5\", cy: \"8\", r: \"2\" }), jsxRuntimeExports.jsx(\"circle\", { cx: \"31\", cy: \"9\", r: \"2\" }), jsxRuntimeExports.jsx(\"circle\", { cx: \"39\", cy: \"12\", r: \"2\" })] }) })),\n    wK: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                fill: 'none',\n                fillOpacity: '1',\n                fillRule: 'evenodd',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'round',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 22.5,11.63 L 22.5,6\", style: { fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 20,8 L 25,8\", style: { fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\", style: {\n                        fill: props?.fill ?? '#ffffff',\n                        stroke: '#000000',\n                        strokeLinecap: 'butt',\n                        strokeLinejoin: 'miter',\n                    } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\", style: { fill: props?.fill ?? '#ffffff', stroke: '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12.5,30 C 18,27 27,27 32.5,30\", style: { fill: 'none', stroke: '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5\", style: { fill: 'none', stroke: '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12.5,37 C 18,34 27,34 32.5,37\", style: { fill: 'none', stroke: '#000000' } })] }) })),\n    bP: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsx(\"path\", { d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\", style: {\n                opacity: '1',\n                fill: props?.fill ?? '#000000',\n                fillOpacity: '1',\n                fillRule: 'nonzero',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'miter',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            } }) })),\n    bR: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                opacity: '1',\n                fill: props?.fill ?? '#000000',\n                fillOpacity: '1',\n                fillRule: 'evenodd',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'round',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \", style: { strokeLinecap: 'butt' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \", style: { strokeLinecap: 'butt' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \", style: { strokeLinecap: 'butt' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \", style: { strokeLinecap: 'butt', strokeLinejoin: 'miter' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \", style: { strokeLinecap: 'butt' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \", style: { strokeLinecap: 'butt' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12,35.5 L 33,35.5 L 33,35.5\", style: {\n                        fill: 'none',\n                        stroke: '#ffffff',\n                        strokeWidth: '1',\n                        strokeLinejoin: 'miter',\n                    } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 13,31.5 L 32,31.5\", style: {\n                        fill: 'none',\n                        stroke: '#ffffff',\n                        strokeWidth: '1',\n                        strokeLinejoin: 'miter',\n                    } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 14,29.5 L 31,29.5\", style: {\n                        fill: 'none',\n                        stroke: '#ffffff',\n                        strokeWidth: '1',\n                        strokeLinejoin: 'miter',\n                    } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 14,16.5 L 31,16.5\", style: {\n                        fill: 'none',\n                        stroke: '#ffffff',\n                        strokeWidth: '1',\n                        strokeLinejoin: 'miter',\n                    } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 11,14 L 34,14\", style: {\n                        fill: 'none',\n                        stroke: '#ffffff',\n                        strokeWidth: '1',\n                        strokeLinejoin: 'miter',\n                    } })] }) })),\n    bN: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                opacity: '1',\n                fill: 'none',\n                fillOpacity: '1',\n                fillRule: 'evenodd',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'round',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\", style: { fill: props?.fill ?? '#000000', stroke: '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\", style: { fill: props?.fill ?? '#000000', stroke: '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\", style: { fill: '#ffffff', stroke: '#ffffff' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\", transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\", style: { fill: '#ffffff', stroke: '#ffffff' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \", style: { fill: '#ffffff', stroke: 'none' } })] }) })),\n    bB: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                opacity: '1',\n                fill: 'none',\n                fillRule: 'evenodd',\n                fillOpacity: '1',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'round',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            }, children: [jsxRuntimeExports.jsxs(\"g\", { style: {\n                        fill: props?.fill ?? '#000000',\n                        stroke: '#000000',\n                        strokeLinecap: 'butt',\n                    }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" })] }), jsxRuntimeExports.jsx(\"path\", { d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\", style: { fill: 'none', stroke: '#ffffff', strokeLinejoin: 'miter' } })] }) })),\n    bQ: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                fill: props?.fill ?? '#000000',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'round',\n            }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\", style: { strokeLinecap: 'butt', fill: props?.fill ?? '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 11.5,30 C 15,29 30,29 33.5,30\" }), jsxRuntimeExports.jsx(\"path\", { d: \"m 12,33.5 c 6,-1 15,-1 21,0\" }), jsxRuntimeExports.jsx(\"circle\", { cx: \"6\", cy: \"12\", r: \"2\" }), jsxRuntimeExports.jsx(\"circle\", { cx: \"14\", cy: \"9\", r: \"2\" }), jsxRuntimeExports.jsx(\"circle\", { cx: \"22.5\", cy: \"8\", r: \"2\" }), jsxRuntimeExports.jsx(\"circle\", { cx: \"31\", cy: \"9\", r: \"2\" }), jsxRuntimeExports.jsx(\"circle\", { cx: \"39\", cy: \"12\", r: \"2\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 11,38.5 A 35,35 1 0 0 34,38.5\", style: { fill: 'none', stroke: '#000000', strokeLinecap: 'butt' } }), jsxRuntimeExports.jsxs(\"g\", { style: { fill: 'none', stroke: '#ffffff' }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 11,29 A 35,35 1 0 1 34,29\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12.5,31.5 L 32.5,31.5\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\" })] })] }) })),\n    bK: (props) => (jsxRuntimeExports.jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", version: \"1.1\", viewBox: \"0 0 45 45\", width: \"100%\", height: \"100%\", style: props?.svgStyle, children: jsxRuntimeExports.jsxs(\"g\", { style: {\n                fill: 'none',\n                fillOpacity: '1',\n                fillRule: 'evenodd',\n                stroke: '#000000',\n                strokeWidth: '1.5',\n                strokeLinecap: 'round',\n                strokeLinejoin: 'round',\n                strokeMiterlimit: '4',\n                strokeDasharray: 'none',\n                strokeOpacity: '1',\n            }, children: [jsxRuntimeExports.jsx(\"path\", { d: \"M 22.5,11.63 L 22.5,6\", style: { fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' }, id: \"path6570\" }), jsxRuntimeExports.jsx(\"path\", { d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\", style: {\n                        fill: props?.fill ?? '#000000',\n                        fillOpacity: '1',\n                        strokeLinecap: 'butt',\n                        strokeLinejoin: 'miter',\n                    } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\", style: { fill: props?.fill ?? '#000000', stroke: '#000000' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 20,8 L 25,8\", style: { fill: 'none', stroke: '#000000', strokeLinejoin: 'miter' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5\", style: { fill: 'none', stroke: '#ffffff' } }), jsxRuntimeExports.jsx(\"path\", { d: \"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37\", style: { fill: 'none', stroke: '#ffffff' } })] }) })),\n};\n\nfunction defaultBoardStyle(chessboardColumns) {\n    return {\n        display: 'grid',\n        gridTemplateColumns: `repeat(${chessboardColumns}, 1fr)`,\n        overflow: 'hidden',\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n    };\n}\nconst defaultSquareStyle = {\n    aspectRatio: '1/1',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'relative',\n};\nconst defaultDarkSquareStyle = {\n    backgroundColor: '#B58863',\n};\nconst defaultLightSquareStyle = {\n    backgroundColor: '#F0D9B5',\n};\nconst defaultDropSquareStyle = {\n    boxShadow: 'inset 0px 0px 0px 1px black',\n};\nconst defaultDarkSquareNotationStyle = {\n    color: '#F0D9B5',\n};\nconst defaultLightSquareNotationStyle = {\n    color: '#B58863',\n};\nconst defaultAlphaNotationStyle = {\n    fontSize: '13px',\n    position: 'absolute',\n    bottom: 1,\n    right: 4,\n    userSelect: 'none',\n};\nconst defaultNumericNotationStyle = {\n    fontSize: '13px',\n    position: 'absolute',\n    top: 2,\n    left: 2,\n    userSelect: 'none',\n};\nconst defaultDraggingPieceStyle = {\n    transform: 'scale(1.2)',\n};\nconst defaultDraggingPieceGhostStyle = {\n    opacity: 0.5,\n};\nconst defaultArrowOptions = {\n    color: '#ffaa00', // color if no modifiers are held down when drawing an arrow\n    secondaryColor: '#4caf50', // color if shift is held down when drawing an arrow\n    tertiaryColor: '#f44336', // color if control is held down when drawing an arrow\n    arrowLengthReducerDenominator: 8, // the lower the denominator, the greater the arrow length reduction (e.g. 8 = 1/8 of a square width removed, 4 = 1/4 of a square width removed)\n    sameTargetArrowLengthReducerDenominator: 4, // as above but for arrows targeting the same square (a greater reduction is used to avoid overlaps)\n    arrowWidthDenominator: 5, // the lower the denominator, the greater the arrow width (e.g. 5 = 1/5 of a square width, 10 = 1/10 of a square width)\n    activeArrowWidthMultiplier: 0.9, // the multiplier for the arrow width when it is being drawn\n    opacity: 0.65, // opacity of arrow when not being drawn\n    activeOpacity: 0.5, // opacity of arrow when it is being drawn\n};\n\nconst ChessboardContext = React.createContext(null);\nconst useChessboardContext = () => React.use(ChessboardContext);\nfunction ChessboardProvider({ children, options, }) {\n    const { \n    // id\n    id = 'chessboard', \n    // pieces and position\n    pieces = defaultPieces, position = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR', \n    // board dimensions and orientation\n    boardOrientation = 'white', chessboardRows = 8, chessboardColumns = 8, \n    // board and squares styles\n    boardStyle = defaultBoardStyle(chessboardColumns), squareStyle = defaultSquareStyle, squareStyles = {}, darkSquareStyle = defaultDarkSquareStyle, lightSquareStyle = defaultLightSquareStyle, dropSquareStyle = defaultDropSquareStyle, draggingPieceStyle = defaultDraggingPieceStyle, draggingPieceGhostStyle = defaultDraggingPieceGhostStyle, \n    // notation\n    darkSquareNotationStyle = defaultDarkSquareNotationStyle, lightSquareNotationStyle = defaultLightSquareNotationStyle, alphaNotationStyle = defaultAlphaNotationStyle, numericNotationStyle = defaultNumericNotationStyle, showNotation = true, \n    // animation\n    animationDurationInMs = 300, showAnimations = true, \n    // drag and drop\n    allowDragging = true, allowDragOffBoard = true, allowAutoScroll = false, dragActivationDistance = 1, \n    // arrows\n    allowDrawingArrows = true, arrows = [], arrowOptions = defaultArrowOptions, clearArrowsOnClick = true, \n    // handlers\n    canDragPiece, onArrowsChange, onMouseOutSquare, onMouseOverSquare, onPieceClick, onPieceDrag, onPieceDrop, onSquareClick, onSquareRightClick, squareRenderer, } = options || {};\n    // the piece currently being dragged\n    const [draggingPiece, setDraggingPiece] = React.useState(null);\n    // the current position of pieces on the chessboard\n    const [currentPosition, setCurrentPosition] = React.useState(typeof position === 'string'\n        ? fenStringToPositionObject(position, chessboardRows, chessboardColumns)\n        : position);\n    // calculated differences between current and incoming positions\n    const [positionDifferences, setPositionDifferences] = React.useState({});\n    // if the latest move was a manual drop\n    const [manuallyDroppedPieceAndSquare, setManuallyDroppedPieceAndSquare] = React.useState(null);\n    // arrows\n    const [newArrowStartSquare, setNewArrowStartSquare] = React.useState(null);\n    const [newArrowOverSquare, setNewArrowOverSquare] = React.useState(null);\n    const [internalArrows, setInternalArrows] = React.useState([]);\n    // position we are animating to, if a new position comes in before the animation completes, we will use this to set the new position\n    const [waitingForAnimationPosition, setWaitingForAnimationPosition] = React.useState(null);\n    // the animation timeout whilst waiting for animation to complete\n    const animationTimeoutRef = React.useRef(null);\n    // if the position changes, we need to recreate the pieces array\n    React.useEffect(() => {\n        const newPosition = typeof position === 'string'\n            ? fenStringToPositionObject(position, chessboardRows, chessboardColumns)\n            : position;\n        // if no animation, just set the position\n        if (!showAnimations) {\n            setCurrentPosition(newPosition);\n            return;\n        }\n        // save copy of the waiting for animation position so we can use it later but clear it from state so we don't use it in the next animation\n        const currentWaitingForAnimationPosition = waitingForAnimationPosition;\n        // if we are waiting for an animation to complete from a previous move, set the saved position to immediately end the animation\n        if (currentWaitingForAnimationPosition) {\n            setCurrentPosition(currentWaitingForAnimationPosition);\n            setWaitingForAnimationPosition(null);\n        }\n        // get list of position updates as pieces to potentially animate\n        const positionUpdates = getPositionUpdates(currentWaitingForAnimationPosition ?? currentPosition, // use the saved position if it exists, otherwise use the current position\n        newPosition, chessboardColumns, boardOrientation);\n        const multiplePiecesMoved = Object.keys(positionUpdates).length > 1;\n        // manually dropped piece caused multiple pieces to move (e.g. castling)\n        if (manuallyDroppedPieceAndSquare && multiplePiecesMoved) {\n            // create a new position with just the dropped piece moved\n            const intermediatePosition = { ...currentPosition };\n            delete intermediatePosition[manuallyDroppedPieceAndSquare.sourceSquare];\n            intermediatePosition[manuallyDroppedPieceAndSquare.targetSquare] = {\n                pieceType: manuallyDroppedPieceAndSquare.piece,\n            };\n            setCurrentPosition(intermediatePosition);\n            // create position differences with only the other pieces' movements\n            const otherPiecesUpdates = { ...positionUpdates };\n            delete otherPiecesUpdates[manuallyDroppedPieceAndSquare.sourceSquare];\n            setPositionDifferences(otherPiecesUpdates);\n            // animate the other pieces' movements\n            const newTimeout = setTimeout(() => {\n                setCurrentPosition(newPosition);\n                setPositionDifferences({});\n                setManuallyDroppedPieceAndSquare(null);\n            }, animationDurationInMs);\n            animationTimeoutRef.current = newTimeout;\n            return;\n        }\n        // new position was a result of a manual drop\n        if (manuallyDroppedPieceAndSquare) {\n            // no animation needed, just set the position and reset the flag\n            setCurrentPosition(newPosition);\n            setManuallyDroppedPieceAndSquare(null);\n            return;\n        }\n        // new position was a result of an external move\n        setPositionDifferences(positionUpdates);\n        setWaitingForAnimationPosition(newPosition);\n        // start animation timeout\n        const newTimeout = setTimeout(() => {\n            setCurrentPosition(newPosition);\n            setPositionDifferences({});\n            setWaitingForAnimationPosition(null);\n        }, animationDurationInMs);\n        // update the ref to the new timeout\n        animationTimeoutRef.current = newTimeout;\n        // clear timeout on unmount\n        return () => {\n            if (animationTimeoutRef.current) {\n                clearTimeout(animationTimeoutRef.current);\n            }\n        };\n    }, [position]);\n    // if the dimensions change, we need to recreate the pieces array\n    React.useEffect(() => {\n        setCurrentPosition(typeof position === 'string'\n            ? fenStringToPositionObject(position, chessboardRows, chessboardColumns)\n            : position);\n    }, [chessboardRows, chessboardColumns, boardOrientation]);\n    // if the arrows change, call the onArrowsChange callback\n    React.useEffect(() => {\n        onArrowsChange?.({ arrows: internalArrows });\n    }, [internalArrows]);\n    // only redraw the board when the dimensions or board orientation change\n    const board = React.useMemo(() => generateBoard(chessboardRows, chessboardColumns, boardOrientation), [chessboardRows, chessboardColumns, boardOrientation]);\n    const drawArrow = React.useCallback((newArrowEndSquare, modifiers) => {\n        if (!allowDrawingArrows) {\n            return;\n        }\n        const arrowExistsIndex = internalArrows.findIndex((arrow) => arrow.startSquare === newArrowStartSquare &&\n            arrow.endSquare === newArrowEndSquare);\n        const arrowExistsExternally = arrows.some((arrow) => arrow.startSquare === newArrowStartSquare &&\n            arrow.endSquare === newArrowEndSquare);\n        // if the arrow already exists externally, don't add it to the internal arrows\n        if (arrowExistsExternally) {\n            setNewArrowStartSquare(null);\n            setNewArrowOverSquare(null);\n            return;\n        }\n        // new arrow with different start and end square, add to internal arrows or remove if it already exists\n        if (newArrowStartSquare && newArrowStartSquare !== newArrowEndSquare) {\n            const arrowColor = modifiers?.shiftKey\n                ? arrowOptions.secondaryColor\n                : modifiers?.ctrlKey\n                    ? arrowOptions.tertiaryColor\n                    : arrowOptions.color;\n            setInternalArrows((prevArrows) => arrowExistsIndex === -1\n                ? [\n                    ...prevArrows,\n                    {\n                        startSquare: newArrowStartSquare,\n                        endSquare: newArrowEndSquare,\n                        color: arrowColor,\n                    },\n                ]\n                : prevArrows.filter((_, index) => index !== arrowExistsIndex));\n            setNewArrowStartSquare(null);\n            setNewArrowOverSquare(null);\n        }\n    }, [\n        allowDrawingArrows,\n        arrows,\n        arrowOptions.color,\n        arrowOptions.secondaryColor,\n        arrowOptions.tertiaryColor,\n        internalArrows,\n        newArrowStartSquare,\n        newArrowOverSquare,\n    ]);\n    const clearArrows = React.useCallback(() => {\n        if (clearArrowsOnClick) {\n            setInternalArrows([]);\n            setNewArrowStartSquare(null);\n            setNewArrowOverSquare(null);\n        }\n    }, [clearArrowsOnClick]);\n    const setNewArrowOverSquareWithModifiers = React.useCallback((square, modifiers) => {\n        const color = modifiers?.shiftKey\n            ? arrowOptions.secondaryColor\n            : modifiers?.ctrlKey\n                ? arrowOptions.tertiaryColor\n                : arrowOptions.color;\n        setNewArrowOverSquare({ square, color });\n    }, [arrowOptions]);\n    const handleDragCancel = React.useCallback(() => {\n        setDraggingPiece(null);\n    }, []);\n    const handleDragEnd = React.useCallback(function handleDragEnd(event) {\n        if (!draggingPiece) {\n            return;\n        }\n        const dropSquare = event.over?.id.toString();\n        // dropped outside of droppable area (e.g. off board)\n        if (!dropSquare) {\n            onPieceDrop?.({\n                piece: draggingPiece,\n                sourceSquare: draggingPiece.position,\n                targetSquare: null,\n            });\n            // set as manually dropped piece so that no animation is shown\n            setManuallyDroppedPieceAndSquare({\n                piece: draggingPiece.pieceType,\n                sourceSquare: draggingPiece.position,\n                targetSquare: '',\n            });\n            setDraggingPiece(null);\n            return;\n        }\n        if (event.over) {\n            const isDropValid = onPieceDrop?.({\n                piece: draggingPiece,\n                sourceSquare: draggingPiece.position,\n                targetSquare: dropSquare,\n            });\n            // if the drop is valid, set the manually dropped piece and square\n            if (isDropValid) {\n                setManuallyDroppedPieceAndSquare({\n                    piece: draggingPiece.pieceType,\n                    sourceSquare: draggingPiece.position,\n                    targetSquare: dropSquare,\n                });\n            }\n            setDraggingPiece(null);\n        }\n    }, [draggingPiece]);\n    const handleDragStart = React.useCallback(\n    // active.id is the id of the piece being dragged\n    function handleDragStart({ active }) {\n        // the id is either the position of the piece on the board if it's on the board (e.g. \"a1\", \"b2\", etc.), or the type of the piece if it's a spare piece (e.g. \"wP\", \"bN\", etc.)\n        const isSparePiece = active.data.current?.isSparePiece;\n        onPieceDrag?.({\n            isSparePiece,\n            piece: isSparePiece\n                ? {\n                    pieceType: active.id,\n                }\n                : currentPosition[active.id],\n            square: isSparePiece ? null : active.id,\n        });\n        setDraggingPiece({\n            isSparePiece,\n            position: active.id,\n            pieceType: isSparePiece\n                ? active.id\n                : currentPosition[active.id].pieceType,\n        });\n        return;\n    }, [currentPosition]);\n    const sensors = useSensors(useSensor(PointerSensor, {\n        activationConstraint: dragActivationDistance > 0\n            ? {\n                distance: dragActivationDistance,\n            }\n            : undefined,\n    }), useSensor(KeyboardSensor), useSensor(TouchSensor), useSensor(MouseSensor));\n    // collision detection that first tries pointer-based detection and then falls back to rectangle intersection for keyboards\n    function collisionDetection(args) {\n        // first try pointer-based collision detection\n        const pointerCollisions = pointerWithin(args);\n        // if we found collisions with the pointer, return those\n        if (pointerCollisions.length > 0) {\n            return pointerCollisions;\n        }\n        // otherwise fall back to rectangle intersection\n        return rectIntersection(args);\n    }\n    return (jsxRuntimeExports.jsx(ChessboardContext.Provider, { value: {\n            // chessboard options\n            id,\n            pieces,\n            boardOrientation,\n            chessboardRows,\n            chessboardColumns,\n            boardStyle,\n            squareStyle,\n            squareStyles,\n            darkSquareStyle,\n            lightSquareStyle,\n            dropSquareStyle,\n            draggingPieceStyle,\n            draggingPieceGhostStyle,\n            darkSquareNotationStyle,\n            lightSquareNotationStyle,\n            alphaNotationStyle,\n            numericNotationStyle,\n            showNotation,\n            animationDurationInMs,\n            showAnimations,\n            allowDragging,\n            allowDragOffBoard,\n            allowDrawingArrows,\n            arrows,\n            arrowOptions,\n            canDragPiece,\n            onMouseOutSquare,\n            onMouseOverSquare,\n            onPieceClick,\n            onSquareClick,\n            onSquareRightClick,\n            squareRenderer,\n            // internal state\n            board,\n            isWrapped: true,\n            draggingPiece,\n            currentPosition,\n            positionDifferences,\n            newArrowStartSquare,\n            newArrowOverSquare,\n            setNewArrowStartSquare,\n            setNewArrowOverSquare: setNewArrowOverSquareWithModifiers,\n            internalArrows,\n            drawArrow,\n            clearArrows,\n        }, children: jsxRuntimeExports.jsx(DndContext, { autoScroll: allowAutoScroll, collisionDetection: collisionDetection, onDragStart: handleDragStart, onDragEnd: handleDragEnd, onDragCancel: handleDragCancel, sensors: sensors, children: children }) }));\n}\n\nfunction Arrows({ boardWidth, boardHeight }) {\n    const { id, arrows, arrowOptions, boardOrientation, chessboardColumns, chessboardRows, internalArrows, newArrowStartSquare, newArrowOverSquare, } = useChessboardContext();\n    if (!boardWidth) {\n        return null;\n    }\n    const currentlyDrawingArrow = newArrowStartSquare &&\n        newArrowOverSquare &&\n        newArrowStartSquare !== newArrowOverSquare.square\n        ? {\n            startSquare: newArrowStartSquare,\n            endSquare: newArrowOverSquare.square,\n            color: newArrowOverSquare.color,\n        }\n        : null;\n    const arrowsToDraw = currentlyDrawingArrow\n        ? [...arrows, ...internalArrows, currentlyDrawingArrow]\n        : [...arrows, ...internalArrows];\n    return (jsxRuntimeExports.jsx(\"svg\", { width: boardWidth, height: boardHeight, style: {\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            pointerEvents: 'none',\n            zIndex: '20', // place above pieces\n        }, children: arrowsToDraw.map((arrow, i) => {\n            const from = getRelativeCoords(boardOrientation, boardWidth, chessboardColumns, chessboardRows, arrow.startSquare);\n            const to = getRelativeCoords(boardOrientation, boardWidth, chessboardColumns, chessboardRows, arrow.endSquare);\n            // we want to shorten the arrow length so the tip of the arrow is more central to the target square instead of running over the center\n            const squareWidth = boardWidth / chessboardColumns;\n            let ARROW_LENGTH_REDUCER = squareWidth / arrowOptions.arrowLengthReducerDenominator;\n            const isArrowActive = currentlyDrawingArrow && i === arrowsToDraw.length - 1;\n            // if there are different arrows targeting the same square make their length a bit shorter\n            if (arrowsToDraw.some((restArrow) => restArrow.startSquare !== arrow.startSquare &&\n                restArrow.endSquare === arrow.endSquare) &&\n                !isArrowActive) {\n                ARROW_LENGTH_REDUCER =\n                    squareWidth / arrowOptions.sameTargetArrowLengthReducerDenominator;\n            }\n            // Calculate the difference in x and y coordinates between start and end points\n            const dx = to.x - from.x;\n            const dy = to.y - from.y;\n            // Calculate the total distance between points using Pythagorean theorem\n            // This gives us the length of the arrow if it went from center to center\n            const r = Math.hypot(dy, dx);\n            // Calculate the new end point for the arrow\n            // We subtract ARROW_LENGTH_REDUCER from the total distance to make the arrow\n            // stop before reaching the center of the target square\n            const end = {\n                // Calculate new end x coordinate by:\n                // 1. Taking the original x direction (dx)\n                // 2. Scaling it by (r - ARROW_LENGTH_REDUCER) / r to shorten it\n                // 3. Adding to the starting x coordinate\n                x: from.x + (dx * (r - ARROW_LENGTH_REDUCER)) / r,\n                // Same calculation for y coordinate\n                y: from.y + (dy * (r - ARROW_LENGTH_REDUCER)) / r,\n            };\n            return (jsxRuntimeExports.jsxs(React.Fragment, { children: [jsxRuntimeExports.jsx(\"marker\", { id: `${id}-arrowhead-${i}-${arrow.startSquare}-${arrow.endSquare}`, markerWidth: \"2\", markerHeight: \"2.5\", refX: \"1.25\", refY: \"1.25\", orient: \"auto\", children: jsxRuntimeExports.jsx(\"polygon\", { points: \"0.3 0, 2 1.25, 0.3 2.5\", fill: arrow.color }) }), jsxRuntimeExports.jsx(\"line\", { x1: from.x, y1: from.y, x2: end.x, y2: end.y, opacity: isArrowActive\n                            ? arrowOptions.activeOpacity\n                            : arrowOptions.opacity, stroke: arrow.color, strokeWidth: isArrowActive\n                            ? arrowOptions.activeArrowWidthMultiplier *\n                                (squareWidth / arrowOptions.arrowWidthDenominator)\n                            : squareWidth / arrowOptions.arrowWidthDenominator, markerEnd: `url(#${id}-arrowhead-${i}-${arrow.startSquare}-${arrow.endSquare})` })] }, `${id}-arrow-${arrow.startSquare}-${arrow.endSquare}${isArrowActive ? '-active' : ''}`));\n        }) }));\n}\n\nfunction Draggable({ children, isSparePiece = false, pieceType, position, }) {\n    const { allowDragging, canDragPiece } = useChessboardContext();\n    const { setNodeRef, attributes, listeners } = useDraggable({\n        id: position,\n        data: {\n            isSparePiece,\n            pieceType,\n        },\n        disabled: !allowDragging ||\n            (canDragPiece &&\n                !canDragPiece({\n                    piece: { pieceType },\n                    isSparePiece,\n                    square: position,\n                })),\n    });\n    return (jsxRuntimeExports.jsx(\"div\", { ref: setNodeRef, ...attributes, ...listeners, children: children }));\n}\n\nfunction Droppable({ children, squareId }) {\n    const { isOver, setNodeRef } = useDroppable({\n        id: squareId,\n    });\n    return jsxRuntimeExports.jsx(\"div\", { ref: setNodeRef, children: children({ isOver }) });\n}\n\nconst Piece = React.memo(function Piece({ clone, isSparePiece = false, position, pieceType, }) {\n    const { id, allowDragging, animationDurationInMs, boardOrientation, canDragPiece, draggingPiece, draggingPieceStyle, draggingPieceGhostStyle, pieces, positionDifferences, onPieceClick, } = useChessboardContext();\n    const [animationStyle, setAnimationStyle] = React.useState({});\n    let cursorStyle = clone ? 'grabbing' : 'grab';\n    if (!allowDragging ||\n        (canDragPiece &&\n            !canDragPiece({ piece: { pieceType }, isSparePiece, square: position }))) {\n        cursorStyle = 'pointer';\n    }\n    React.useEffect(() => {\n        if (positionDifferences[position]) {\n            const sourceSquare = position;\n            const targetSquare = positionDifferences[position];\n            const squareWidth = document\n                .querySelector(`#${id}-square-${sourceSquare}`)\n                ?.getBoundingClientRect().width;\n            if (!squareWidth) {\n                throw new Error('Square width not found');\n            }\n            setAnimationStyle({\n                transform: `translate(${(boardOrientation === 'black' ? -1 : 1) *\n                    (targetSquare.charCodeAt(0) - sourceSquare.charCodeAt(0)) *\n                    squareWidth}px, ${(boardOrientation === 'black' ? -1 : 1) *\n                    (Number(sourceSquare[1]) - Number(targetSquare[1])) *\n                    squareWidth}px)`,\n                transition: `transform ${animationDurationInMs}ms`,\n                position: 'relative', // creates a new stacking context so the piece stays above squares during animation\n                zIndex: 10,\n            });\n        }\n        else {\n            setAnimationStyle({});\n        }\n    }, [positionDifferences]);\n    const PieceSvg = pieces[pieceType];\n    return (jsxRuntimeExports.jsx(\"div\", { id: `${id}-piece-${pieceType}-${position}`, \"data-piece\": pieceType, style: {\n            ...animationStyle,\n            ...(clone\n                ? { ...defaultDraggingPieceStyle, ...draggingPieceStyle }\n                : {}),\n            ...(!clone && draggingPiece?.position === position\n                ? { ...defaultDraggingPieceGhostStyle, ...draggingPieceGhostStyle }\n                : {}),\n            width: '100%',\n            height: '100%',\n            cursor: cursorStyle,\n            touchAction: 'none', // prevent zooming and scrolling on touch devices\n        }, onClick: () => onPieceClick?.({ isSparePiece, piece: { pieceType }, square: position }), children: jsxRuntimeExports.jsx(PieceSvg, {}) }));\n});\n\nconst Square = React.memo(function Square({ children, squareId, isLightSquare, isOver, }) {\n    const { id, allowDrawingArrows, boardOrientation, chessboardColumns, chessboardRows, currentPosition, squareStyle, squareStyles, darkSquareStyle, lightSquareStyle, dropSquareStyle, darkSquareNotationStyle, lightSquareNotationStyle, alphaNotationStyle, numericNotationStyle, showNotation, onMouseOutSquare, onMouseOverSquare, onSquareClick, onSquareRightClick, squareRenderer, newArrowStartSquare, setNewArrowStartSquare, setNewArrowOverSquare, drawArrow, clearArrows, } = useChessboardContext();\n    const column = squareId.match(/^[a-z]+/)?.[0];\n    const row = squareId.match(/\\d+$/)?.[0];\n    return (jsxRuntimeExports.jsxs(\"div\", { id: `${id}-square-${squareId}`, style: {\n            ...defaultSquareStyle,\n            ...squareStyle,\n            ...(isLightSquare\n                ? { ...defaultLightSquareStyle, ...lightSquareStyle }\n                : { ...defaultDarkSquareStyle, ...darkSquareStyle }),\n            ...(isOver ? { ...defaultDropSquareStyle, ...dropSquareStyle } : {}),\n        }, \"data-column\": column, \"data-row\": row, \"data-square\": squareId, onClick: (e) => {\n            if (e.button === 0) {\n                onSquareClick?.({\n                    piece: currentPosition[squareId] ?? null,\n                    square: squareId,\n                });\n            }\n        }, onTouchEnd: (e) => {\n            // Prevent default to avoid double-firing with onClick on some devices\n            e.preventDefault();\n            onSquareClick?.({\n                piece: currentPosition[squareId] ?? null,\n                square: squareId,\n            });\n        }, onContextMenu: (e) => {\n            e.preventDefault();\n            onSquareRightClick?.({\n                piece: currentPosition[squareId] ?? null,\n                square: squareId,\n            });\n        }, onMouseDown: (e) => {\n            if (e.button === 0) {\n                clearArrows();\n            }\n            if (e.button === 2 && allowDrawingArrows) {\n                setNewArrowStartSquare(squareId);\n            }\n        }, onMouseUp: (e) => {\n            if (e.button === 2) {\n                if (newArrowStartSquare) {\n                    drawArrow(squareId, {\n                        shiftKey: e.shiftKey,\n                        ctrlKey: e.ctrlKey,\n                    });\n                }\n            }\n        }, onMouseOver: (e) => {\n            // right mouse button is held down and we are drawing an arrow\n            if (e.buttons === 2 && newArrowStartSquare) {\n                setNewArrowOverSquare(squareId, {\n                    shiftKey: e.shiftKey,\n                    ctrlKey: e.ctrlKey,\n                });\n            }\n            onMouseOverSquare?.({\n                piece: currentPosition[squareId] ?? null,\n                square: squareId,\n            });\n        }, onMouseLeave: () => onMouseOutSquare?.({\n            piece: currentPosition[squareId] ?? null,\n            square: squareId,\n        }), children: [showNotation ? (jsxRuntimeExports.jsxs(\"span\", { style: isLightSquare\n                    ? {\n                        ...defaultLightSquareNotationStyle,\n                        ...lightSquareNotationStyle,\n                    }\n                    : {\n                        ...defaultDarkSquareNotationStyle,\n                        ...darkSquareNotationStyle,\n                    }, children: [row ===\n                        (boardOrientation === 'white'\n                            ? '1'\n                            : chessboardRows.toString()) && (jsxRuntimeExports.jsx(\"span\", { style: { ...defaultAlphaNotationStyle, ...alphaNotationStyle }, children: column })), column ===\n                        (boardOrientation === 'white'\n                            ? 'a'\n                            : columnIndexToChessColumn(0, chessboardColumns, boardOrientation)) && (jsxRuntimeExports.jsx(\"span\", { style: {\n                            ...defaultNumericNotationStyle,\n                            ...numericNotationStyle,\n                        }, children: row }))] })) : null, squareRenderer?.({\n                piece: currentPosition[squareId] ?? null,\n                square: squareId,\n                children,\n            }) || (jsxRuntimeExports.jsx(\"div\", { style: {\n                    width: '100%',\n                    height: '100%',\n                    ...squareStyles[squareId],\n                }, children: children }))] }));\n});\n\nconst preventDragOffBoard = (boardId, draggingPiecePosition) => {\n    return ({ transform }) => {\n        const boardElement = typeof document !== 'undefined'\n            ? document.getElementById(`${boardId}-board`)\n            : null;\n        if (!boardElement) {\n            return transform;\n        }\n        // Get the a1 square to determine square size using data attributes\n        const boardRect = boardElement.getBoundingClientRect();\n        const a1Square = boardElement.querySelector('[data-column=\"a\"][data-row=\"1\"]');\n        if (!a1Square) {\n            return transform;\n        }\n        const squareWidth = a1Square.getBoundingClientRect().width;\n        const halfSquareWidth = squareWidth / 2;\n        // Extract column and row from position (supports multi-char columns/rows)\n        const match = draggingPiecePosition.match(/^([a-zA-Z]+)(\\d+)$/);\n        if (!match) {\n            return transform;\n        }\n        const [, col, row] = match;\n        // Get the starting position of the piece\n        const startSquare = boardElement.querySelector(`[data-column=\"${col}\"][data-row=\"${row}\"]`);\n        if (!startSquare) {\n            return transform;\n        }\n        const startSquareRect = startSquare.getBoundingClientRect();\n        const startX = startSquareRect.left + halfSquareWidth - boardRect.left;\n        const startY = startSquareRect.top + halfSquareWidth - boardRect.top;\n        // Clamp so the center of the piece can go exactly half a square width outside the board\n        const minX = -startX;\n        const maxX = boardRect.width - startX;\n        const minY = -startY;\n        const maxY = boardRect.height - startY;\n        const clampedX = Math.min(Math.max(transform.x, minX), maxX);\n        const clampedY = Math.min(Math.max(transform.y, minY), maxY);\n        return {\n            ...transform,\n            x: clampedX,\n            y: clampedY,\n        };\n    };\n};\n\nfunction Board() {\n    const { allowDragOffBoard, board, boardStyle, chessboardColumns, currentPosition, draggingPiece, id, } = useChessboardContext();\n    const boardRef = React.useRef(null);\n    const [boardWidth, setBoardWidth] = React.useState(boardRef.current?.clientWidth);\n    const [boardHeight, setBoardHeight] = React.useState(boardRef.current?.clientHeight);\n    // if the board dimensions change, update the board width and height\n    React.useEffect(() => {\n        if (boardRef.current) {\n            const resizeObserver = new ResizeObserver(() => {\n                setBoardWidth(boardRef.current?.clientWidth);\n                setBoardHeight(boardRef.current?.clientHeight);\n            });\n            resizeObserver.observe(boardRef.current);\n            return () => {\n                resizeObserver.disconnect();\n            };\n        }\n    }, [boardRef.current]);\n    return (jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment, { children: [jsxRuntimeExports.jsxs(\"div\", { id: `${id}-board`, ref: boardRef, style: { ...defaultBoardStyle(chessboardColumns), ...boardStyle }, children: [board.map((row) => row.map((square) => {\n                        const piece = currentPosition[square.squareId];\n                        return (jsxRuntimeExports.jsx(Droppable, { squareId: square.squareId, children: ({ isOver }) => (jsxRuntimeExports.jsx(Square, { isOver: isOver, ...square, children: piece ? (jsxRuntimeExports.jsx(Draggable, { isSparePiece: false, position: square.squareId, pieceType: piece.pieceType, children: jsxRuntimeExports.jsx(Piece, { ...piece, position: square.squareId }) })) : null })) }, square.squareId));\n                    })), jsxRuntimeExports.jsx(Arrows, { boardWidth: boardWidth, boardHeight: boardHeight })] }), jsxRuntimeExports.jsx(DragOverlay, { dropAnimation: null, modifiers: [\n                    snapCenterToCursor,\n                    ...(allowDragOffBoard\n                        ? []\n                        : [preventDragOffBoard(id, draggingPiece?.position || '')]),\n                ], children: draggingPiece ? (jsxRuntimeExports.jsx(Piece, { clone: true, position: draggingPiece.position, pieceType: draggingPiece.pieceType })) : null })] }));\n}\n\nfunction Chessboard({ options }) {\n    const { isWrapped } = useChessboardContext() ?? { isWrapped: false };\n    if (isWrapped) {\n        return jsxRuntimeExports.jsx(Board, {});\n    }\n    return (jsxRuntimeExports.jsx(ChessboardProvider, { options: options, children: jsxRuntimeExports.jsx(Board, {}) }));\n}\n\nfunction SparePiece({ pieceType }) {\n    return (jsxRuntimeExports.jsx(Draggable, { isSparePiece: true, position: pieceType, pieceType: pieceType, children: jsxRuntimeExports.jsx(Piece, { isSparePiece: true, pieceType: pieceType, position: pieceType }) }));\n}\n\nexports.Chessboard = Chessboard;\nexports.ChessboardProvider = ChessboardProvider;\nexports.SparePiece = SparePiece;\nexports.chessColumnToColumnIndex = chessColumnToColumnIndex;\nexports.chessRowToRowIndex = chessRowToRowIndex;\nexports.columnIndexToChessColumn = columnIndexToChessColumn;\nexports.defaultAlphaNotationStyle = defaultAlphaNotationStyle;\nexports.defaultArrowOptions = defaultArrowOptions;\nexports.defaultBoardStyle = defaultBoardStyle;\nexports.defaultDarkSquareNotationStyle = defaultDarkSquareNotationStyle;\nexports.defaultDarkSquareStyle = defaultDarkSquareStyle;\nexports.defaultDraggingPieceGhostStyle = defaultDraggingPieceGhostStyle;\nexports.defaultDraggingPieceStyle = defaultDraggingPieceStyle;\nexports.defaultDropSquareStyle = defaultDropSquareStyle;\nexports.defaultLightSquareNotationStyle = defaultLightSquareNotationStyle;\nexports.defaultLightSquareStyle = defaultLightSquareStyle;\nexports.defaultNumericNotationStyle = defaultNumericNotationStyle;\nexports.defaultPieces = defaultPieces;\nexports.defaultSquareStyle = defaultSquareStyle;\nexports.fenStringToPositionObject = fenStringToPositionObject;\nexports.generateBoard = generateBoard;\nexports.getPositionUpdates = getPositionUpdates;\nexports.getRelativeCoords = getRelativeCoords;\nexports.rowIndexToChessRow = rowIndexToChessRow;\nexports.useChessboardContext = useChessboardContext;\n"],"names":["React","require","reactDom","jsxRuntime","exports","reactJsxRuntime_production","hasRequiredReactJsxRuntime_production","requireReactJsxRuntime_production","REACT_ELEMENT_TYPE","Symbol","for","REACT_FRAGMENT_TYPE","jsxProd","type","config","maybeKey","key","propName","ref","$$typeof","props","Fragment","jsx","jsxs","reactJsxRuntime_development","hasRequiredReactJsxRuntime_development","requireReactJsxRuntime_development","process","env","NODE_ENV","getComponentNameFromType","REACT_CLIENT_REFERENCE$2","displayName","name","REACT_PORTAL_TYPE","REACT_PROFILER_TYPE","REACT_STRICT_MODE_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","tag","console","error","REACT_CONTEXT_TYPE","REACT_CONSUMER_TYPE","_context","REACT_FORWARD_REF_TYPE","innerType","render","REACT_MEMO_TYPE","REACT_LAZY_TYPE","_payload","_init","x","testStringCoercion","value","checkKeyStringCoercion","JSCompiler_inline_result","e","JSCompiler_temp_const","JSCompiler_inline_result$jscomp$0","toStringTag","call","disabledLog","disableLogs","disabledDepth","prevLog","log","prevInfo","info","prevWarn","warn","prevError","prevGroup","group","prevGroupCollapsed","groupCollapsed","prevGroupEnd","groupEnd","configurable","enumerable","writable","Object","defineProperties","reenableLogs","assign","describeBuiltInComponentFrame","prefix","Error","match","stack","trim","suffix","indexOf","describeNativeComponentFrame","fn","construct","reentry","frame","componentFrameCache","get","prepareStackTrace","previousDispatcher","ReactSharedInternals","H","RunInRootFrame","DetermineComponentFrameRoot","Fake","defineProperty","prototype","set","Reflect","control","x$0","x$1","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","split","controlLines","length","includes","_frame","replace","describeUnknownElementTypeFrameInDEV","isReactComponent","getOwner","dispatcher","A","hasValidKey","hasOwnProperty","getter","isReactWarning","defineKeyPropWarningGetter","warnAboutAccessingKey","specialPropKeyWarningShown","elementRefGetterWithDeprecationWarning","componentName","didWarnAboutElementRef","ReactElement","self","source","owner","_owner","_store","freeze","jsxDEVImpl","isStaticChildren","REACT_OFFSCREEN_TYPE","REACT_CLIENT_REFERENCE$1","getModuleId","children","isArrayImpl","validateChildKeys","keys","filter","k","join","didWarnAboutKeySpread","node","parentType","REACT_CLIENT_REFERENCE","i","child","isValidElement","validateExplicitKey","validated","MAYBE_ITERATOR_SYMBOL","entries","next","done","object","element","getCurrentComponentErrorInfo","ownerHasKeyUseWarning","childOwner","prevGetCurrentStack","getCurrentStack","React$1","iterator","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","Array","isArray","__reactDisabledLog","WeakMap","Map","hasRequiredJsxRuntime","requireJsxRuntime","jsxRuntimeExports","canUseDOM","window","document","createElement","isWindow","elementString","toString","isNode","getWindow","target","_target$ownerDocument","_target$ownerDocument2","ownerDocument","defaultView","isDocument","Document","isHTMLElement","HTMLElement","isSVGElement","SVGElement","getOwnerDocument","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","useEvent","handler","handlerRef","useRef","current","useCallback","_len","arguments","args","_key","useInterval","intervalRef","listener","duration","setInterval","clear","clearInterval","useLatestValue","dependencies","valueRef","useLazyMemo","callback","useMemo","newValue","useNodeRef","onChange","onChangeHandler","setNodeRef","usePrevious","ids","useUniqueId","id","createAdjustmentFn","modifier","adjustments","reduce","accumulator","adjustment","valueAdjustment","add","subtract","hasViewportRelativeCoordinates","event","isKeyboardEvent","KeyboardEvent","isTouchEvent","TouchEvent","getEventCoordinates","touches","clientX","clientY","y","changedTouches","CSS","Translate","transform","Math","round","Scale","scaleX","scaleY","Transform","Transition","_ref","property","easing","SELECTOR","findFirstFocusableNode","matches","querySelector","hiddenStyles","display","HiddenText","style","LiveRegion","announcement","ariaLiveType","visuallyHidden","position","top","left","width","height","margin","border","padding","overflow","clip","clipPath","whiteSpace","role","useAnnouncement","setAnnouncement","useState","announce","DndMonitorContext","createContext","useDndMonitor","registerListener","useContext","unsubscribe","useDndMonitorProvider","listeners","Set","delete","dispatch","forEach","_listener$type","defaultScreenReaderInstructions","draggable","defaultAnnouncements","onDragStart","active","onDragOver","_ref2","over","onDragEnd","_ref3","onDragCancel","_ref4","Accessibility","announcements","container","hiddenTextDescribedById","screenReaderInstructions","liveRegionId","mounted","setMounted","onDragMove","_ref5","_ref6","markup","createPortal","Action","noop","useSensor","sensor","options","useSensors","sensors","defaultCoordinates","distanceBetween","p1","p2","sqrt","pow","getRelativeTransformOrigin","rect","eventCoordinates","transformOrigin","sortCollisionsAsc","data","a","b","sortCollisionsDesc","cornersOfRectangle","getFirstCollision","collisions","firstCollision","getIntersectionRatio","entry","max","right","min","bottom","targetArea","entryArea","intersectionArea","intersectionRatio","Number","toFixed","rectIntersection","collisionRect","droppableRects","droppableContainers","droppableContainer","push","sort","isPointWithinRect","point","pointerWithin","pointerCoordinates","corners","distances","corner","effectiveDistance","adjustScale","rect1","rect2","getRectDelta","createRectAdjustmentFn","adjustClientRect","acc","getAdjustedRect","parseTransform","startsWith","transformArray","slice","inverseTransform","parsedTransform","translateX","translateY","parseFloat","w","h","defaultOptions","ignoreTransform","getClientRect","getBoundingClientRect","getComputedStyle","getTransformAgnosticClientRect","getWindowClientRect","innerWidth","innerHeight","isFixed","computedStyle","isScrollable","overflowRegex","properties","some","test","getScrollableAncestors","limit","scrollParents","findScrollableAncestors","scrollingElement","parentNode","getFirstScrollableAncestor","firstScrollableAncestor","getScrollableElement","getScrollXCoordinate","scrollX","scrollLeft","getScrollYCoordinate","scrollY","scrollTop","getScrollCoordinates","Direction","isDocumentScrollingElement","getScrollPosition","scrollingContainer","minScroll","dimensions","clientHeight","clientWidth","maxScroll","scrollWidth","scrollHeight","isTop","isLeft","isBottom","isRight","defaultThreshold","getScrollDirectionAndSpeed","scrollContainer","scrollContainerRect","acceleration","thresholdPercentage","direction","speed","threshold","Backward","abs","Forward","getScrollElementRect","getScrollOffsets","scrollableAncestors","getScrollXOffset","getScrollYOffset","scrollIntoViewIfNeeded","measure","scrollIntoView","block","inline","Rect","scrollOffsets","axis","getScrollOffset","currentOffsets","scrollOffsetsDeltla","Listeners","eventName","_this$target2","addEventListener","removeAll","_this$target","removeEventListener","getEventListenerTarget","EventTarget","hasExceededDistance","delta","measurement","dx","dy","EventName","preventDefault","stopPropagation","KeyboardCode","defaultKeyboardCodes","start","Space","Enter","cancel","Esc","end","Tab","defaultKeyboardCoordinateGetter","currentCoordinates","code","Right","Left","Down","Up","undefined","KeyboardSensor","attach","handleStart","windowListeners","Resize","handleCancel","VisibilityChange","setTimeout","Keydown","handleKeyDown","activeNode","onStart","context","keyboardCodes","coordinateGetter","scrollBehavior","handleEnd","referenceCoordinates","newCoordinates","coordinatesDelta","scrollDelta","scrollElementRect","clampedCoordinates","canScrollX","canScrollY","newScrollCoordinates","canScrollToNewCoordinates","scrollTo","behavior","scrollBy","handleMove","coordinates","onMove","onEnd","detach","onCancel","autoScrollEnabled","bind","activators","onActivation","nativeEvent","activator","activatorNode","isDistanceConstraint","constraint","Boolean","isDelayConstraint","AbstractPointerSensor","events","activationConstraint","bypassActivationConstraint","move","passive","DragStart","ContextMenu","documentListeners","handleKeydown","timeoutId","delay","handlePending","clearTimeout","offset","onPending","initialCoordinates","activated","Click","capture","removeTextSelection","SelectionChange","_getEventCoordinates2","tolerance","distance","cancelable","onAbort","_this$document$getSel","getSelection","removeAllRanges","listenerTarget","_getEventCoordinates","PointerSensor","isPrimary","button","events$1","MouseButton","MouseSensor","RightClick","events$2","TouchSensor","setup","teardown","AutoScrollActivator","TraversalOrder","useAutoScroller","Pointer","canScroll","draggingRect","enabled","interval","order","TreeOrder","scrollableAncestorRects","scrollIntent","useScrollIntent","disabled","setAutoScrollInterval","clearAutoScrollInterval","scrollSpeed","scrollDirection","DraggableRect","scrollContainerRef","autoScroll","sortedScrollableAncestors","reverse","index","JSON","stringify","defaultScrollIntent","previousDelta","previousIntent","sign","useCachedNode","draggableNodes","draggableNode","cachedNode","useCombineActivators","getSyntheticHandler","Sensor","sensorActivators","map","MeasuringStrategy","MeasuringFrequency","defaultValue","useDroppableMeasuring","containers","dragging","queue","setQueue","frequency","strategy","containersRef","isDisabled","disabledRef","measureDroppableContainers","concat","previousValue","measuringScheduled","Always","BeforeDragging","useInitialValue","computeFn","useInitialRect","useMutationObserver","handleMutations","mutationObserver","MutationObserver","disconnect","useResizeObserver","handleResize","resizeObserver","ResizeObserver","defaultMeasure","useRect","fallbackRect","setRect","measureRect","currentRect","isConnected","newRect","records","record","contains","observe","body","childList","subtree","useRectDelta","initialRect","defaultValue$1","useScrollableAncestors","previousNode","ancestors","useScrollOffsets","elements","scrollCoordinates","setScrollCoordinates","prevElements","handleScroll","previousElements","cleanup","scrollableElement","from","values","useScrollOffsetsDelta","initialScrollOffsets","hasScrollOffsets","useSensorSetup","teardownFns","useSyntheticListeners","useWindowRect","defaultValue$2","useRects","firstElement","windowRect","rects","setRects","measureRects","getMeasurableNode","firstChild","useDragOverlayMeasuring","handleNodeChange","nodeRef","setRef","defaultSensors","defaultData","defaultMeasuringConfiguration","droppable","WhileDragging","Optimized","dragOverlay","DroppableContainersMap","_super$get","toArray","getEnabled","getNodeFor","_this$get$node$curren","_this$get","defaultPublicContext","activatorEvent","activeNodeRect","containerNodeRect","measuringConfiguration","defaultInternalContext","ariaDescribedById","InternalContext","PublicContext","getInitialState","nodes","translate","reducer","state","action","DragMove","DragEnd","DragCancel","RegisterDroppable","SetDroppableDisabled","UnregisterDroppable","RestoreFocus","previousActivatorEvent","previousActiveId","activeElement","requestAnimationFrame","focusableNode","focus","applyModifiers","modifiers","useMeasuringConfiguration","useLayoutShiftScrollCompensation","initialized","rectDelta","ActiveDraggableContext","Status","DndContext","memo","_sensorContext$curren","_dragOverlay$nodeRef$","_dragOverlay$rect","_over$rect","accessibility","collisionDetection","measuring","store","useReducer","dispatchMonitorEvent","registerMonitorListener","status","setStatus","Uninitialized","isInitialized","Initialized","activeId","activeRects","initial","translated","_node$data","activeRef","activeSensor","setActiveSensor","setActivatorEvent","latestProps","draggableDescribedById","enabledDroppableContainers","activationCoordinates","autoScrollOptions","getAutoScrollerOptions","initialActiveNodeRect","layoutShiftCompensation","parentElement","sensorContext","draggingNode","draggingNodeRect","scrollAdjustedTranslate","overNode","usesDragOverlay","nodeRectDelta","modifiedTranslate","overlayNodeRect","scrollAdjustment","activeNodeScrollDelta","overId","setOver","appliedTranslate","activeSensorRef","instantiateSensor","sensorInstance","onDragAbort","onDragPending","unstable_batchedUpdates","Initializing","createHandler","cancelDrop","shouldCancel","Promise","resolve","bindActivatorToSensorInstantiator","activeDraggableNode","dndKit","defaultPrevented","activationContext","shouldActivate","capturedBy","overContainer","publicContext","internalContext","Provider","restoreFocus","activeSensorDisablesAutoscroll","autoScrollGloballyDisabled","NullContext","defaultRole","ID_PREFIX","useDraggable","attributes","roleDescription","tabIndex","isDragging","setActivatorNodeRef","dataRef","memoizedAttributes","useDndContext","ID_PREFIX$1","defaultResizeObserverConfig","timeout","useDroppable","resizeObserverConfig","previous","resizeObserverConnected","callbackId","resizeObserverDisabled","updateMeasurementsFor","resizeObserverTimeout","newElement","previousElement","unobserve","isOver","AnimationManager","animation","clonedChildren","setClonedChildren","setElement","previousChildren","then","cloneElement","defaultTransform","NullifiedContextProvider","baseStyles","touchAction","defaultTransition","isKeyboardActivator","PositionedOverlay","forwardRef","as","className","transition","scaleAdjustedTransform","styles","defaultDropAnimationSideEffects","originalStyles","getPropertyValue","setProperty","classList","remove","defaultKeyframeResolver","final","defaultDropAnimationConfiguration","keyframes","sideEffects","opacity","useDropAnimation","activeDraggable","measurableNode","createDefaultDropAnimation","rest","scale","finalTransform","animationKeyframes","firstKeyframe","lastKeyframe","animate","fill","onfinish","useKey","DragOverlay","dropAnimation","dropAnimationConfig","wrapperElement","zIndex","modifiedTransform","snapCenterToCursor","activatorCoordinates","offsetX","offsetY","generateBoard","noOfRows","noOfColumns","boardOrientation","board","row","column","squareId","columnIndexToChessColumn","rowIndexToChessRow","isLightSquare","String","fromCharCode","chessColumnToColumnIndex","charCodeAt","chessRowToRowIndex","fenStringToPositionObject","fen","positionObject","rows","char","isNaN","pieceType","fenToPieceCode","piece","toLowerCase","toUpperCase","getPositionUpdates","oldPosition","newPosition","updates","newSquare","candidateSquares","oldSquare","candidateSquare","candidatePieceType","columnDifference","rowDifference","isOldSquareLight","isNewSquareLight","getRelativeCoords","boardWidth","chessboardColumns","chessboardRows","square","squareWidth","defaultPieces","wP","xmlns","version","viewBox","svgStyle","d","fillOpacity","fillRule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeOpacity","wR","wN","wB","wQ","cx","cy","r","wK","bP","bR","bN","bB","bQ","bK","defaultBoardStyle","gridTemplateColumns","defaultSquareStyle","aspectRatio","justifyContent","alignItems","defaultDarkSquareStyle","backgroundColor","defaultLightSquareStyle","defaultDropSquareStyle","boxShadow","defaultDarkSquareNotationStyle","color","defaultLightSquareNotationStyle","defaultAlphaNotationStyle","fontSize","userSelect","defaultNumericNotationStyle","defaultDraggingPieceStyle","defaultDraggingPieceGhostStyle","defaultArrowOptions","secondaryColor","tertiaryColor","arrowLengthReducerDenominator","sameTargetArrowLengthReducerDenominator","arrowWidthDenominator","activeArrowWidthMultiplier","activeOpacity","ChessboardContext","useChessboardContext","use","ChessboardProvider","pieces","boardStyle","squareStyle","squareStyles","darkSquareStyle","lightSquareStyle","dropSquareStyle","draggingPieceStyle","draggingPieceGhostStyle","darkSquareNotationStyle","lightSquareNotationStyle","alphaNotationStyle","numericNotationStyle","showNotation","animationDurationInMs","showAnimations","allowDragging","allowDragOffBoard","allowAutoScroll","dragActivationDistance","allowDrawingArrows","arrows","arrowOptions","clearArrowsOnClick","canDragPiece","onArrowsChange","onMouseOutSquare","onMouseOverSquare","onPieceClick","onPieceDrag","onPieceDrop","onSquareClick","onSquareRightClick","squareRenderer","draggingPiece","setDraggingPiece","currentPosition","setCurrentPosition","positionDifferences","setPositionDifferences","manuallyDroppedPieceAndSquare","setManuallyDroppedPieceAndSquare","newArrowStartSquare","setNewArrowStartSquare","newArrowOverSquare","setNewArrowOverSquare","internalArrows","setInternalArrows","waitingForAnimationPosition","setWaitingForAnimationPosition","animationTimeoutRef","currentWaitingForAnimationPosition","positionUpdates","multiplePiecesMoved","intermediatePosition","sourceSquare","targetSquare","otherPiecesUpdates","newTimeout","drawArrow","newArrowEndSquare","arrowExistsIndex","findIndex","arrow","startSquare","endSquare","arrowExistsExternally","arrowColor","shiftKey","ctrlKey","prevArrows","_","clearArrows","setNewArrowOverSquareWithModifiers","handleDragCancel","handleDragEnd","dropSquare","isDropValid","handleDragStart","isSparePiece","pointerCollisions","isWrapped","Arrows","boardHeight","currentlyDrawingArrow","arrowsToDraw","pointerEvents","to","ARROW_LENGTH_REDUCER","isArrowActive","restArrow","hypot","markerWidth","markerHeight","refX","refY","orient","points","x1","y1","x2","y2","markerEnd","Draggable","Droppable","Piece","clone","animationStyle","setAnimationStyle","cursorStyle","PieceSvg","cursor","onClick","Square","onTouchEnd","onContextMenu","onMouseDown","onMouseUp","onMouseOver","buttons","onMouseLeave","preventDragOffBoard","boardId","draggingPiecePosition","boardElement","getElementById","boardRect","a1Square","halfSquareWidth","col","startSquareRect","startX","startY","minX","maxX","minY","maxY","clampedX","clampedY","Board","boardRef","setBoardWidth","setBoardHeight","Chessboard","SparePiece"],"mappings":"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"}