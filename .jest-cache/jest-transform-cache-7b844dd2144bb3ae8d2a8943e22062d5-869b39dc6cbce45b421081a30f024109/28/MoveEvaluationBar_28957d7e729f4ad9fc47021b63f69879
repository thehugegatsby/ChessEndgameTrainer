4fa7fcdc1d0f397a72fea873183d57d2
/**
 * @file Move evaluation bar visualization component
 * @module components/tablebase/MoveEvaluationBar
 *
 * @description
 * Visual progress bar component that displays tablebase moves with color-coded
 * evaluation bars based on DTZ (Distance to Zero) values. Provides an intuitive
 * visualization similar to the Lichess tablebase interface.
 *
 * @remarks
 * Key features:
 * - Color-coded bars (green=win, yellow=draw, red=loss)
 * - Bar width proportional to DTZ value
 * - Interactive selection with hover states
 * - Accessible keyboard navigation
 * - Compact variant for dense layouts
 * - Dark mode support
 *
 * The component uses DTZ values to create visual feedback about move quality,
 * with longer bars indicating moves that take more time to reach an outcome.
 */ "use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get CompactMoveEvaluationBar () {
        return CompactMoveEvaluationBar;
    },
    get MoveEvaluationBar () {
        return MoveEvaluationBar;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _resultClassification = require("../../utils/tablebase/resultClassification");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const MoveEvaluationBar = ({ move, dtz, maxDtz, onClick, isSelected = false, className = "", category })=>{
    const resultType = category || (0, _resultClassification.getMoveResultType)(dtz);
    const barWidth = (0, _resultClassification.calculateBarWidth)(dtz, maxDtz);
    const barColor = (0, _resultClassification.getEvaluationBarColor)(resultType);
    const dtzDisplay = (0, _resultClassification.formatDtzDisplay)(dtz);
    const getTextColorClass = (type)=>{
        switch(type){
            case "win":
                return "text-green-600 dark:text-green-400";
            case "draw":
                return "text-yellow-600 dark:text-yellow-400";
            case "loss":
                return "text-red-600 dark:text-red-400";
            default:
                return "text-gray-600 dark:text-gray-400";
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: `
        relative flex items-center justify-between py-2 px-3 
        cursor-pointer transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-800/50
        ${isSelected ? "bg-blue-50 dark:bg-blue-900/20" : ""}
        ${className}
      `,
        onClick: onClick,
        role: "button",
        tabIndex: 0,
        "aria-label": `Move ${move}, ${dtzDisplay}`,
        onKeyDown: (e)=>{
            if (e.key === "Enter" || e.key === " ") {
                e.preventDefault();
                onClick === null || onClick === void 0 ? void 0 : onClick();
            }
        },
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: `
          absolute left-0 top-0 bottom-0 opacity-5 transition-all duration-300
          ${barColor}
        `,
                style: {
                    width: `${barWidth}%`
                },
                "aria-hidden": "true"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "relative z-10 flex items-center justify-between w-full",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "flex items-center space-x-3",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                            className: `font-mono font-medium text-sm ${getTextColorClass(resultType)}`,
                            children: move
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: `text-xs font-medium ${getTextColorClass(resultType)}`,
                                children: dtzDisplay
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "sr-only",
                                children: dtzDisplay
                            })
                        ]
                    })
                ]
            })
        ]
    });
};
const CompactMoveEvaluationBar = ({ move, dtz, maxDtz, onClick, isSelected = false, className = "", category })=>{
    const resultType = category || (0, _resultClassification.getMoveResultType)(dtz);
    const barWidth = (0, _resultClassification.calculateBarWidth)(dtz, maxDtz);
    const barColor = (0, _resultClassification.getEvaluationBarColor)(resultType);
    const icon = (0, _resultClassification.getResultIcon)(resultType);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: `
        relative flex items-center justify-between py-1 px-2 rounded
        cursor-pointer transition-all duration-200 hover:bg-gray-100
        ${isSelected ? "bg-blue-50 border-blue-300" : ""}
        ${className}
      `,
        onClick: onClick,
        role: "button",
        tabIndex: 0,
        "aria-label": `Move ${move}, DTZ ${Math.abs(dtz)}`,
        onKeyDown: (e)=>{
            if (e.key === "Enter" || e.key === " ") {
                e.preventDefault();
                onClick === null || onClick === void 0 ? void 0 : onClick();
            }
        },
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: `
          absolute inset-0 rounded opacity-10 transition-all duration-300
          ${barColor}
        `,
                style: {
                    width: `${barWidth}%`
                },
                "aria-hidden": "true"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "relative z-10 flex items-center justify-between w-full",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-1",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-xs",
                                "aria-hidden": "true",
                                children: icon
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "font-mono font-bold text-sm",
                                children: move
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "text-xs text-gray-600",
                        children: dtz === 0 ? "0" : Math.abs(dtz)
                    })
                ]
            })
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RoZWh1L2Nvb2xQcm9qZWN0cy9FbmRnYW1lVHJhaW5lci10cmFpbmluZy1ib2FyZC1jb21wbGV0ZS9zcmMvc2hhcmVkL2NvbXBvbmVudHMvdGFibGViYXNlL01vdmVFdmFsdWF0aW9uQmFyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIE1vdmUgZXZhbHVhdGlvbiBiYXIgdmlzdWFsaXphdGlvbiBjb21wb25lbnRcbiAqIEBtb2R1bGUgY29tcG9uZW50cy90YWJsZWJhc2UvTW92ZUV2YWx1YXRpb25CYXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFZpc3VhbCBwcm9ncmVzcyBiYXIgY29tcG9uZW50IHRoYXQgZGlzcGxheXMgdGFibGViYXNlIG1vdmVzIHdpdGggY29sb3ItY29kZWRcbiAqIGV2YWx1YXRpb24gYmFycyBiYXNlZCBvbiBEVFogKERpc3RhbmNlIHRvIFplcm8pIHZhbHVlcy4gUHJvdmlkZXMgYW4gaW50dWl0aXZlXG4gKiB2aXN1YWxpemF0aW9uIHNpbWlsYXIgdG8gdGhlIExpY2hlc3MgdGFibGViYXNlIGludGVyZmFjZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogS2V5IGZlYXR1cmVzOlxuICogLSBDb2xvci1jb2RlZCBiYXJzIChncmVlbj13aW4sIHllbGxvdz1kcmF3LCByZWQ9bG9zcylcbiAqIC0gQmFyIHdpZHRoIHByb3BvcnRpb25hbCB0byBEVFogdmFsdWVcbiAqIC0gSW50ZXJhY3RpdmUgc2VsZWN0aW9uIHdpdGggaG92ZXIgc3RhdGVzXG4gKiAtIEFjY2Vzc2libGUga2V5Ym9hcmQgbmF2aWdhdGlvblxuICogLSBDb21wYWN0IHZhcmlhbnQgZm9yIGRlbnNlIGxheW91dHNcbiAqIC0gRGFyayBtb2RlIHN1cHBvcnRcbiAqXG4gKiBUaGUgY29tcG9uZW50IHVzZXMgRFRaIHZhbHVlcyB0byBjcmVhdGUgdmlzdWFsIGZlZWRiYWNrIGFib3V0IG1vdmUgcXVhbGl0eSxcbiAqIHdpdGggbG9uZ2VyIGJhcnMgaW5kaWNhdGluZyBtb3ZlcyB0aGF0IHRha2UgbW9yZSB0aW1lIHRvIHJlYWNoIGFuIG91dGNvbWUuXG4gKi9cblxuXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIHR5cGUgTW92ZVJlc3VsdFR5cGUsXG4gIGdldEV2YWx1YXRpb25CYXJDb2xvcixcbiAgZ2V0UmVzdWx0SWNvbixcbiAgY2FsY3VsYXRlQmFyV2lkdGgsXG4gIGZvcm1hdER0ekRpc3BsYXksXG4gIGdldE1vdmVSZXN1bHRUeXBlLFxufSBmcm9tIFwiQHNoYXJlZC91dGlscy90YWJsZWJhc2UvcmVzdWx0Q2xhc3NpZmljYXRpb25cIjtcblxuLyoqXG4gKiBQcm9wcyBmb3IgdGhlIE1vdmVFdmFsdWF0aW9uQmFyIGNvbXBvbmVudFxuICpcbiAqIEBpbnRlcmZhY2UgTW92ZUV2YWx1YXRpb25CYXJQcm9wc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciByZW5kZXJpbmcgbW92ZSBldmFsdWF0aW9uIGJhcnMgd2l0aFxuICogdmlzdWFsIERUWiBmZWVkYmFjayBhbmQgaW50ZXJhY3RpdmUgc2VsZWN0aW9uLlxuICovXG5pbnRlcmZhY2UgTW92ZUV2YWx1YXRpb25CYXJQcm9wcyB7XG4gIC8qKiBUaGUgY2hlc3MgbW92ZSBpbiBTQU4gbm90YXRpb24gKi9cbiAgbW92ZTogc3RyaW5nO1xuICAvKiogRGlzdGFuY2UgdG8gWmVybyB2YWx1ZSBmcm9tIHRhYmxlYmFzZSAqL1xuICBkdHo6IG51bWJlcjtcbiAgLyoqIE1heGltdW0gRFRaIHZhbHVlIGluIGN1cnJlbnQgc2V0IGZvciB3aWR0aCBub3JtYWxpemF0aW9uICovXG4gIG1heER0ejogbnVtYmVyO1xuICAvKiogQ2xpY2sgaGFuZGxlciBmb3IgbW92ZSBzZWxlY3Rpb24gKi9cbiAgb25DbGljaz86ICgpID0+IHZvaWQ7XG4gIC8qKiBXaGV0aGVyIHRoaXMgbW92ZSBpcyBjdXJyZW50bHkgc2VsZWN0ZWQgKi9cbiAgaXNTZWxlY3RlZD86IGJvb2xlYW47XG4gIC8qKiBBZGRpdGlvbmFsIENTUyBjbGFzc2VzICovXG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIGNhdGVnb3J5IGZyb20gdGFibGViYXNlIGRhdGEgKi9cbiAgY2F0ZWdvcnk/OiBcIndpblwiIHwgXCJkcmF3XCIgfCBcImxvc3NcIjtcbn1cblxuLyoqXG4gKiBNb3ZlIGV2YWx1YXRpb24gYmFyIGNvbXBvbmVudFxuICpcbiAqIEBjb21wb25lbnRcbiAqIEBkZXNjcmlwdGlvblxuICogUmVuZGVycyBhbiBpbnRlcmFjdGl2ZSBiYXIgdmlzdWFsaXphdGlvbiBmb3IgYSBzaW5nbGUgdGFibGViYXNlIG1vdmUuXG4gKiBUaGUgYmFyJ3MgY29sb3IgYW5kIHdpZHRoIHJlcHJlc2VudCB0aGUgbW92ZSdzIG91dGNvbWUgYW5kIERUWiB2YWx1ZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogVmlzdWFsIGRlc2lnbjpcbiAqIC0gR3JlZW4gYmFycyBmb3Igd2lubmluZyBtb3Zlc1xuICogLSBZZWxsb3cgYmFycyBmb3IgZHJhd2luZyBtb3Zlc1xuICogLSBSZWQgYmFycyBmb3IgbG9zaW5nIG1vdmVzXG4gKiAtIEJhciB3aWR0aCBzY2FsZXMgd2l0aCBEVFogKGxvbmdlciA9IG1vcmUgbW92ZXMgdG8gb3V0Y29tZSlcbiAqXG4gKiBJbnRlcmFjdGlvbjpcbiAqIC0gQ2xpY2sgdG8gc2VsZWN0IHRoZSBtb3ZlXG4gKiAtIEtleWJvYXJkIG5hdmlnYXRpb24gd2l0aCBFbnRlci9TcGFjZVxuICogLSBIb3ZlciBzdGF0ZSBmb3IgdmlzdWFsIGZlZWRiYWNrXG4gKiAtIFNlbGVjdGVkIHN0YXRlIHdpdGggYmx1ZSBoaWdobGlnaHRcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiA8TW92ZUV2YWx1YXRpb25CYXJcbiAqICAgbW92ZT1cIktlMlwiXG4gKiAgIGR0ej17MTV9XG4gKiAgIG1heER0ej17MzB9XG4gKiAgIG9uQ2xpY2s9eygpID0+IG1ha2VNb3ZlKFwiS2UyXCIpfVxuICogICBpc1NlbGVjdGVkPXtzZWxlY3RlZE1vdmUgPT09IFwiS2UyXCJ9XG4gKiAvPlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtNb3ZlRXZhbHVhdGlvbkJhclByb3BzfSBwcm9wcyAtIENvbXBvbmVudCBjb25maWd1cmF0aW9uXG4gKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9IFJlbmRlcmVkIGV2YWx1YXRpb24gYmFyXG4gKi9cbmV4cG9ydCBjb25zdCBNb3ZlRXZhbHVhdGlvbkJhcjogUmVhY3QuRkM8TW92ZUV2YWx1YXRpb25CYXJQcm9wcz4gPSAoe1xuICBtb3ZlLFxuICBkdHosXG4gIG1heER0eixcbiAgb25DbGljayxcbiAgaXNTZWxlY3RlZCA9IGZhbHNlLFxuICBjbGFzc05hbWUgPSBcIlwiLFxuICBjYXRlZ29yeSxcbn0pID0+IHtcbiAgY29uc3QgcmVzdWx0VHlwZTogTW92ZVJlc3VsdFR5cGUgPSBjYXRlZ29yeSB8fCBnZXRNb3ZlUmVzdWx0VHlwZShkdHopO1xuICBjb25zdCBiYXJXaWR0aCA9IGNhbGN1bGF0ZUJhcldpZHRoKGR0eiwgbWF4RHR6KTtcbiAgY29uc3QgYmFyQ29sb3IgPSBnZXRFdmFsdWF0aW9uQmFyQ29sb3IocmVzdWx0VHlwZSk7XG4gIGNvbnN0IGR0ekRpc3BsYXkgPSBmb3JtYXREdHpEaXNwbGF5KGR0eik7XG5cbiAgY29uc3QgZ2V0VGV4dENvbG9yQ2xhc3MgPSAodHlwZTogTW92ZVJlc3VsdFR5cGUpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcIndpblwiOlxuICAgICAgICByZXR1cm4gXCJ0ZXh0LWdyZWVuLTYwMCBkYXJrOnRleHQtZ3JlZW4tNDAwXCI7XG4gICAgICBjYXNlIFwiZHJhd1wiOlxuICAgICAgICByZXR1cm4gXCJ0ZXh0LXllbGxvdy02MDAgZGFyazp0ZXh0LXllbGxvdy00MDBcIjtcbiAgICAgIGNhc2UgXCJsb3NzXCI6XG4gICAgICAgIHJldHVybiBcInRleHQtcmVkLTYwMCBkYXJrOnRleHQtcmVkLTQwMFwiO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFwidGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIjtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgcmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB5LTIgcHgtMyBcbiAgICAgICAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOmJnLWdyYXktNTAgZGFyazpob3ZlcjpiZy1ncmF5LTgwMC81MFxuICAgICAgICAke2lzU2VsZWN0ZWQgPyBcImJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMFwiIDogXCJcIn1cbiAgICAgICAgJHtjbGFzc05hbWV9XG4gICAgICBgfVxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgdGFiSW5kZXg9ezB9XG4gICAgICBhcmlhLWxhYmVsPXtgTW92ZSAke21vdmV9LCAke2R0ekRpc3BsYXl9YH1cbiAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgfHwgZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIG9uQ2xpY2s/LigpO1xuICAgICAgICB9XG4gICAgICB9fVxuICAgID5cbiAgICAgIHsvKiBTdWJ0bGUgYmFja2dyb3VuZCBldmFsdWF0aW9uIGJhciAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgYWJzb2x1dGUgbGVmdC0wIHRvcC0wIGJvdHRvbS0wIG9wYWNpdHktNSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcbiAgICAgICAgICAke2JhckNvbG9yfVxuICAgICAgICBgfVxuICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7YmFyV2lkdGh9JWAgfX1cbiAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgIC8+XG5cbiAgICAgIHsvKiBNb3ZlIGNvbnRlbnQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHotMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHctZnVsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgIHsvKiBNb3ZlIG5vdGF0aW9uICovfVxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Bmb250LW1vbm8gZm9udC1tZWRpdW0gdGV4dC1zbSAke2dldFRleHRDb2xvckNsYXNzKHJlc3VsdFR5cGUpfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge21vdmV9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRFRaIGRpc3BsYXkgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHRleHQteHMgZm9udC1tZWRpdW0gJHtnZXRUZXh0Q29sb3JDbGFzcyhyZXN1bHRUeXBlKX1gfVxuICAgICAgICAgID5cbntkdHpEaXNwbGF5fVxuICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgIHsvKiBBY2Nlc3NpYmlsaXR5LWZyaWVuZGx5IHJlc3VsdCBpbmRpY2F0b3IgKi99XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPntkdHpEaXNwbGF5fTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8qKlxuICogQ29tcGFjdCBtb3ZlIGV2YWx1YXRpb24gYmFyIGNvbXBvbmVudFxuICpcbiAqIEBjb21wb25lbnRcbiAqIEBkZXNjcmlwdGlvblxuICogQSBjb25kZW5zZWQgdmVyc2lvbiBvZiBNb3ZlRXZhbHVhdGlvbkJhciBkZXNpZ25lZCBmb3Igc3BhY2UtY29uc3RyYWluZWRcbiAqIGxheW91dHMuIE1haW50YWlucyB0aGUgc2FtZSBmdW5jdGlvbmFsaXR5IHdpdGggcmVkdWNlZCB2aXN1YWwgZm9vdHByaW50LlxuICpcbiAqIEByZW1hcmtzXG4gKiBEaWZmZXJlbmNlcyBmcm9tIHN0YW5kYXJkIHZlcnNpb246XG4gKiAtIFJlZHVjZWQgcGFkZGluZyBhbmQgc21hbGxlciBmb250IHNpemVzXG4gKiAtIEljb25zIGluc3RlYWQgb2YgdGV4dCBsYWJlbHNcbiAqIC0gU2ltcGxpZmllZCBEVFogZGlzcGxheVxuICogLSBSb3VuZGVkIGNvcm5lcnMgZm9yIGJldHRlciB2aXN1YWwgc2VwYXJhdGlvblxuICpcbiAqIFVzZSB0aGlzIHZhcmlhbnQgd2hlbjpcbiAqIC0gRGlzcGxheWluZyBtYW55IG1vdmVzIGluIGEgbGltaXRlZCBzcGFjZVxuICogLSBNb2JpbGUgb3IgcmVzcG9uc2l2ZSBsYXlvdXRzXG4gKiAtIFNpZGViYXIgb3IgcGFuZWwgY29udGV4dHNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiA8Q29tcGFjdE1vdmVFdmFsdWF0aW9uQmFyXG4gKiAgIG1vdmU9XCJLYjFcIlxuICogICBkdHo9ey0yMH1cbiAqICAgbWF4RHR6PXs1MH1cbiAqICAgb25DbGljaz17KCkgPT4gc2VsZWN0TW92ZShcIktiMVwiKX1cbiAqICAgY2F0ZWdvcnk9XCJsb3NzXCJcbiAqIC8+XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge01vdmVFdmFsdWF0aW9uQmFyUHJvcHN9IHByb3BzIC0gQ29tcG9uZW50IGNvbmZpZ3VyYXRpb25cbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gUmVuZGVyZWQgY29tcGFjdCBldmFsdWF0aW9uIGJhclxuICovXG5leHBvcnQgY29uc3QgQ29tcGFjdE1vdmVFdmFsdWF0aW9uQmFyOiBSZWFjdC5GQzxNb3ZlRXZhbHVhdGlvbkJhclByb3BzPiA9ICh7XG4gIG1vdmUsXG4gIGR0eixcbiAgbWF4RHR6LFxuICBvbkNsaWNrLFxuICBpc1NlbGVjdGVkID0gZmFsc2UsXG4gIGNsYXNzTmFtZSA9IFwiXCIsXG4gIGNhdGVnb3J5LFxufSkgPT4ge1xuICBjb25zdCByZXN1bHRUeXBlOiBNb3ZlUmVzdWx0VHlwZSA9IGNhdGVnb3J5IHx8IGdldE1vdmVSZXN1bHRUeXBlKGR0eik7XG4gIGNvbnN0IGJhcldpZHRoID0gY2FsY3VsYXRlQmFyV2lkdGgoZHR6LCBtYXhEdHopO1xuICBjb25zdCBiYXJDb2xvciA9IGdldEV2YWx1YXRpb25CYXJDb2xvcihyZXN1bHRUeXBlKTtcbiAgY29uc3QgaWNvbiA9IGdldFJlc3VsdEljb24ocmVzdWx0VHlwZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgcmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB5LTEgcHgtMiByb3VuZGVkXG4gICAgICAgIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpiZy1ncmF5LTEwMFxuICAgICAgICAke2lzU2VsZWN0ZWQgPyBcImJnLWJsdWUtNTAgYm9yZGVyLWJsdWUtMzAwXCIgOiBcIlwifVxuICAgICAgICAke2NsYXNzTmFtZX1cbiAgICAgIGB9XG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICB0YWJJbmRleD17MH1cbiAgICAgIGFyaWEtbGFiZWw9e2BNb3ZlICR7bW92ZX0sIERUWiAke01hdGguYWJzKGR0eil9YH1cbiAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgfHwgZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIG9uQ2xpY2s/LigpO1xuICAgICAgICB9XG4gICAgICB9fVxuICAgID5cbiAgICAgIHsvKiBCYWNrZ3JvdW5kIGV2YWx1YXRpb24gYmFyICovfVxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICBhYnNvbHV0ZSBpbnNldC0wIHJvdW5kZWQgb3BhY2l0eS0xMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcbiAgICAgICAgICAke2JhckNvbG9yfVxuICAgICAgICBgfVxuICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7YmFyV2lkdGh9JWAgfX1cbiAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgIC8+XG5cbiAgICAgIHsvKiBDb21wYWN0IGNvbnRlbnQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHotMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHctZnVsbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgIHtpY29ufVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1vbm8gZm9udC1ib2xkIHRleHQtc21cIj57bW92ZX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgIHtkdHogPT09IDAgPyBcIjBcIiA6IE1hdGguYWJzKGR0eil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcbiJdLCJuYW1lcyI6WyJDb21wYWN0TW92ZUV2YWx1YXRpb25CYXIiLCJNb3ZlRXZhbHVhdGlvbkJhciIsIm1vdmUiLCJkdHoiLCJtYXhEdHoiLCJvbkNsaWNrIiwiaXNTZWxlY3RlZCIsImNsYXNzTmFtZSIsImNhdGVnb3J5IiwicmVzdWx0VHlwZSIsImdldE1vdmVSZXN1bHRUeXBlIiwiYmFyV2lkdGgiLCJjYWxjdWxhdGVCYXJXaWR0aCIsImJhckNvbG9yIiwiZ2V0RXZhbHVhdGlvbkJhckNvbG9yIiwiZHR6RGlzcGxheSIsImZvcm1hdER0ekRpc3BsYXkiLCJnZXRUZXh0Q29sb3JDbGFzcyIsInR5cGUiLCJkaXYiLCJyb2xlIiwidGFiSW5kZXgiLCJhcmlhLWxhYmVsIiwib25LZXlEb3duIiwiZSIsImtleSIsInByZXZlbnREZWZhdWx0Iiwic3R5bGUiLCJ3aWR0aCIsImFyaWEtaGlkZGVuIiwic3BhbiIsImljb24iLCJnZXRSZXN1bHRJY29uIiwiTWF0aCIsImFicyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBb0JDLEdBRUQ7Ozs7Ozs7Ozs7OztRQThMYUE7ZUFBQUE7O1FBckhBQztlQUFBQTs7Ozs4REF2RUs7c0NBUVg7Ozs7OztBQStEQSxNQUFNQSxvQkFBc0QsQ0FBQyxFQUNsRUMsSUFBSSxFQUNKQyxHQUFHLEVBQ0hDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxhQUFhLEtBQUssRUFDbEJDLFlBQVksRUFBRSxFQUNkQyxRQUFRLEVBQ1Q7SUFDQyxNQUFNQyxhQUE2QkQsWUFBWUUsSUFBQUEsdUNBQWlCLEVBQUNQO0lBQ2pFLE1BQU1RLFdBQVdDLElBQUFBLHVDQUFpQixFQUFDVCxLQUFLQztJQUN4QyxNQUFNUyxXQUFXQyxJQUFBQSwyQ0FBcUIsRUFBQ0w7SUFDdkMsTUFBTU0sYUFBYUMsSUFBQUEsc0NBQWdCLEVBQUNiO0lBRXBDLE1BQU1jLG9CQUFvQixDQUFDQztRQUN6QixPQUFRQTtZQUNOLEtBQUs7Z0JBQ0gsT0FBTztZQUNULEtBQUs7Z0JBQ0gsT0FBTztZQUNULEtBQUs7Z0JBQ0gsT0FBTztZQUNUO2dCQUNFLE9BQU87UUFDWDtJQUNGO0lBRUEscUJBQ0Usc0JBQUNDO1FBQ0NaLFdBQVcsQ0FBQzs7O1FBR1YsRUFBRUQsYUFBYSxtQ0FBbUMsR0FBRztRQUNyRCxFQUFFQyxVQUFVO01BQ2QsQ0FBQztRQUNERixTQUFTQTtRQUNUZSxNQUFLO1FBQ0xDLFVBQVU7UUFDVkMsY0FBWSxDQUFDLEtBQUssRUFBRXBCLEtBQUssRUFBRSxFQUFFYSxZQUFZO1FBQ3pDUSxXQUFXLENBQUNDO1lBQ1YsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLFdBQVdELEVBQUVDLEdBQUcsS0FBSyxLQUFLO2dCQUN0Q0QsRUFBRUUsY0FBYztnQkFDaEJyQixvQkFBQUEsOEJBQUFBO1lBQ0Y7UUFDRjs7MEJBR0EscUJBQUNjO2dCQUNDWixXQUFXLENBQUM7O1VBRVYsRUFBRU0sU0FBUztRQUNiLENBQUM7Z0JBQ0RjLE9BQU87b0JBQUVDLE9BQU8sR0FBR2pCLFNBQVMsQ0FBQyxDQUFDO2dCQUFDO2dCQUMvQmtCLGVBQVk7OzBCQUlkLHNCQUFDVjtnQkFBSVosV0FBVTs7a0NBQ2IscUJBQUNZO3dCQUFJWixXQUFVO2tDQUViLGNBQUEscUJBQUN1Qjs0QkFDQ3ZCLFdBQVcsQ0FBQyw4QkFBOEIsRUFBRVUsa0JBQWtCUixhQUFhO3NDQUUxRVA7OztrQ0FLTCxzQkFBQ2lCO3dCQUFJWixXQUFVOzswQ0FDYixxQkFBQ3VCO2dDQUNDdkIsV0FBVyxDQUFDLG9CQUFvQixFQUFFVSxrQkFBa0JSLGFBQWE7MENBRTVFTTs7MENBSVMscUJBQUNlO2dDQUFLdkIsV0FBVTswQ0FBV1E7Ozs7Ozs7O0FBS3JDO0FBb0NPLE1BQU1mLDJCQUE2RCxDQUFDLEVBQ3pFRSxJQUFJLEVBQ0pDLEdBQUcsRUFDSEMsTUFBTSxFQUNOQyxPQUFPLEVBQ1BDLGFBQWEsS0FBSyxFQUNsQkMsWUFBWSxFQUFFLEVBQ2RDLFFBQVEsRUFDVDtJQUNDLE1BQU1DLGFBQTZCRCxZQUFZRSxJQUFBQSx1Q0FBaUIsRUFBQ1A7SUFDakUsTUFBTVEsV0FBV0MsSUFBQUEsdUNBQWlCLEVBQUNULEtBQUtDO0lBQ3hDLE1BQU1TLFdBQVdDLElBQUFBLDJDQUFxQixFQUFDTDtJQUN2QyxNQUFNc0IsT0FBT0MsSUFBQUEsbUNBQWEsRUFBQ3ZCO0lBRTNCLHFCQUNFLHNCQUFDVTtRQUNDWixXQUFXLENBQUM7OztRQUdWLEVBQUVELGFBQWEsK0JBQStCLEdBQUc7UUFDakQsRUFBRUMsVUFBVTtNQUNkLENBQUM7UUFDREYsU0FBU0E7UUFDVGUsTUFBSztRQUNMQyxVQUFVO1FBQ1ZDLGNBQVksQ0FBQyxLQUFLLEVBQUVwQixLQUFLLE1BQU0sRUFBRStCLEtBQUtDLEdBQUcsQ0FBQy9CLE1BQU07UUFDaERvQixXQUFXLENBQUNDO1lBQ1YsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLFdBQVdELEVBQUVDLEdBQUcsS0FBSyxLQUFLO2dCQUN0Q0QsRUFBRUUsY0FBYztnQkFDaEJyQixvQkFBQUEsOEJBQUFBO1lBQ0Y7UUFDRjs7MEJBR0EscUJBQUNjO2dCQUNDWixXQUFXLENBQUM7O1VBRVYsRUFBRU0sU0FBUztRQUNiLENBQUM7Z0JBQ0RjLE9BQU87b0JBQUVDLE9BQU8sR0FBR2pCLFNBQVMsQ0FBQyxDQUFDO2dCQUFDO2dCQUMvQmtCLGVBQVk7OzBCQUlkLHNCQUFDVjtnQkFBSVosV0FBVTs7a0NBQ2Isc0JBQUNZO3dCQUFJWixXQUFVOzswQ0FDYixxQkFBQ3VCO2dDQUFLdkIsV0FBVTtnQ0FBVXNCLGVBQVk7MENBQ25DRTs7MENBRUgscUJBQUNEO2dDQUFLdkIsV0FBVTswQ0FBK0JMOzs7O2tDQUdqRCxxQkFBQzRCO3dCQUFLdkIsV0FBVTtrQ0FDYkosUUFBUSxJQUFJLE1BQU04QixLQUFLQyxHQUFHLENBQUMvQjs7Ozs7O0FBS3RDIn0=