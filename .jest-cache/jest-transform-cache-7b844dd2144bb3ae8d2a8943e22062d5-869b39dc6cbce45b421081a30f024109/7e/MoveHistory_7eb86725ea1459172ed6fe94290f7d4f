2c1b2f7ad1402dabc812cda09f9e1346
/**
 * @file Move history display component
 * @module components/training/MoveHistory
 *
 * @description
 * Displays chess move history in a traditional two-column format with
 * optional evaluations. Shows moves in algebraic notation with visual
 * styling and supports tablebase evaluations.
 *
 * @remarks
 * Key features:
 * - Two-column layout (white/black moves) with move numbering
 * - Optional evaluation display with color coding
 * - Tablebase evaluation support with emoji indicators
 * - Scrollable container with maximum height constraints
 * - Hover effects and responsive design
 * - Empty state messaging for no moves
 * - German language interface
 *
 * The component handles tablebase evaluations (win/draw/loss categories) with appropriate
 * visual indicators and color coding.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "MoveHistory", {
    enumerable: true,
    get: function() {
        return MoveHistory;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _uiConstants = require("../../constants/uiConstants");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const MoveHistory = ({ moves, showEvaluations = false, evaluations = [] })=>{
    // Erstelle Zugpaare mit korrekter sofortiger Positionierung
    const movePairs = [];
    for(let i = 0; i < moves.length; i += 2){
        const moveNumber = Math.floor(i / 2) + 1;
        const whiteMove = moves[i];
        const blackMove = moves[i + 1];
        movePairs.push({
            number: moveNumber,
            white: whiteMove,
            black: blackMove,
            whiteEval: evaluations[i],
            blackEval: evaluations[i + 1]
        });
    }
    const formatEvaluation = (evalData)=>{
        var _evalData_tablebase;
        if (!evalData) return "";
        // Tablebase evaluation with emojis
        if ((_evalData_tablebase = evalData.tablebase) === null || _evalData_tablebase === void 0 ? void 0 : _evalData_tablebase.isTablebasePosition) {
            const { category, wdl, dtm } = evalData.tablebase;
            let emoji = "";
            let text = "";
            if (category) {
                switch(category){
                    case "win":
                        emoji = "üèÜ";
                        text = dtm ? `W${dtm}` : "Win";
                        break;
                    case "loss":
                        emoji = "‚ùå";
                        text = dtm ? `L${dtm}` : "Loss";
                        break;
                    case "draw":
                        emoji = "‚öñÔ∏è";
                        text = "Draw";
                        break;
                }
            } else if (wdl !== undefined) {
                if (wdl === 2) {
                    emoji = "üèÜ";
                    text = dtm ? `W${dtm}` : "Win";
                } else if (wdl === -2) {
                    emoji = "‚ùå";
                    text = dtm ? `L${dtm}` : "Loss";
                } else {
                    emoji = "‚öñÔ∏è";
                    text = "Draw";
                }
            }
            return `${emoji} ${text}`;
        }
        if (evalData.mateInMoves !== undefined) {
            return `#${Math.abs(evalData.mateInMoves)}`;
        }
        const eval_ = evalData.evaluation;
        if (Math.abs(eval_) < 0.1) return "0.0";
        return eval_ > 0 ? `+${eval_.toFixed(1)}` : eval_.toFixed(1);
    };
    const getEvaluationColor = (evalData)=>{
        var _evalData_tablebase;
        if (!evalData) return "";
        // Tablebase evaluation colors
        if ((_evalData_tablebase = evalData.tablebase) === null || _evalData_tablebase === void 0 ? void 0 : _evalData_tablebase.isTablebasePosition) {
            const { category, wdl } = evalData.tablebase;
            if (category) {
                switch(category){
                    case "win":
                        return "text-green-700";
                    case "loss":
                        return "text-red-700";
                    case "draw":
                        return "text-yellow-600";
                }
            } else if (wdl !== undefined) {
                if (wdl === 2) return "text-green-700";
                if (wdl === -2) return "text-red-700";
                return "text-yellow-600";
            }
        }
        if (evalData.mateInMoves !== undefined) {
            return evalData.mateInMoves > 0 ? "text-green-700" : "text-red-700";
        }
        const eval_ = evalData.evaluation;
        if (eval_ > 2) return "text-green-700";
        if (eval_ > 0.5) return "text-green-600";
        if (eval_ > -0.5) return "text-gray-600";
        if (eval_ > -2) return "text-orange-600";
        return "text-red-600";
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "bg-white border border-gray-200 rounded-2xl shadow-lg h-full overflow-hidden",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-gradient-to-r from-emerald-500 to-teal-600 text-white p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("h2", {
                    className: "text-xl font-bold flex items-center gap-2",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                            children: "üìã"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                            children: [
                                "Z√ºge",
                                showEvaluations ? " & Bewertungen" : ""
                            ]
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "p-3",
                children: moves.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "text-center py-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "inline-flex items-center justify-center w-12 h-12 bg-gray-100 rounded-full mb-3",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-xl",
                                children: "üéØ"
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-gray-500 text-base italic",
                            children: "Noch keine Z√ºge gespielt"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-gray-400 text-sm mt-1",
                            children: "Ziehe eine Figur um zu beginnen"
                        })
                    ]
                }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "overflow-y-auto",
                    style: {
                        maxHeight: _uiConstants.UI_CONSTANTS.MOVE_HISTORY.MAX_HEIGHT
                    },
                    "data-testid": "move-list",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "space-y-0.5",
                        children: movePairs.map((pair)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "group flex items-center py-1.5 px-2 rounded-lg hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-200 border border-transparent hover:border-blue-100",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                        className: "font-bold text-emerald-600 w-6 text-right text-sm",
                                        children: [
                                            pair.number,
                                            "."
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "flex-1 ml-3 min-w-0",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex items-center gap-2",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex flex-col items-center min-w-0 flex-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                            className: "font-mono text-sm text-gray-800 bg-gray-50 px-1.5 py-0.5 rounded group-hover:bg-white transition-colors truncate w-full text-center",
                                                            "data-testid": `move-item-${(pair.number - 1) * 2}`,
                                                            children: pair.white.san
                                                        }),
                                                        showEvaluations && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                            className: `text-xs font-mono ${getEvaluationColor(pair.whiteEval)} mt-0.5`,
                                                            children: formatEvaluation(pair.whiteEval)
                                                        })
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "flex flex-col items-center min-w-0 flex-1",
                                                    children: pair.black ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "font-mono text-sm text-gray-600 bg-gray-50 px-1.5 py-0.5 rounded group-hover:bg-white transition-colors truncate w-full text-center",
                                                                "data-testid": `move-item-${(pair.number - 1) * 2 + 1}`,
                                                                children: pair.black.san
                                                            }),
                                                            showEvaluations && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: `text-xs font-mono ${getEvaluationColor(pair.blackEval)} mt-0.5`,
                                                                children: formatEvaluation(pair.blackEval)
                                                            })
                                                        ]
                                                    }) : // Empty placeholder to maintain consistent spacing
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "h-6"
                                                    })
                                                })
                                            ]
                                        })
                                    })
                                ]
                            }, pair.number))
                    })
                })
            })
        ]
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RoZWh1L2Nvb2xQcm9qZWN0cy9FbmRnYW1lVHJhaW5lci10cmFpbmluZy1ib2FyZC1jb21wbGV0ZS9zcmMvc2hhcmVkL2NvbXBvbmVudHMvdHJhaW5pbmcvTW92ZUhpc3RvcnkudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgTW92ZSBoaXN0b3J5IGRpc3BsYXkgY29tcG9uZW50XG4gKiBAbW9kdWxlIGNvbXBvbmVudHMvdHJhaW5pbmcvTW92ZUhpc3RvcnlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERpc3BsYXlzIGNoZXNzIG1vdmUgaGlzdG9yeSBpbiBhIHRyYWRpdGlvbmFsIHR3by1jb2x1bW4gZm9ybWF0IHdpdGhcbiAqIG9wdGlvbmFsIGV2YWx1YXRpb25zLiBTaG93cyBtb3ZlcyBpbiBhbGdlYnJhaWMgbm90YXRpb24gd2l0aCB2aXN1YWxcbiAqIHN0eWxpbmcgYW5kIHN1cHBvcnRzIHRhYmxlYmFzZSBldmFsdWF0aW9ucy5cbiAqXG4gKiBAcmVtYXJrc1xuICogS2V5IGZlYXR1cmVzOlxuICogLSBUd28tY29sdW1uIGxheW91dCAod2hpdGUvYmxhY2sgbW92ZXMpIHdpdGggbW92ZSBudW1iZXJpbmdcbiAqIC0gT3B0aW9uYWwgZXZhbHVhdGlvbiBkaXNwbGF5IHdpdGggY29sb3IgY29kaW5nXG4gKiAtIFRhYmxlYmFzZSBldmFsdWF0aW9uIHN1cHBvcnQgd2l0aCBlbW9qaSBpbmRpY2F0b3JzXG4gKiAtIFNjcm9sbGFibGUgY29udGFpbmVyIHdpdGggbWF4aW11bSBoZWlnaHQgY29uc3RyYWludHNcbiAqIC0gSG92ZXIgZWZmZWN0cyBhbmQgcmVzcG9uc2l2ZSBkZXNpZ25cbiAqIC0gRW1wdHkgc3RhdGUgbWVzc2FnaW5nIGZvciBubyBtb3Zlc1xuICogLSBHZXJtYW4gbGFuZ3VhZ2UgaW50ZXJmYWNlXG4gKlxuICogVGhlIGNvbXBvbmVudCBoYW5kbGVzIHRhYmxlYmFzZSBldmFsdWF0aW9ucyAod2luL2RyYXcvbG9zcyBjYXRlZ29yaWVzKSB3aXRoIGFwcHJvcHJpYXRlXG4gKiB2aXN1YWwgaW5kaWNhdG9ycyBhbmQgY29sb3IgY29kaW5nLlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1vdmUgfSBmcm9tIFwiY2hlc3MuanNcIjtcbmltcG9ydCB7IFVJX0NPTlNUQU5UUyB9IGZyb20gXCJAc2hhcmVkL2NvbnN0YW50cy91aUNvbnN0YW50c1wiO1xuXG4vKipcbiAqIEV2YWx1YXRpb24gZGF0YSBzdHJ1Y3R1cmUgZm9yIG1vdmUgYW5hbHlzaXNcbiAqXG4gKiBAaW50ZXJmYWNlIEV2YWx1YXRpb25EYXRhXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGV2YWx1YXRpb24gLSBFbmdpbmUgZXZhbHVhdGlvbiBpbiBjZW50aXBhd25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21hdGVJbk1vdmVzXSAtIE1hdGUgaW4gWCBtb3ZlcyAocG9zaXRpdmUgZm9yIHdoaXRlIGFkdmFudGFnZSlcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBbdGFibGViYXNlXSAtIFRhYmxlYmFzZSBldmFsdWF0aW9uIGRhdGFcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdGFibGViYXNlLmlzVGFibGViYXNlUG9zaXRpb24gLSBXaGV0aGVyIHBvc2l0aW9uIGlzIGluIHRhYmxlYmFzZVxuICogQHByb3BlcnR5IHsnd2luJyB8ICdsb3NzJyB8ICdkcmF3J30gW3RhYmxlYmFzZS5jYXRlZ29yeV0gLSBSZXN1bHQgY2F0ZWdvcnlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGFibGViYXNlLndkbF0gLSBXaW4vRHJhdy9Mb3NzIG51bWVyaWMgdmFsdWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGFibGViYXNlLmR0bV0gLSBEaXN0YW5jZSB0byBtYXRlIGluIHBsaWVzXG4gKi9cbmludGVyZmFjZSBFdmFsdWF0aW9uRGF0YSB7XG4gIGV2YWx1YXRpb246IG51bWJlcjtcbiAgbWF0ZUluTW92ZXM/OiBudW1iZXI7XG4gIHRhYmxlYmFzZT86IHtcbiAgICBpc1RhYmxlYmFzZVBvc2l0aW9uOiBib29sZWFuO1xuICAgIGNhdGVnb3J5PzogXCJ3aW5cIiB8IFwibG9zc1wiIHwgXCJkcmF3XCI7XG4gICAgd2RsPzogbnVtYmVyO1xuICAgIGR0bT86IG51bWJlcjtcbiAgfTtcbn1cblxuLyoqXG4gKiBQcm9wcyBmb3IgdGhlIE1vdmVIaXN0b3J5IGNvbXBvbmVudFxuICpcbiAqIEBpbnRlcmZhY2UgTW92ZUhpc3RvcnlQcm9wc1xuICpcbiAqIEBwcm9wZXJ0eSB7TW92ZVtdfSBtb3ZlcyAtIEFycmF5IG9mIGNoZXNzIG1vdmVzIGluIGNoZXNzLmpzIGZvcm1hdFxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hvd0V2YWx1YXRpb25zPWZhbHNlXSAtIFdoZXRoZXIgdG8gZGlzcGxheSBldmFsdWF0aW9uc1xuICogQHByb3BlcnR5IHtFdmFsdWF0aW9uRGF0YVtdfSBbZXZhbHVhdGlvbnNdIC0gT3B0aW9uYWwgZXZhbHVhdGlvbiBkYXRhIGZvciBlYWNoIG1vdmVcbiAqL1xuaW50ZXJmYWNlIE1vdmVIaXN0b3J5UHJvcHMge1xuICBtb3ZlczogTW92ZVtdO1xuICBzaG93RXZhbHVhdGlvbnM/OiBib29sZWFuO1xuICBldmFsdWF0aW9ucz86IEV2YWx1YXRpb25EYXRhW107XG59XG5cbi8qKlxuICogTW92ZSBoaXN0b3J5IGRpc3BsYXkgY29tcG9uZW50XG4gKlxuICogQGNvbXBvbmVudFxuICogQGRlc2NyaXB0aW9uXG4gKiBSZW5kZXJzIGNoZXNzIG1vdmUgaGlzdG9yeSBpbiBhIHRyYWRpdGlvbmFsIGNoZXNzIHNjb3JlY2FyZCBmb3JtYXQuXG4gKiBEaXNwbGF5cyBtb3ZlcyBpbiB0d28gY29sdW1ucyAod2hpdGUgYW5kIGJsYWNrKSB3aXRoIG1vdmUgbnVtYmVycyxcbiAqIGFuZCBvcHRpb25hbGx5IHNob3dzIHBvc2l0aW9uIGV2YWx1YXRpb25zIHdpdGggY29sb3ItY29kZWQgaW5kaWNhdG9ycy5cbiAqXG4gKiBAcmVtYXJrc1xuICogQ29tcG9uZW50IGZlYXR1cmVzOlxuICogLSBUcmFkaXRpb25hbCBjaGVzcyBub3RhdGlvbiBkaXNwbGF5ICgxLiBlNCBlNSAyLiBOZjMgTmM2KVxuICogLSBUYWJsZWJhc2UgaW50ZWdyYXRpb24gd2l0aCBlbW9qaSBpbmRpY2F0b3JzICjwn4+GIFdpbiwg4p2MIExvc3MsIOKalu+4jyBEcmF3KVxuICogLSBFbmdpbmUgZXZhbHVhdGlvbiBkaXNwbGF5IHdpdGggY2VudGlwYXduIHZhbHVlc1xuICogLSBNYXRlLWluLVggZGV0ZWN0aW9uIGFuZCBkaXNwbGF5XG4gKiAtIENvbG9yLWNvZGVkIGV2YWx1YXRpb24gZmVlZGJhY2tcbiAqIC0gUmVzcG9uc2l2ZSBkZXNpZ24gd2l0aCBzY3JvbGxhYmxlIGNvbnRlbnRcbiAqIC0gSG92ZXIgZWZmZWN0cyBmb3IgYmV0dGVyIHVzZXIgaW50ZXJhY3Rpb25cbiAqXG4gKiBFdmFsdWF0aW9uIHByaW9yaXR5OlxuICogMS4gVGFibGViYXNlIGV2YWx1YXRpb25zIChleGFjdCByZXN1bHRzKVxuICogMi4gTWF0ZS1pbi1YIGV2YWx1YXRpb25zXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzeFxuICogLy8gQmFzaWMgbW92ZSBoaXN0b3J5IHdpdGhvdXQgZXZhbHVhdGlvbnNcbiAqIDxNb3ZlSGlzdG9yeSBtb3Zlcz17Z2FtZUhpc3Rvcnl9IC8+XG4gKlxuICogLy8gV2l0aCBldmFsdWF0aW9uIGRpc3BsYXlcbiAqIDxNb3ZlSGlzdG9yeVxuICogICBtb3Zlcz17Z2FtZUhpc3Rvcnl9XG4gKiAgIHNob3dFdmFsdWF0aW9ucz17dHJ1ZX1cbiAqICAgZXZhbHVhdGlvbnM9e3Bvc2l0aW9uRXZhbHVhdGlvbnN9XG4gKiAvPlxuICpcbiAqIC8vIEluIGEgZ2FtZSBpbnRlcmZhY2VcbiAqIDxkaXYgY2xhc3NOYW1lPVwiZ2FtZS1zaWRlYmFyXCI+XG4gKiAgIDxNb3ZlSGlzdG9yeVxuICogICAgIG1vdmVzPXtjdXJyZW50R2FtZS5tb3Zlc31cbiAqICAgICBzaG93RXZhbHVhdGlvbnM9e3Nob3dBbmFseXNpc31cbiAqICAgICBldmFsdWF0aW9ucz17YW5hbHlzaXNEYXRhfVxuICogICAvPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge01vdmVIaXN0b3J5UHJvcHN9IHByb3BzIC0gTW92ZSBoaXN0b3J5IGNvbmZpZ3VyYXRpb25cbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gUmVuZGVyZWQgbW92ZSBoaXN0b3J5IGNvbXBvbmVudFxuICovXG5leHBvcnQgY29uc3QgTW92ZUhpc3Rvcnk6IFJlYWN0LkZDPE1vdmVIaXN0b3J5UHJvcHM+ID0gKHtcbiAgbW92ZXMsXG4gIHNob3dFdmFsdWF0aW9ucyA9IGZhbHNlLFxuICBldmFsdWF0aW9ucyA9IFtdLFxufSkgPT4ge1xuICAvLyBFcnN0ZWxsZSBadWdwYWFyZSBtaXQga29ycmVrdGVyIHNvZm9ydGlnZXIgUG9zaXRpb25pZXJ1bmdcbiAgY29uc3QgbW92ZVBhaXJzOiBBcnJheTx7XG4gICAgbnVtYmVyOiBudW1iZXI7XG4gICAgd2hpdGU6IE1vdmU7XG4gICAgYmxhY2s6IE1vdmU7XG4gICAgd2hpdGVFdmFsOiBFdmFsdWF0aW9uRGF0YTtcbiAgICBibGFja0V2YWw6IEV2YWx1YXRpb25EYXRhO1xuICB9PiA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgY29uc3QgbW92ZU51bWJlciA9IE1hdGguZmxvb3IoaSAvIDIpICsgMTtcbiAgICBjb25zdCB3aGl0ZU1vdmUgPSBtb3Zlc1tpXTtcbiAgICBjb25zdCBibGFja01vdmUgPSBtb3Zlc1tpICsgMV07XG5cbiAgICBtb3ZlUGFpcnMucHVzaCh7XG4gICAgICBudW1iZXI6IG1vdmVOdW1iZXIsXG4gICAgICB3aGl0ZTogd2hpdGVNb3ZlLFxuICAgICAgYmxhY2s6IGJsYWNrTW92ZSxcbiAgICAgIHdoaXRlRXZhbDogZXZhbHVhdGlvbnNbaV0sXG4gICAgICBibGFja0V2YWw6IGV2YWx1YXRpb25zW2kgKyAxXSxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGZvcm1hdEV2YWx1YXRpb24gPSAoZXZhbERhdGE/OiB7XG4gICAgZXZhbHVhdGlvbjogbnVtYmVyO1xuICAgIG1hdGVJbk1vdmVzPzogbnVtYmVyO1xuICAgIHRhYmxlYmFzZT86IHtcbiAgICAgIGlzVGFibGViYXNlUG9zaXRpb246IGJvb2xlYW47XG4gICAgICBjYXRlZ29yeT86IFwid2luXCIgfCBcImxvc3NcIiB8IFwiZHJhd1wiO1xuICAgICAgd2RsPzogbnVtYmVyO1xuICAgICAgZHRtPzogbnVtYmVyO1xuICAgIH07XG4gIH0pID0+IHtcbiAgICBpZiAoIWV2YWxEYXRhKSByZXR1cm4gXCJcIjtcblxuICAgIC8vIFRhYmxlYmFzZSBldmFsdWF0aW9uIHdpdGggZW1vamlzXG4gICAgaWYgKGV2YWxEYXRhLnRhYmxlYmFzZT8uaXNUYWJsZWJhc2VQb3NpdGlvbikge1xuICAgICAgY29uc3QgeyBjYXRlZ29yeSwgd2RsLCBkdG0gfSA9IGV2YWxEYXRhLnRhYmxlYmFzZTtcbiAgICAgIGxldCBlbW9qaSA9IFwiXCI7XG4gICAgICBsZXQgdGV4dCA9IFwiXCI7XG5cbiAgICAgIGlmIChjYXRlZ29yeSkge1xuICAgICAgICBzd2l0Y2ggKGNhdGVnb3J5KSB7XG4gICAgICAgICAgY2FzZSBcIndpblwiOlxuICAgICAgICAgICAgZW1vamkgPSBcIvCfj4ZcIjtcbiAgICAgICAgICAgIHRleHQgPSBkdG0gPyBgVyR7ZHRtfWAgOiBcIldpblwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImxvc3NcIjpcbiAgICAgICAgICAgIGVtb2ppID0gXCLinYxcIjtcbiAgICAgICAgICAgIHRleHQgPSBkdG0gPyBgTCR7ZHRtfWAgOiBcIkxvc3NcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkcmF3XCI6XG4gICAgICAgICAgICBlbW9qaSA9IFwi4pqW77iPXCI7XG4gICAgICAgICAgICB0ZXh0ID0gXCJEcmF3XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh3ZGwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAod2RsID09PSAyKSB7XG4gICAgICAgICAgZW1vamkgPSBcIvCfj4ZcIjtcbiAgICAgICAgICB0ZXh0ID0gZHRtID8gYFcke2R0bX1gIDogXCJXaW5cIjtcbiAgICAgICAgfSBlbHNlIGlmICh3ZGwgPT09IC0yKSB7XG4gICAgICAgICAgZW1vamkgPSBcIuKdjFwiO1xuICAgICAgICAgIHRleHQgPSBkdG0gPyBgTCR7ZHRtfWAgOiBcIkxvc3NcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbW9qaSA9IFwi4pqW77iPXCI7XG4gICAgICAgICAgdGV4dCA9IFwiRHJhd1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBgJHtlbW9qaX0gJHt0ZXh0fWA7XG4gICAgfVxuXG4gICAgaWYgKGV2YWxEYXRhLm1hdGVJbk1vdmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBgIyR7TWF0aC5hYnMoZXZhbERhdGEubWF0ZUluTW92ZXMpfWA7XG4gICAgfVxuXG4gICAgY29uc3QgZXZhbF8gPSBldmFsRGF0YS5ldmFsdWF0aW9uO1xuICAgIGlmIChNYXRoLmFicyhldmFsXykgPCAwLjEpIHJldHVybiBcIjAuMFwiO1xuICAgIHJldHVybiBldmFsXyA+IDAgPyBgKyR7ZXZhbF8udG9GaXhlZCgxKX1gIDogZXZhbF8udG9GaXhlZCgxKTtcbiAgfTtcblxuICBjb25zdCBnZXRFdmFsdWF0aW9uQ29sb3IgPSAoZXZhbERhdGE/OiB7XG4gICAgZXZhbHVhdGlvbjogbnVtYmVyO1xuICAgIG1hdGVJbk1vdmVzPzogbnVtYmVyO1xuICAgIHRhYmxlYmFzZT86IHtcbiAgICAgIGlzVGFibGViYXNlUG9zaXRpb246IGJvb2xlYW47XG4gICAgICBjYXRlZ29yeT86IFwid2luXCIgfCBcImxvc3NcIiB8IFwiZHJhd1wiO1xuICAgICAgd2RsPzogbnVtYmVyO1xuICAgIH07XG4gIH0pID0+IHtcbiAgICBpZiAoIWV2YWxEYXRhKSByZXR1cm4gXCJcIjtcblxuICAgIC8vIFRhYmxlYmFzZSBldmFsdWF0aW9uIGNvbG9yc1xuICAgIGlmIChldmFsRGF0YS50YWJsZWJhc2U/LmlzVGFibGViYXNlUG9zaXRpb24pIHtcbiAgICAgIGNvbnN0IHsgY2F0ZWdvcnksIHdkbCB9ID0gZXZhbERhdGEudGFibGViYXNlO1xuXG4gICAgICBpZiAoY2F0ZWdvcnkpIHtcbiAgICAgICAgc3dpdGNoIChjYXRlZ29yeSkge1xuICAgICAgICAgIGNhc2UgXCJ3aW5cIjpcbiAgICAgICAgICAgIHJldHVybiBcInRleHQtZ3JlZW4tNzAwXCI7XG4gICAgICAgICAgY2FzZSBcImxvc3NcIjpcbiAgICAgICAgICAgIHJldHVybiBcInRleHQtcmVkLTcwMFwiO1xuICAgICAgICAgIGNhc2UgXCJkcmF3XCI6XG4gICAgICAgICAgICByZXR1cm4gXCJ0ZXh0LXllbGxvdy02MDBcIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh3ZGwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAod2RsID09PSAyKSByZXR1cm4gXCJ0ZXh0LWdyZWVuLTcwMFwiO1xuICAgICAgICBpZiAod2RsID09PSAtMikgcmV0dXJuIFwidGV4dC1yZWQtNzAwXCI7XG4gICAgICAgIHJldHVybiBcInRleHQteWVsbG93LTYwMFwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChldmFsRGF0YS5tYXRlSW5Nb3ZlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZhbERhdGEubWF0ZUluTW92ZXMgPiAwID8gXCJ0ZXh0LWdyZWVuLTcwMFwiIDogXCJ0ZXh0LXJlZC03MDBcIjtcbiAgICB9XG5cbiAgICBjb25zdCBldmFsXyA9IGV2YWxEYXRhLmV2YWx1YXRpb247XG4gICAgaWYgKGV2YWxfID4gMikgcmV0dXJuIFwidGV4dC1ncmVlbi03MDBcIjtcbiAgICBpZiAoZXZhbF8gPiAwLjUpIHJldHVybiBcInRleHQtZ3JlZW4tNjAwXCI7XG4gICAgaWYgKGV2YWxfID4gLTAuNSkgcmV0dXJuIFwidGV4dC1ncmF5LTYwMFwiO1xuICAgIGlmIChldmFsXyA+IC0yKSByZXR1cm4gXCJ0ZXh0LW9yYW5nZS02MDBcIjtcbiAgICByZXR1cm4gXCJ0ZXh0LXJlZC02MDBcIjtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLTJ4bCBzaGFkb3ctbGcgaC1mdWxsIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tZW1lcmFsZC01MDAgdG8tdGVhbC02MDAgdGV4dC13aGl0ZSBwLTRcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPHNwYW4+8J+Tizwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj5aw7xnZXtzaG93RXZhbHVhdGlvbnMgPyBcIiAmIEJld2VydHVuZ2VuXCIgOiBcIlwifTwvc3Bhbj5cbiAgICAgICAgPC9oMj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtM1wiPlxuICAgICAgICB7bW92ZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy0xMiBoLTEyIGJnLWdyYXktMTAwIHJvdW5kZWQtZnVsbCBtYi0zXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj7wn46vPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtYmFzZSBpdGFsaWNcIj5cbiAgICAgICAgICAgICAgTm9jaCBrZWluZSBaw7xnZSBnZXNwaWVsdFxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtIG10LTFcIj5cbiAgICAgICAgICAgICAgWmllaGUgZWluZSBGaWd1ciB1bSB6dSBiZWdpbm5lblxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm92ZXJmbG93LXktYXV0b1wiXG4gICAgICAgICAgICBzdHlsZT17eyBtYXhIZWlnaHQ6IFVJX0NPTlNUQU5UUy5NT1ZFX0hJU1RPUlkuTUFYX0hFSUdIVCB9fVxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJtb3ZlLWxpc3RcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0wLjVcIj5cbiAgICAgICAgICAgICAge21vdmVQYWlycy5tYXAoKHBhaXIpID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBrZXk9e3BhaXIubnVtYmVyfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ3JvdXAgZmxleCBpdGVtcy1jZW50ZXIgcHktMS41IHB4LTIgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmFkaWVudC10by1yIGhvdmVyOmZyb20tYmx1ZS01MCBob3Zlcjp0by1pbmRpZ28tNTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLWJsdWUtMTAwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1lbWVyYWxkLTYwMCB3LTYgdGV4dC1yaWdodCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIHtwYWlyLm51bWJlcn0uXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtbC0zIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBXZWnDn2VyIFp1ZyAtIGxpbmtzICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgbWluLXctMCBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb250LW1vbm8gdGV4dC1zbSB0ZXh0LWdyYXktODAwIGJnLWdyYXktNTAgcHgtMS41IHB5LTAuNSByb3VuZGVkIGdyb3VwLWhvdmVyOmJnLXdoaXRlIHRyYW5zaXRpb24tY29sb3JzIHRydW5jYXRlIHctZnVsbCB0ZXh0LWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgbW92ZS1pdGVtLSR7KHBhaXIubnVtYmVyIC0gMSkgKiAyfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtwYWlyLndoaXRlLnNhbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93RXZhbHVhdGlvbnMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRleHQteHMgZm9udC1tb25vICR7Z2V0RXZhbHVhdGlvbkNvbG9yKHBhaXIud2hpdGVFdmFsKX0gbXQtMC41YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRFdmFsdWF0aW9uKHBhaXIud2hpdGVFdmFsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBTY2h3YXJ6ZXIgWnVnIC0gcmVjaHRzICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgbWluLXctMCBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwYWlyLmJsYWNrID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9udC1tb25vIHRleHQtc20gdGV4dC1ncmF5LTYwMCBiZy1ncmF5LTUwIHB4LTEuNSBweS0wLjUgcm91bmRlZCBncm91cC1ob3ZlcjpiZy13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyB0cnVuY2F0ZSB3LWZ1bGwgdGV4dC1jZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2Btb3ZlLWl0ZW0tJHsocGFpci5udW1iZXIgLSAxKSAqIDIgKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhaXIuYmxhY2suc2FufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvd0V2YWx1YXRpb25zICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRleHQteHMgZm9udC1tb25vICR7Z2V0RXZhbHVhdGlvbkNvbG9yKHBhaXIuYmxhY2tFdmFsKX0gbXQtMC41YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEV2YWx1YXRpb24ocGFpci5ibGFja0V2YWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHkgcGxhY2Vob2xkZXIgdG8gbWFpbnRhaW4gY29uc2lzdGVudCBzcGFjaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC02XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbIk1vdmVIaXN0b3J5IiwibW92ZXMiLCJzaG93RXZhbHVhdGlvbnMiLCJldmFsdWF0aW9ucyIsIm1vdmVQYWlycyIsImkiLCJsZW5ndGgiLCJtb3ZlTnVtYmVyIiwiTWF0aCIsImZsb29yIiwid2hpdGVNb3ZlIiwiYmxhY2tNb3ZlIiwicHVzaCIsIm51bWJlciIsIndoaXRlIiwiYmxhY2siLCJ3aGl0ZUV2YWwiLCJibGFja0V2YWwiLCJmb3JtYXRFdmFsdWF0aW9uIiwiZXZhbERhdGEiLCJ0YWJsZWJhc2UiLCJpc1RhYmxlYmFzZVBvc2l0aW9uIiwiY2F0ZWdvcnkiLCJ3ZGwiLCJkdG0iLCJlbW9qaSIsInRleHQiLCJ1bmRlZmluZWQiLCJtYXRlSW5Nb3ZlcyIsImFicyIsImV2YWxfIiwiZXZhbHVhdGlvbiIsInRvRml4ZWQiLCJnZXRFdmFsdWF0aW9uQ29sb3IiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsInNwYW4iLCJwIiwic3R5bGUiLCJtYXhIZWlnaHQiLCJVSV9DT05TVEFOVFMiLCJNT1ZFX0hJU1RPUlkiLCJNQVhfSEVJR0hUIiwiZGF0YS10ZXN0aWQiLCJtYXAiLCJwYWlyIiwic2FuIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBcUJDOzs7OytCQTZGWUE7OztlQUFBQTs7Ozs4REEzRks7NkJBRVc7Ozs7OztBQXlGdEIsTUFBTUEsY0FBMEMsQ0FBQyxFQUN0REMsS0FBSyxFQUNMQyxrQkFBa0IsS0FBSyxFQUN2QkMsY0FBYyxFQUFFLEVBQ2pCO0lBQ0MsNERBQTREO0lBQzVELE1BQU1DLFlBTUQsRUFBRTtJQUNQLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJSixNQUFNSyxNQUFNLEVBQUVELEtBQUssRUFBRztRQUN4QyxNQUFNRSxhQUFhQyxLQUFLQyxLQUFLLENBQUNKLElBQUksS0FBSztRQUN2QyxNQUFNSyxZQUFZVCxLQUFLLENBQUNJLEVBQUU7UUFDMUIsTUFBTU0sWUFBWVYsS0FBSyxDQUFDSSxJQUFJLEVBQUU7UUFFOUJELFVBQVVRLElBQUksQ0FBQztZQUNiQyxRQUFRTjtZQUNSTyxPQUFPSjtZQUNQSyxPQUFPSjtZQUNQSyxXQUFXYixXQUFXLENBQUNFLEVBQUU7WUFDekJZLFdBQVdkLFdBQVcsQ0FBQ0UsSUFBSSxFQUFFO1FBQy9CO0lBQ0Y7SUFFQSxNQUFNYSxtQkFBbUIsQ0FBQ0M7WUFhcEJBO1FBSEosSUFBSSxDQUFDQSxVQUFVLE9BQU87UUFFdEIsbUNBQW1DO1FBQ25DLEtBQUlBLHNCQUFBQSxTQUFTQyxTQUFTLGNBQWxCRCwwQ0FBQUEsb0JBQW9CRSxtQkFBbUIsRUFBRTtZQUMzQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUUsR0FBR0wsU0FBU0MsU0FBUztZQUNqRCxJQUFJSyxRQUFRO1lBQ1osSUFBSUMsT0FBTztZQUVYLElBQUlKLFVBQVU7Z0JBQ1osT0FBUUE7b0JBQ04sS0FBSzt3QkFDSEcsUUFBUTt3QkFDUkMsT0FBT0YsTUFBTSxDQUFDLENBQUMsRUFBRUEsS0FBSyxHQUFHO3dCQUN6QjtvQkFDRixLQUFLO3dCQUNIQyxRQUFRO3dCQUNSQyxPQUFPRixNQUFNLENBQUMsQ0FBQyxFQUFFQSxLQUFLLEdBQUc7d0JBQ3pCO29CQUNGLEtBQUs7d0JBQ0hDLFFBQVE7d0JBQ1JDLE9BQU87d0JBQ1A7Z0JBQ0o7WUFDRixPQUFPLElBQUlILFFBQVFJLFdBQVc7Z0JBQzVCLElBQUlKLFFBQVEsR0FBRztvQkFDYkUsUUFBUTtvQkFDUkMsT0FBT0YsTUFBTSxDQUFDLENBQUMsRUFBRUEsS0FBSyxHQUFHO2dCQUMzQixPQUFPLElBQUlELFFBQVEsQ0FBQyxHQUFHO29CQUNyQkUsUUFBUTtvQkFDUkMsT0FBT0YsTUFBTSxDQUFDLENBQUMsRUFBRUEsS0FBSyxHQUFHO2dCQUMzQixPQUFPO29CQUNMQyxRQUFRO29CQUNSQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxPQUFPLEdBQUdELE1BQU0sQ0FBQyxFQUFFQyxNQUFNO1FBQzNCO1FBRUEsSUFBSVAsU0FBU1MsV0FBVyxLQUFLRCxXQUFXO1lBQ3RDLE9BQU8sQ0FBQyxDQUFDLEVBQUVuQixLQUFLcUIsR0FBRyxDQUFDVixTQUFTUyxXQUFXLEdBQUc7UUFDN0M7UUFFQSxNQUFNRSxRQUFRWCxTQUFTWSxVQUFVO1FBQ2pDLElBQUl2QixLQUFLcUIsR0FBRyxDQUFDQyxTQUFTLEtBQUssT0FBTztRQUNsQyxPQUFPQSxRQUFRLElBQUksQ0FBQyxDQUFDLEVBQUVBLE1BQU1FLE9BQU8sQ0FBQyxJQUFJLEdBQUdGLE1BQU1FLE9BQU8sQ0FBQztJQUM1RDtJQUVBLE1BQU1DLHFCQUFxQixDQUFDZDtZQVl0QkE7UUFISixJQUFJLENBQUNBLFVBQVUsT0FBTztRQUV0Qiw4QkFBOEI7UUFDOUIsS0FBSUEsc0JBQUFBLFNBQVNDLFNBQVMsY0FBbEJELDBDQUFBQSxvQkFBb0JFLG1CQUFtQixFQUFFO1lBQzNDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxHQUFHLEVBQUUsR0FBR0osU0FBU0MsU0FBUztZQUU1QyxJQUFJRSxVQUFVO2dCQUNaLE9BQVFBO29CQUNOLEtBQUs7d0JBQ0gsT0FBTztvQkFDVCxLQUFLO3dCQUNILE9BQU87b0JBQ1QsS0FBSzt3QkFDSCxPQUFPO2dCQUNYO1lBQ0YsT0FBTyxJQUFJQyxRQUFRSSxXQUFXO2dCQUM1QixJQUFJSixRQUFRLEdBQUcsT0FBTztnQkFDdEIsSUFBSUEsUUFBUSxDQUFDLEdBQUcsT0FBTztnQkFDdkIsT0FBTztZQUNUO1FBQ0Y7UUFFQSxJQUFJSixTQUFTUyxXQUFXLEtBQUtELFdBQVc7WUFDdEMsT0FBT1IsU0FBU1MsV0FBVyxHQUFHLElBQUksbUJBQW1CO1FBQ3ZEO1FBRUEsTUFBTUUsUUFBUVgsU0FBU1ksVUFBVTtRQUNqQyxJQUFJRCxRQUFRLEdBQUcsT0FBTztRQUN0QixJQUFJQSxRQUFRLEtBQUssT0FBTztRQUN4QixJQUFJQSxRQUFRLENBQUMsS0FBSyxPQUFPO1FBQ3pCLElBQUlBLFFBQVEsQ0FBQyxHQUFHLE9BQU87UUFDdkIsT0FBTztJQUNUO0lBRUEscUJBQ0Usc0JBQUNJO1FBQUlDLFdBQVU7OzBCQUNiLHFCQUFDRDtnQkFBSUMsV0FBVTswQkFDYixjQUFBLHNCQUFDQztvQkFBR0QsV0FBVTs7c0NBQ1oscUJBQUNFO3NDQUFLOztzQ0FDTixzQkFBQ0E7O2dDQUFLO2dDQUFLbkMsa0JBQWtCLG1CQUFtQjs7Ozs7OzBCQUlwRCxxQkFBQ2dDO2dCQUFJQyxXQUFVOzBCQUNabEMsTUFBTUssTUFBTSxLQUFLLGtCQUNoQixzQkFBQzRCO29CQUFJQyxXQUFVOztzQ0FDYixxQkFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2IsY0FBQSxxQkFBQ0U7Z0NBQUtGLFdBQVU7MENBQVU7OztzQ0FFNUIscUJBQUNHOzRCQUFFSCxXQUFVO3NDQUFpQzs7c0NBRzlDLHFCQUFDRzs0QkFBRUgsV0FBVTtzQ0FBNkI7OzttQ0FLNUMscUJBQUNEO29CQUNDQyxXQUFVO29CQUNWSSxPQUFPO3dCQUFFQyxXQUFXQyx5QkFBWSxDQUFDQyxZQUFZLENBQUNDLFVBQVU7b0JBQUM7b0JBQ3pEQyxlQUFZOzhCQUVaLGNBQUEscUJBQUNWO3dCQUFJQyxXQUFVO2tDQUNaL0IsVUFBVXlDLEdBQUcsQ0FBQyxDQUFDQyxxQkFDZCxzQkFBQ1o7Z0NBRUNDLFdBQVU7O2tEQUVWLHNCQUFDRTt3Q0FBS0YsV0FBVTs7NENBQ2JXLEtBQUtqQyxNQUFNOzRDQUFDOzs7a0RBRWYscUJBQUNxQjt3Q0FBSUMsV0FBVTtrREFDYixjQUFBLHNCQUFDRDs0Q0FBSUMsV0FBVTs7OERBRWIsc0JBQUNEO29EQUFJQyxXQUFVOztzRUFDYixxQkFBQ0U7NERBQ0NGLFdBQVU7NERBQ1ZTLGVBQWEsQ0FBQyxVQUFVLEVBQUUsQUFBQ0UsQ0FBQUEsS0FBS2pDLE1BQU0sR0FBRyxDQUFBLElBQUssR0FBRztzRUFFaERpQyxLQUFLaEMsS0FBSyxDQUFDaUMsR0FBRzs7d0RBRWhCN0MsaUNBQ0MscUJBQUNtQzs0REFDQ0YsV0FBVyxDQUFDLGtCQUFrQixFQUFFRixtQkFBbUJhLEtBQUs5QixTQUFTLEVBQUUsT0FBTyxDQUFDO3NFQUUxRUUsaUJBQWlCNEIsS0FBSzlCLFNBQVM7Ozs7OERBTXRDLHFCQUFDa0I7b0RBQUlDLFdBQVU7OERBQ1pXLEtBQUsvQixLQUFLLGlCQUNUOzswRUFDRSxxQkFBQ3NCO2dFQUNDRixXQUFVO2dFQUNWUyxlQUFhLENBQUMsVUFBVSxFQUFFLEFBQUNFLENBQUFBLEtBQUtqQyxNQUFNLEdBQUcsQ0FBQSxJQUFLLElBQUksR0FBRzswRUFFcERpQyxLQUFLL0IsS0FBSyxDQUFDZ0MsR0FBRzs7NERBRWhCN0MsaUNBQ0MscUJBQUNtQztnRUFDQ0YsV0FBVyxDQUFDLGtCQUFrQixFQUFFRixtQkFBbUJhLEtBQUs3QixTQUFTLEVBQUUsT0FBTyxDQUFDOzBFQUUxRUMsaUJBQWlCNEIsS0FBSzdCLFNBQVM7Ozt5REFLdEMsbURBQW1EO2tFQUNuRCxxQkFBQ2lCO3dEQUFJQyxXQUFVOzs7Ozs7OytCQTdDbEJXLEtBQUtqQyxNQUFNOzs7Ozs7QUEwRGxDIn0=