267803ca925f68e57e61fceb806ab420
/**
 * Mock Position Service Factory for E2E Testing
 * Creates MockPositionRepository with pre-seeded test data
 * Completely bypasses Firebase for clean, fast, deterministic tests
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get createMockPositionRepository () {
        return createMockPositionRepository;
    },
    get createMockPositionService () {
        return createMockPositionService;
    },
    get shouldUseMockService () {
        return shouldUseMockService;
    }
});
const _MockPositionRepository = require("../repositories/implementations/MockPositionRepository");
const _PositionService = require("../services/database/PositionService");
const _TestScenarios = require("./TestScenarios");
const _Logger = require("../services/logging/Logger");
const logger = (0, _Logger.getLogger)().setContext("MockPositionServiceFactory");
function createMockPositionService() {
    // Create mock repository
    const repository = new _MockPositionRepository.MockPositionRepository({
        enableCache: false,
        events: {
            onDataFetched: (operation, count)=>{
                // Silent logging for tests - only in debug mode
                if (process.env.DEBUG_MOCK_SERVICE) {
                    logger.debug(`[MockRepo] ${operation}: ${count} items`);
                }
            },
            onDataModified: (operation, ids)=>{
                if (process.env.DEBUG_MOCK_SERVICE) {
                    logger.debug(`[MockRepo] ${operation}: ${ids.length} items`);
                }
            },
            onError: (operation, error)=>{
                logger.error(`[MockRepo] ${operation} failed`, error);
            }
        }
    });
    // Convert TestScenario to EndgamePosition for repository seeding
    const testPositions = Object.values(_TestScenarios.TestPositions).map((scenario)=>({
            id: parseInt(scenario.id),
            title: scenario.title,
            description: scenario.description,
            fen: scenario.fen,
            category: scenario.category,
            difficulty: scenario.difficulty,
            targetMoves: scenario.targetMoves,
            hints: scenario.hints,
            solution: scenario.solution,
            sideToMove: scenario.sideToMove,
            goal: scenario.goal,
            // Conditional mapping for optional fields to prevent undefined serialization issues
            ...scenario.nextPositionId && {
                nextPositionId: scenario.nextPositionId
            }
        }));
    repository.seedData({
        positions: testPositions,
        categories: [],
        chapters: []
    });
    // Create service with mock repository
    const service = new _PositionService.PositionService(repository, {
        cacheEnabled: false,
        cacheSize: 0,
        cacheTTL: 0
    });
    logger.info(`[MockPositionService] Initialized with ${testPositions.length} test positions`);
    return service;
}
function createMockPositionRepository() {
    const repository = new _MockPositionRepository.MockPositionRepository();
    // Convert TestScenario to EndgamePosition and pre-seed
    const testPositions = Object.values(_TestScenarios.TestPositions).map((scenario)=>({
            id: parseInt(scenario.id),
            title: scenario.title,
            description: scenario.description,
            fen: scenario.fen,
            category: scenario.category,
            difficulty: scenario.difficulty,
            targetMoves: scenario.targetMoves,
            hints: scenario.hints,
            solution: scenario.solution,
            sideToMove: scenario.sideToMove,
            goal: scenario.goal,
            // Conditional mapping for optional fields to prevent undefined serialization issues
            ...scenario.nextPositionId && {
                nextPositionId: scenario.nextPositionId
            }
        }));
    repository.seedData({
        positions: testPositions
    });
    return repository;
}
function shouldUseMockService() {
    const nodeEnv = process.env.NODE_ENV;
    const nextPublicE2E = process.env.NEXT_PUBLIC_IS_E2E_TEST;
    const isE2E = process.env.IS_E2E_TEST;
    const useFirestore = process.env.NEXT_PUBLIC_USE_FIRESTORE;
    // Debug logging for environment detection
    logger.debug("[MockServiceFactory] Environment check", {
        NODE_ENV: nodeEnv,
        NEXT_PUBLIC_IS_E2E_TEST: nextPublicE2E,
        IS_E2E_TEST: isE2E,
        NEXT_PUBLIC_USE_FIRESTORE: useFirestore,
        shouldUseMock: nodeEnv === "test" || nextPublicE2E === "true" || isE2E === "true" || useFirestore === "false"
    });
    return nodeEnv === "test" || nextPublicE2E === "true" || isE2E === "true" || useFirestore === "false";
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RoZWh1L2Nvb2xQcm9qZWN0cy9FbmRnYW1lVHJhaW5lci10cmFpbmluZy1ib2FyZC1jb21wbGV0ZS9zcmMvc2hhcmVkL3Rlc3RpbmcvTW9ja1Bvc2l0aW9uU2VydmljZUZhY3RvcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNb2NrIFBvc2l0aW9uIFNlcnZpY2UgRmFjdG9yeSBmb3IgRTJFIFRlc3RpbmdcbiAqIENyZWF0ZXMgTW9ja1Bvc2l0aW9uUmVwb3NpdG9yeSB3aXRoIHByZS1zZWVkZWQgdGVzdCBkYXRhXG4gKiBDb21wbGV0ZWx5IGJ5cGFzc2VzIEZpcmViYXNlIGZvciBjbGVhbiwgZmFzdCwgZGV0ZXJtaW5pc3RpYyB0ZXN0c1xuICovXG5cbmltcG9ydCB7IE1vY2tQb3NpdGlvblJlcG9zaXRvcnkgfSBmcm9tIFwiQHNoYXJlZC9yZXBvc2l0b3JpZXMvaW1wbGVtZW50YXRpb25zL01vY2tQb3NpdGlvblJlcG9zaXRvcnlcIjtcbmltcG9ydCB7IFBvc2l0aW9uU2VydmljZSB9IGZyb20gXCJAc2hhcmVkL3NlcnZpY2VzL2RhdGFiYXNlL1Bvc2l0aW9uU2VydmljZVwiO1xuaW1wb3J0IHsgSVBvc2l0aW9uU2VydmljZSB9IGZyb20gXCJAc2hhcmVkL3NlcnZpY2VzL2RhdGFiYXNlL0lQb3NpdGlvblNlcnZpY2VcIjtcbmltcG9ydCB7IFRlc3RQb3NpdGlvbnMgfSBmcm9tIFwiLi9UZXN0U2NlbmFyaW9zXCI7XG5pbXBvcnQgdHlwZSB7IEVuZGdhbWVQb3NpdGlvbiB9IGZyb20gXCJAc2hhcmVkL3R5cGVzL2VuZGdhbWVcIjtcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gXCJAc2hhcmVkL3NlcnZpY2VzL2xvZ2dpbmcvTG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcigpLnNldENvbnRleHQoXCJNb2NrUG9zaXRpb25TZXJ2aWNlRmFjdG9yeVwiKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBmdWxseSBjb25maWd1cmVkIE1vY2tQb3NpdGlvblNlcnZpY2UgZm9yIEUyRSB0ZXN0c1xuICogUHJlLXNlZWRlZCB3aXRoIFRlc3RQb3NpdGlvbnMgZGF0YSBmb3IgaW1tZWRpYXRlIHRlc3QgdXNhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vY2tQb3NpdGlvblNlcnZpY2UoKTogSVBvc2l0aW9uU2VydmljZSB7XG4gIC8vIENyZWF0ZSBtb2NrIHJlcG9zaXRvcnlcbiAgY29uc3QgcmVwb3NpdG9yeSA9IG5ldyBNb2NrUG9zaXRpb25SZXBvc2l0b3J5KHtcbiAgICBlbmFibGVDYWNoZTogZmFsc2UsIC8vIERpc2FibGUgY2FjaGUgZm9yIGRldGVybWluaXN0aWMgdGVzdHNcbiAgICBldmVudHM6IHtcbiAgICAgIG9uRGF0YUZldGNoZWQ6IChvcGVyYXRpb24sIGNvdW50KSA9PiB7XG4gICAgICAgIC8vIFNpbGVudCBsb2dnaW5nIGZvciB0ZXN0cyAtIG9ubHkgaW4gZGVidWcgbW9kZVxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuREVCVUdfTU9DS19TRVJWSUNFKSB7XG4gICAgICAgICAgbG9nZ2VyLmRlYnVnKGBbTW9ja1JlcG9dICR7b3BlcmF0aW9ufTogJHtjb3VudH0gaXRlbXNgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uRGF0YU1vZGlmaWVkOiAob3BlcmF0aW9uLCBpZHMpID0+IHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52LkRFQlVHX01PQ0tfU0VSVklDRSkge1xuICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgW01vY2tSZXBvXSAke29wZXJhdGlvbn06ICR7aWRzLmxlbmd0aH0gaXRlbXNgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uRXJyb3I6IChvcGVyYXRpb24sIGVycm9yKSA9PiB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihgW01vY2tSZXBvXSAke29wZXJhdGlvbn0gZmFpbGVkYCwgZXJyb3IpO1xuICAgICAgfSxcbiAgICB9LFxuICB9KTtcblxuICAvLyBDb252ZXJ0IFRlc3RTY2VuYXJpbyB0byBFbmRnYW1lUG9zaXRpb24gZm9yIHJlcG9zaXRvcnkgc2VlZGluZ1xuICBjb25zdCB0ZXN0UG9zaXRpb25zOiBFbmRnYW1lUG9zaXRpb25bXSA9IE9iamVjdC52YWx1ZXMoVGVzdFBvc2l0aW9ucykubWFwKFxuICAgIChzY2VuYXJpbykgPT4gKHtcbiAgICAgIGlkOiBwYXJzZUludChzY2VuYXJpby5pZCksIC8vIENvbnZlcnQgc3RyaW5nIElEIGJhY2sgdG8gbnVtYmVyIGZvciBFbmRnYW1lUG9zaXRpb25cbiAgICAgIHRpdGxlOiBzY2VuYXJpby50aXRsZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBzY2VuYXJpby5kZXNjcmlwdGlvbixcbiAgICAgIGZlbjogc2NlbmFyaW8uZmVuLFxuICAgICAgY2F0ZWdvcnk6IHNjZW5hcmlvLmNhdGVnb3J5LFxuICAgICAgZGlmZmljdWx0eTogc2NlbmFyaW8uZGlmZmljdWx0eSxcbiAgICAgIHRhcmdldE1vdmVzOiBzY2VuYXJpby50YXJnZXRNb3ZlcyxcbiAgICAgIGhpbnRzOiBzY2VuYXJpby5oaW50cyxcbiAgICAgIHNvbHV0aW9uOiBzY2VuYXJpby5zb2x1dGlvbixcbiAgICAgIHNpZGVUb01vdmU6IHNjZW5hcmlvLnNpZGVUb01vdmUsXG4gICAgICBnb2FsOiBzY2VuYXJpby5nb2FsLFxuICAgICAgLy8gQ29uZGl0aW9uYWwgbWFwcGluZyBmb3Igb3B0aW9uYWwgZmllbGRzIHRvIHByZXZlbnQgdW5kZWZpbmVkIHNlcmlhbGl6YXRpb24gaXNzdWVzXG4gICAgICAuLi4oc2NlbmFyaW8ubmV4dFBvc2l0aW9uSWQgJiYge1xuICAgICAgICBuZXh0UG9zaXRpb25JZDogc2NlbmFyaW8ubmV4dFBvc2l0aW9uSWQsXG4gICAgICB9KSxcbiAgICAgIC8vIE5vdGU6IFRlc3Qtc3BlY2lmaWMgZmllbGRzIChpbml0aWFsRXhwZWN0ZWRNb3ZlLCBleHBlY3RzRHJhd0V2YWx1YXRpb24pIGFyZSBOT1QgaW5jbHVkZWRcbiAgICB9KSxcbiAgKTtcblxuICByZXBvc2l0b3J5LnNlZWREYXRhKHtcbiAgICBwb3NpdGlvbnM6IHRlc3RQb3NpdGlvbnMsXG4gICAgY2F0ZWdvcmllczogW10sIC8vIEFkZCB0ZXN0IGNhdGVnb3JpZXMgaWYgbmVlZGVkXG4gICAgY2hhcHRlcnM6IFtdLCAvLyBBZGQgdGVzdCBjaGFwdGVycyBpZiBuZWVkZWRcbiAgfSk7XG5cbiAgLy8gQ3JlYXRlIHNlcnZpY2Ugd2l0aCBtb2NrIHJlcG9zaXRvcnlcbiAgY29uc3Qgc2VydmljZSA9IG5ldyBQb3NpdGlvblNlcnZpY2UocmVwb3NpdG9yeSwge1xuICAgIGNhY2hlRW5hYmxlZDogZmFsc2UsIC8vIERpc2FibGUgc2VydmljZS1sZXZlbCBjYWNoZSBmb3IgdGVzdHNcbiAgICBjYWNoZVNpemU6IDAsXG4gICAgY2FjaGVUVEw6IDAsXG4gIH0pO1xuXG4gIGxvZ2dlci5pbmZvKFxuICAgIGBbTW9ja1Bvc2l0aW9uU2VydmljZV0gSW5pdGlhbGl6ZWQgd2l0aCAke3Rlc3RQb3NpdGlvbnMubGVuZ3RofSB0ZXN0IHBvc2l0aW9uc2AsXG4gICk7XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59XG5cbi8qKlxuICogQ3JlYXRlIE1vY2tQb3NpdGlvblJlcG9zaXRvcnkgb25seSAoZm9yIGRpcmVjdCByZXBvc2l0b3J5IHRlc3RpbmcpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb2NrUG9zaXRpb25SZXBvc2l0b3J5KCk6IE1vY2tQb3NpdGlvblJlcG9zaXRvcnkge1xuICBjb25zdCByZXBvc2l0b3J5ID0gbmV3IE1vY2tQb3NpdGlvblJlcG9zaXRvcnkoKTtcblxuICAvLyBDb252ZXJ0IFRlc3RTY2VuYXJpbyB0byBFbmRnYW1lUG9zaXRpb24gYW5kIHByZS1zZWVkXG4gIGNvbnN0IHRlc3RQb3NpdGlvbnM6IEVuZGdhbWVQb3NpdGlvbltdID0gT2JqZWN0LnZhbHVlcyhUZXN0UG9zaXRpb25zKS5tYXAoXG4gICAgKHNjZW5hcmlvKSA9PiAoe1xuICAgICAgaWQ6IHBhcnNlSW50KHNjZW5hcmlvLmlkKSxcbiAgICAgIHRpdGxlOiBzY2VuYXJpby50aXRsZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBzY2VuYXJpby5kZXNjcmlwdGlvbixcbiAgICAgIGZlbjogc2NlbmFyaW8uZmVuLFxuICAgICAgY2F0ZWdvcnk6IHNjZW5hcmlvLmNhdGVnb3J5LFxuICAgICAgZGlmZmljdWx0eTogc2NlbmFyaW8uZGlmZmljdWx0eSxcbiAgICAgIHRhcmdldE1vdmVzOiBzY2VuYXJpby50YXJnZXRNb3ZlcyxcbiAgICAgIGhpbnRzOiBzY2VuYXJpby5oaW50cyxcbiAgICAgIHNvbHV0aW9uOiBzY2VuYXJpby5zb2x1dGlvbixcbiAgICAgIHNpZGVUb01vdmU6IHNjZW5hcmlvLnNpZGVUb01vdmUsXG4gICAgICBnb2FsOiBzY2VuYXJpby5nb2FsLFxuICAgICAgLy8gQ29uZGl0aW9uYWwgbWFwcGluZyBmb3Igb3B0aW9uYWwgZmllbGRzIHRvIHByZXZlbnQgdW5kZWZpbmVkIHNlcmlhbGl6YXRpb24gaXNzdWVzXG4gICAgICAuLi4oc2NlbmFyaW8ubmV4dFBvc2l0aW9uSWQgJiYge1xuICAgICAgICBuZXh0UG9zaXRpb25JZDogc2NlbmFyaW8ubmV4dFBvc2l0aW9uSWQsXG4gICAgICB9KSxcbiAgICB9KSxcbiAgKTtcblxuICByZXBvc2l0b3J5LnNlZWREYXRhKHtcbiAgICBwb3NpdGlvbnM6IHRlc3RQb3NpdGlvbnMsXG4gIH0pO1xuXG4gIHJldHVybiByZXBvc2l0b3J5O1xufVxuXG4vKipcbiAqIEUyRSBUZXN0IEVudmlyb25tZW50IERldGVjdGlvblxuICogRGV0ZXJtaW5lcyBpZiB3ZSBzaG91bGQgdXNlIG1vY2sgc2VydmljZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFVzZU1vY2tTZXJ2aWNlKCk6IGJvb2xlYW4ge1xuICBjb25zdCBub2RlRW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlY7XG4gIGNvbnN0IG5leHRQdWJsaWNFMkUgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19JU19FMkVfVEVTVDtcbiAgY29uc3QgaXNFMkUgPSBwcm9jZXNzLmVudi5JU19FMkVfVEVTVDtcbiAgY29uc3QgdXNlRmlyZXN0b3JlID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX0ZJUkVTVE9SRTtcblxuICAvLyBEZWJ1ZyBsb2dnaW5nIGZvciBlbnZpcm9ubWVudCBkZXRlY3Rpb25cbiAgbG9nZ2VyLmRlYnVnKFwiW01vY2tTZXJ2aWNlRmFjdG9yeV0gRW52aXJvbm1lbnQgY2hlY2tcIiwge1xuICAgIE5PREVfRU5WOiBub2RlRW52LFxuICAgIE5FWFRfUFVCTElDX0lTX0UyRV9URVNUOiBuZXh0UHVibGljRTJFLFxuICAgIElTX0UyRV9URVNUOiBpc0UyRSxcbiAgICBORVhUX1BVQkxJQ19VU0VfRklSRVNUT1JFOiB1c2VGaXJlc3RvcmUsXG4gICAgc2hvdWxkVXNlTW9jazpcbiAgICAgIG5vZGVFbnYgPT09IFwidGVzdFwiIHx8XG4gICAgICBuZXh0UHVibGljRTJFID09PSBcInRydWVcIiB8fFxuICAgICAgaXNFMkUgPT09IFwidHJ1ZVwiIHx8XG4gICAgICB1c2VGaXJlc3RvcmUgPT09IFwiZmFsc2VcIixcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICBub2RlRW52ID09PSBcInRlc3RcIiB8fFxuICAgIG5leHRQdWJsaWNFMkUgPT09IFwidHJ1ZVwiIHx8XG4gICAgaXNFMkUgPT09IFwidHJ1ZVwiIHx8XG4gICAgdXNlRmlyZXN0b3JlID09PSBcImZhbHNlXCJcbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVNb2NrUG9zaXRpb25SZXBvc2l0b3J5IiwiY3JlYXRlTW9ja1Bvc2l0aW9uU2VydmljZSIsInNob3VsZFVzZU1vY2tTZXJ2aWNlIiwibG9nZ2VyIiwiZ2V0TG9nZ2VyIiwic2V0Q29udGV4dCIsInJlcG9zaXRvcnkiLCJNb2NrUG9zaXRpb25SZXBvc2l0b3J5IiwiZW5hYmxlQ2FjaGUiLCJldmVudHMiLCJvbkRhdGFGZXRjaGVkIiwib3BlcmF0aW9uIiwiY291bnQiLCJwcm9jZXNzIiwiZW52IiwiREVCVUdfTU9DS19TRVJWSUNFIiwiZGVidWciLCJvbkRhdGFNb2RpZmllZCIsImlkcyIsImxlbmd0aCIsIm9uRXJyb3IiLCJlcnJvciIsInRlc3RQb3NpdGlvbnMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJUZXN0UG9zaXRpb25zIiwibWFwIiwic2NlbmFyaW8iLCJpZCIsInBhcnNlSW50IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImZlbiIsImNhdGVnb3J5IiwiZGlmZmljdWx0eSIsInRhcmdldE1vdmVzIiwiaGludHMiLCJzb2x1dGlvbiIsInNpZGVUb01vdmUiLCJnb2FsIiwibmV4dFBvc2l0aW9uSWQiLCJzZWVkRGF0YSIsInBvc2l0aW9ucyIsImNhdGVnb3JpZXMiLCJjaGFwdGVycyIsInNlcnZpY2UiLCJQb3NpdGlvblNlcnZpY2UiLCJjYWNoZUVuYWJsZWQiLCJjYWNoZVNpemUiLCJjYWNoZVRUTCIsImluZm8iLCJub2RlRW52IiwiTk9ERV9FTlYiLCJuZXh0UHVibGljRTJFIiwiTkVYVF9QVUJMSUNfSVNfRTJFX1RFU1QiLCJpc0UyRSIsIklTX0UyRV9URVNUIiwidXNlRmlyZXN0b3JlIiwiTkVYVF9QVUJMSUNfVVNFX0ZJUkVTVE9SRSIsInNob3VsZFVzZU1vY2siXSwibWFwcGluZ3MiOiJBQUFBOzs7O0NBSUM7Ozs7Ozs7Ozs7O1FBa0ZlQTtlQUFBQTs7UUFuRUFDO2VBQUFBOztRQXNHQUM7ZUFBQUE7Ozt3Q0FuSHVCO2lDQUNQOytCQUVGO3dCQUVKO0FBRTFCLE1BQU1DLFNBQVNDLElBQUFBLGlCQUFTLElBQUdDLFVBQVUsQ0FBQztBQU0vQixTQUFTSjtJQUNkLHlCQUF5QjtJQUN6QixNQUFNSyxhQUFhLElBQUlDLDhDQUFzQixDQUFDO1FBQzVDQyxhQUFhO1FBQ2JDLFFBQVE7WUFDTkMsZUFBZSxDQUFDQyxXQUFXQztnQkFDekIsZ0RBQWdEO2dCQUNoRCxJQUFJQyxRQUFRQyxHQUFHLENBQUNDLGtCQUFrQixFQUFFO29CQUNsQ1osT0FBT2Es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