{"version":3,"sources":["/home/thehu/coolProjects/EndgameTrainer-training-board-complete/src/shared/lib/firebase/index.ts"],"sourcesContent":["import { initializeApp, getApps, FirebaseApp } from \"firebase/app\";\nimport {\n  getFirestore,\n  Firestore,\n  connectFirestoreEmulator,\n} from \"firebase/firestore\";\nimport { firebaseConfig } from \"./config\";\n\nlet app: FirebaseApp;\nlet db: Firestore;\n\n// Initialize Firebase only if it hasn't been initialized\nif (!getApps().length) {\n  app = initializeApp(firebaseConfig);\n} else {\n  app = getApps()[0];\n}\n\ndb = getFirestore(app);\n\n// Connect to Firestore emulator if in test environment\nif (\n  (process.env.NODE_ENV === \"test\" ||\n    process.env.IS_E2E_TEST === \"true\" ||\n    process.env.NEXT_PUBLIC_IS_E2E_TEST === \"true\") &&\n  process.env.FIRESTORE_EMULATOR_HOST\n) {\n  const [host, port] = process.env.FIRESTORE_EMULATOR_HOST.split(\":\");\n  try {\n    connectFirestoreEmulator(db, host, parseInt(port));\n    // Connected to Firestore emulator\n  } catch (error) {\n    // Already connected, ignore\n    // Firestore emulator already connected\n  }\n}\n\nexport { app, db };\n"],"names":["app","db","getApps","length","initializeApp","firebaseConfig","getFirestore","process","env","NODE_ENV","IS_E2E_TEST","NEXT_PUBLIC_IS_E2E_TEST","FIRESTORE_EMULATOR_HOST","host","port","split","connectFirestoreEmulator","parseInt","error"],"mappings":";;;;;;;;;;;QAqCSA;eAAAA;;QAAKC;eAAAA;;;qBArCsC;2BAK7C;wBACwB;AAE/B,IAAID;AACJ,IAAIC;AAEJ,yDAAyD;AACzD,IAAI,CAACC,IAAAA,YAAO,IAAGC,MAAM,EAAE;IACrBH,MAAMI,IAAAA,kBAAa,EAACC,sBAAc;AACpC,OAAO;IACLL,MAAME,IAAAA,YAAO,GAAE,CAAC,EAAE;AACpB;AAEAD,KAAKK,IAAAA,uBAAY,EAACN;AAElB,uDAAuD;AACvD,IACE,AAACO,CAAAA,QAAQC,GAAG,CAACC,QAAQ,KAAK,UACxBF,QAAQC,GAAG,CAACE,WAAW,KAAK,UAC5BH,QAAQC,GAAG,CAACG,uBAAuB,KAAK,MAAK,KAC/CJ,QAAQC,GAAG,CAACI,uBAAuB,EACnC;IACA,MAAM,CAACC,MAAMC,KAAK,GAAGP,QAAQC,GAAG,CAACI,uBAAuB,CAACG,KAAK,CAAC;IAC/D,IAAI;QACFC,IAAAA,mCAAwB,EAACf,IAAIY,MAAMI,SAASH;IAC5C,kCAAkC;IACpC,EAAE,OAAOI,OAAO;IACd,4BAA4B;IAC5B,uCAAuC;IACzC;AACF"}