d887f680ef99c6456b762764d19342d4
/**
 * @file Service container type definitions
 * @module services/container/types
 *
 * @description
 * Type definitions for the dependency injection container system.
 * Provides type-safe service registration and resolution with support
 * for both predefined platform services and custom services.
 *
 * @remarks
 * The service container supports:
 * - Type-safe service registry with compile-time checks
 * - Singleton and factory patterns
 * - Circular dependency detection
 * - Testing overrides and mocks
 * - Browser API abstractions
 * - Platform service abstractions
 *
 * @example
 * ```typescript
 * // Define a service in the registry
 * interface ServiceRegistry {
 *   'my.service': IMyService;
 * }
 *
 * // Register and resolve services
 * container.register('my.service', () => new MyService());
 * const service = container.resolve('my.service');
 * ```
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get CircularDependencyError () {
        return CircularDependencyError;
    },
    get ServiceAlreadyRegisteredError () {
        return ServiceAlreadyRegisteredError;
    },
    get ServiceNotFoundError () {
        return ServiceNotFoundError;
    }
});
class ServiceNotFoundError extends Error {
    constructor(key){
        super(`Service not found for key: ${key}`);
        this.name = "ServiceNotFoundError";
    }
}
class ServiceAlreadyRegisteredError extends Error {
    constructor(key){
        super(`Service already registered for key: ${key}`);
        this.name = "ServiceAlreadyRegisteredError";
    }
}
class CircularDependencyError extends Error {
    constructor(chain){
        super(`Circular dependency detected: ${chain.join(" -> ")}`);
        this.name = "CircularDependencyError";
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RoZWh1L2Nvb2xQcm9qZWN0cy9FbmRnYW1lVHJhaW5lci10cmFpbmluZy1ib2FyZC1jb21wbGV0ZS9zcmMvc2hhcmVkL3NlcnZpY2VzL2NvbnRhaW5lci90eXBlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIFNlcnZpY2UgY29udGFpbmVyIHR5cGUgZGVmaW5pdGlvbnNcbiAqIEBtb2R1bGUgc2VydmljZXMvY29udGFpbmVyL3R5cGVzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUeXBlIGRlZmluaXRpb25zIGZvciB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24gY29udGFpbmVyIHN5c3RlbS5cbiAqIFByb3ZpZGVzIHR5cGUtc2FmZSBzZXJ2aWNlIHJlZ2lzdHJhdGlvbiBhbmQgcmVzb2x1dGlvbiB3aXRoIHN1cHBvcnRcbiAqIGZvciBib3RoIHByZWRlZmluZWQgcGxhdGZvcm0gc2VydmljZXMgYW5kIGN1c3RvbSBzZXJ2aWNlcy5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIHNlcnZpY2UgY29udGFpbmVyIHN1cHBvcnRzOlxuICogLSBUeXBlLXNhZmUgc2VydmljZSByZWdpc3RyeSB3aXRoIGNvbXBpbGUtdGltZSBjaGVja3NcbiAqIC0gU2luZ2xldG9uIGFuZCBmYWN0b3J5IHBhdHRlcm5zXG4gKiAtIENpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0aW9uXG4gKiAtIFRlc3Rpbmcgb3ZlcnJpZGVzIGFuZCBtb2Nrc1xuICogLSBCcm93c2VyIEFQSSBhYnN0cmFjdGlvbnNcbiAqIC0gUGxhdGZvcm0gc2VydmljZSBhYnN0cmFjdGlvbnNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gRGVmaW5lIGEgc2VydmljZSBpbiB0aGUgcmVnaXN0cnlcbiAqIGludGVyZmFjZSBTZXJ2aWNlUmVnaXN0cnkge1xuICogICAnbXkuc2VydmljZSc6IElNeVNlcnZpY2U7XG4gKiB9XG4gKlxuICogLy8gUmVnaXN0ZXIgYW5kIHJlc29sdmUgc2VydmljZXNcbiAqIGNvbnRhaW5lci5yZWdpc3RlcignbXkuc2VydmljZScsICgpID0+IG5ldyBNeVNlcnZpY2UoKSk7XG4gKiBjb25zdCBzZXJ2aWNlID0gY29udGFpbmVyLnJlc29sdmUoJ215LnNlcnZpY2UnKTtcbiAqIGBgYFxuICovXG5cbmltcG9ydCB7XG4gIElQbGF0Zm9ybVN0b3JhZ2UsXG4gIElQbGF0Zm9ybU5vdGlmaWNhdGlvbixcbiAgSVBsYXRmb3JtRGV2aWNlLFxuICBJUGxhdGZvcm1QZXJmb3JtYW5jZSxcbiAgSVBsYXRmb3JtQ2xpcGJvYXJkLFxuICBJUGxhdGZvcm1TaGFyZSxcbiAgSVBsYXRmb3JtQW5hbHl0aWNzLFxuICBJUGxhdGZvcm1EZXRlY3Rpb24sXG59IGZyb20gXCIuLi9wbGF0Zm9ybS90eXBlc1wiO1xuXG4vKipcbiAqIEJyb3dzZXIgQVBJIGFic3RyYWN0aW9ucyBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb25cbiAqXG4gKiBAaW50ZXJmYWNlIElCcm93c2VyQVBJc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUHJvdmlkZXMgYWJzdHJhY3RlZCBpbnRlcmZhY2VzIGZvciBicm93c2VyIEFQSXMgdG8gZW5hYmxlXG4gKiB0ZXN0aW5nIGFuZCBwbGF0Zm9ybS1zcGVjaWZpYyBpbXBsZW1lbnRhdGlvbnMuXG4gKlxuICogQHByb3BlcnR5IHtTdG9yYWdlfSBsb2NhbFN0b3JhZ2UgLSBCcm93c2VyIGxvY2FsU3RvcmFnZSBBUElcbiAqIEBwcm9wZXJ0eSB7U3RvcmFnZX0gc2Vzc2lvblN0b3JhZ2UgLSBCcm93c2VyIHNlc3Npb25TdG9yYWdlIEFQSVxuICogQHByb3BlcnR5IHtOYXZpZ2F0b3J9IG5hdmlnYXRvciAtIEJyb3dzZXIgbmF2aWdhdG9yIEFQSVxuICogQHByb3BlcnR5IHtXaW5kb3d9IHdpbmRvdyAtIEJyb3dzZXIgd2luZG93IG9iamVjdFxuICogQHByb3BlcnR5IHtEb2N1bWVudH0gZG9jdW1lbnQgLSBCcm93c2VyIGRvY3VtZW50IG9iamVjdFxuICogQHByb3BlcnR5IHtQZXJmb3JtYW5jZX0gcGVyZm9ybWFuY2UgLSBCcm93c2VyIHBlcmZvcm1hbmNlIEFQSVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBhcGlzOiBJQnJvd3NlckFQSXMgPSB7XG4gKiAgIGxvY2FsU3RvcmFnZTogd2luZG93LmxvY2FsU3RvcmFnZSxcbiAqICAgc2Vzc2lvblN0b3JhZ2U6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZSxcbiAqICAgbmF2aWdhdG9yOiB3aW5kb3cubmF2aWdhdG9yLFxuICogICB3aW5kb3c6IHdpbmRvdyxcbiAqICAgZG9jdW1lbnQ6IHdpbmRvdy5kb2N1bWVudCxcbiAqICAgcGVyZm9ybWFuY2U6IHdpbmRvdy5wZXJmb3JtYW5jZVxuICogfTtcbiAqIGBgYFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElCcm93c2VyQVBJcyB7XG4gIGxvY2FsU3RvcmFnZTogU3RvcmFnZTtcbiAgc2Vzc2lvblN0b3JhZ2U6IFN0b3JhZ2U7XG4gIG5hdmlnYXRvcjogTmF2aWdhdG9yO1xuICB3aW5kb3c6IFdpbmRvdztcbiAgZG9jdW1lbnQ6IERvY3VtZW50O1xuICBwZXJmb3JtYW5jZTogUGVyZm9ybWFuY2U7XG59XG5cbi8qKlxuICogU2VydmljZSBpZGVudGlmaWVyIHR5cGVcbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBTZXJ2aWNlS2V5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTdHJpbmcgbGl0ZXJhbCB0eXBlIGZvciBzZXJ2aWNlIGlkZW50aWZpZXJzLiBVc2VkIGFzIGtleXNcbiAqIGluIHRoZSBzZXJ2aWNlIHJlZ2lzdHJ5IGZvciB0eXBlLXNhZmUgc2VydmljZSByZXNvbHV0aW9uLlxuICovXG5leHBvcnQgdHlwZSBTZXJ2aWNlS2V5ID0gc3RyaW5nO1xuXG4vKipcbiAqIFNlcnZpY2UgZmFjdG9yeSBmdW5jdGlvbiB0eXBlXG4gKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSBTZXJ2aWNlRmFjdG9yeVxuICogQHRlbXBsYXRlIFQgLSBUaGUgc2VydmljZSB0eXBlIGJlaW5nIGNyZWF0ZWRcbiAqIEBwYXJhbSB7SVNlcnZpY2VDb250YWluZXJ9IGNvbnRhaW5lciAtIENvbnRhaW5lciBmb3IgcmVzb2x2aW5nIGRlcGVuZGVuY2llc1xuICogQHJldHVybnMge1R9IFRoZSBzZXJ2aWNlIGluc3RhbmNlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBzZXJ2aWNlIGluc3RhbmNlcy4gUmVjZWl2ZXMgdGhlXG4gKiBjb250YWluZXIgdG8gZW5hYmxlIGRlcGVuZGVuY3kgcmVzb2x1dGlvbiBkdXJpbmcgY29uc3RydWN0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBzdG9yYWdlRmFjdG9yeTogU2VydmljZUZhY3Rvcnk8SVN0b3JhZ2U+ID0gKGNvbnRhaW5lcikgPT4ge1xuICogICBjb25zdCBwbGF0Zm9ybSA9IGNvbnRhaW5lci5yZXNvbHZlKCdwbGF0Zm9ybS5kZXRlY3Rpb24nKTtcbiAqICAgcmV0dXJuIG5ldyBTdG9yYWdlU2VydmljZShwbGF0Zm9ybSk7XG4gKiB9O1xuICogYGBgXG4gKi9cbmV4cG9ydCB0eXBlIFNlcnZpY2VGYWN0b3J5PFQ+ID0gKGNvbnRhaW5lcjogSVNlcnZpY2VDb250YWluZXIpID0+IFQ7XG5cbi8qKlxuICogU2VydmljZSByZWdpc3RyeSBpbnRlcmZhY2VcbiAqXG4gKiBAaW50ZXJmYWNlIFNlcnZpY2VSZWdpc3RyeVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ2VudHJhbCB0eXBlIHJlZ2lzdHJ5IG1hcHBpbmcgc2VydmljZSBrZXlzIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgdHlwZXMuXG4gKiBUaGlzIGVuYWJsZXMgY29tcGlsZS10aW1lIHR5cGUgc2FmZXR5IHdoZW4gcmVnaXN0ZXJpbmcgYW5kIHJlc29sdmluZyBzZXJ2aWNlcy5cbiAqIEV4dGVuZCB0aGlzIGludGVyZmFjZSB0byBhZGQgY3VzdG9tIHNlcnZpY2VzIHRvIHRoZSB0eXBlIHN5c3RlbS5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIHJlZ2lzdHJ5IGlzIG9yZ2FuaXplZCBpbnRvIGxvZ2ljYWwgZ3JvdXBzOlxuICogLSBwbGF0Zm9ybS4qOiBDcm9zcy1wbGF0Zm9ybSBzZXJ2aWNlIGFic3RyYWN0aW9uc1xuICogLSBicm93c2VyLio6IEJyb3dzZXItc3BlY2lmaWMgQVBJIGFic3RyYWN0aW9uc1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBFeHRlbmQgdGhlIHJlZ2lzdHJ5IGluIHlvdXIgYXBwbGljYXRpb25cbiAqIGRlY2xhcmUgbW9kdWxlICdAc2hhcmVkL3NlcnZpY2VzL2NvbnRhaW5lci90eXBlcycge1xuICogICBpbnRlcmZhY2UgU2VydmljZVJlZ2lzdHJ5IHtcbiAqICAgICAnYXBwLnRoZW1lJzogSVRoZW1lU2VydmljZTtcbiAqICAgICAnYXBwLmF1dGgnOiBJQXV0aFNlcnZpY2U7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlcnZpY2VSZWdpc3RyeSB7XG4gIC8vIFBsYXRmb3JtIHNlcnZpY2VzXG4gIFwicGxhdGZvcm0uc3RvcmFnZVwiOiBJUGxhdGZvcm1TdG9yYWdlO1xuICBcInBsYXRmb3JtLm5vdGlmaWNhdGlvbnNcIjogSVBsYXRmb3JtTm90aWZpY2F0aW9uO1xuICBcInBsYXRmb3JtLmRldmljZVwiOiBJUGxhdGZvcm1EZXZpY2U7XG4gIFwicGxhdGZvcm0ucGVyZm9ybWFuY2VcIjogSVBsYXRmb3JtUGVyZm9ybWFuY2U7XG4gIFwicGxhdGZvcm0uY2xpcGJvYXJkXCI6IElQbGF0Zm9ybUNsaXBib2FyZDtcbiAgXCJwbGF0Zm9ybS5zaGFyZVwiOiBJUGxhdGZvcm1TaGFyZTtcbiAgXCJwbGF0Zm9ybS5hbmFseXRpY3NcIjogSVBsYXRmb3JtQW5hbHl0aWNzO1xuICBcInBsYXRmb3JtLmRldGVjdGlvblwiOiBJUGxhdGZvcm1EZXRlY3Rpb247XG5cbiAgLy8gQnJvd3NlciBBUEkgYWJzdHJhY3Rpb25zXG4gIFwiYnJvd3Nlci5hcGlzXCI6IElCcm93c2VyQVBJcztcbiAgXCJicm93c2VyLmxvY2FsU3RvcmFnZVwiOiBTdG9yYWdlO1xuICBcImJyb3dzZXIubmF2aWdhdG9yXCI6IE5hdmlnYXRvcjtcbiAgXCJicm93c2VyLndpbmRvd1wiOiBXaW5kb3c7XG4gIFwiYnJvd3Nlci5kb2N1bWVudFwiOiBEb2N1bWVudDtcbiAgXCJicm93c2VyLnBlcmZvcm1hbmNlXCI6IFBlcmZvcm1hbmNlO1xufVxuXG4vKipcbiAqIFNlcnZpY2UgY29udGFpbmVyIGludGVyZmFjZVxuICpcbiAqIEBpbnRlcmZhY2UgSVNlcnZpY2VDb250YWluZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIE1haW4gaW50ZXJmYWNlIGZvciB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24gY29udGFpbmVyLlxuICogUHJvdmlkZXMgbWV0aG9kcyBmb3IgcmVnaXN0ZXJpbmcsIHJlc29sdmluZywgYW5kIG1hbmFnaW5nIHNlcnZpY2VzXG4gKiB3aXRoIHN1cHBvcnQgZm9yIGJvdGggdHlwZS1zYWZlIHByZWRlZmluZWQgc2VydmljZXMgYW5kIGR5bmFtaWNcbiAqIGN1c3RvbSBzZXJ2aWNlcy5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIGNvbnRhaW5lciBzdXBwb3J0czpcbiAqIC0gTGF6eSBzZXJ2aWNlIGluc3RhbnRpYXRpb25cbiAqIC0gU2luZ2xldG9uIGNhY2hpbmcgKGNvbmZpZ3VyYWJsZSlcbiAqIC0gQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3Rpb25cbiAqIC0gVHlwZS1zYWZlIHNlcnZpY2UgcmVzb2x1dGlvblxuICogLSBUZXN0aW5nIHV0aWxpdGllc1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBjb250YWluZXI6IElTZXJ2aWNlQ29udGFpbmVyID0gbmV3IFNlcnZpY2VDb250YWluZXIoKTtcbiAqXG4gKiAvLyBSZWdpc3RlciBzZXJ2aWNlc1xuICogY29udGFpbmVyLnJlZ2lzdGVyKCdwbGF0Zm9ybS5zdG9yYWdlJywgKCkgPT4gbmV3IFdlYlN0b3JhZ2UoKSk7XG4gKlxuICogLy8gUmVzb2x2ZSBzZXJ2aWNlc1xuICogY29uc3Qgc3RvcmFnZSA9IGNvbnRhaW5lci5yZXNvbHZlKCdwbGF0Zm9ybS5zdG9yYWdlJyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJU2VydmljZUNvbnRhaW5lciB7XG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIHNlcnZpY2Ugd2l0aCB0aGUgY29udGFpbmVyXG4gICAqIEBwYXJhbSBrZXkgLSBTZXJ2aWNlIGlkZW50aWZpZXJcbiAgICogQHBhcmFtIGZhY3RvcnkgLSBGYWN0b3J5IGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgc2VydmljZVxuICAgKi9cbiAgcmVnaXN0ZXI8SyBleHRlbmRzIGtleW9mIFNlcnZpY2VSZWdpc3RyeT4oXG4gICAga2V5OiBLLFxuICAgIGZhY3Rvcnk6IFNlcnZpY2VGYWN0b3J5PFNlcnZpY2VSZWdpc3RyeVtLXT4sXG4gICk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgc2VydmljZSB3aXRoIGEgY3VzdG9tIGtleSAoZm9yIGZsZXhpYmlsaXR5KVxuICAgKiBAcGFyYW0ga2V5IC0gQ3VzdG9tIHNlcnZpY2UgaWRlbnRpZmllclxuICAgKiBAcGFyYW0gZmFjdG9yeSAtIEZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBzZXJ2aWNlXG4gICAqL1xuICByZWdpc3RlckN1c3RvbTxUPihrZXk6IHN0cmluZywgZmFjdG9yeTogU2VydmljZUZhY3Rvcnk8VD4pOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBSZXNvbHZlIGEgc2VydmljZSBmcm9tIHRoZSBjb250YWluZXJcbiAgICogQHBhcmFtIGtleSAtIFNlcnZpY2UgaWRlbnRpZmllclxuICAgKiBAcmV0dXJucyBUaGUgc2VydmljZSBpbnN0YW5jZVxuICAgKi9cbiAgcmVzb2x2ZTxLIGV4dGVuZHMga2V5b2YgU2VydmljZVJlZ2lzdHJ5PihrZXk6IEspOiBTZXJ2aWNlUmVnaXN0cnlbS107XG5cbiAgLyoqXG4gICAqIFJlc29sdmUgYSBjdXN0b20gc2VydmljZSBmcm9tIHRoZSBjb250YWluZXJcbiAgICogQHBhcmFtIGtleSAtIEN1c3RvbSBzZXJ2aWNlIGlkZW50aWZpZXJcbiAgICogQHJldHVybnMgVGhlIHNlcnZpY2UgaW5zdGFuY2VcbiAgICovXG4gIHJlc29sdmVDdXN0b208VD4oa2V5OiBzdHJpbmcpOiBUO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHNlcnZpY2UgaXMgcmVnaXN0ZXJlZFxuICAgKiBAcGFyYW0ga2V5IC0gU2VydmljZSBpZGVudGlmaWVyXG4gICAqIEByZXR1cm5zIFRydWUgaWYgc2VydmljZSBpcyByZWdpc3RlcmVkXG4gICAqL1xuICBoYXM8SyBleHRlbmRzIGtleW9mIFNlcnZpY2VSZWdpc3RyeT4oa2V5OiBLKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBjdXN0b20gc2VydmljZSBpcyByZWdpc3RlcmVkXG4gICAqIEBwYXJhbSBrZXkgLSBDdXN0b20gc2VydmljZSBpZGVudGlmaWVyXG4gICAqIEByZXR1cm5zIFRydWUgaWYgc2VydmljZSBpcyByZWdpc3RlcmVkXG4gICAqL1xuICBoYXNDdXN0b20oa2V5OiBzdHJpbmcpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgcmVzb2x2ZWQgaW5zdGFuY2VzICh1c2VmdWwgZm9yIHRlc3RpbmcpXG4gICAqL1xuICBjbGVhckluc3RhbmNlcygpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHJlZ2lzdGVyZWQgc2VydmljZSBrZXlzXG4gICAqIEByZXR1cm5zIEFycmF5IG9mIHJlZ2lzdGVyZWQgc2VydmljZSBrZXlzXG4gICAqL1xuICBnZXRSZWdpc3RlcmVkS2V5cygpOiBzdHJpbmdbXTtcbn1cblxuLyoqXG4gKiBTZXJ2aWNlIG92ZXJyaWRlcyBmb3IgdGVzdGluZ1xuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNlcnZpY2VPdmVycmlkZXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFBhcnRpYWwgdHlwZSBhbGxvd2luZyBvdmVycmlkZSBvZiBhbnkgcmVnaXN0ZXJlZCBzZXJ2aWNlLlxuICogVXNlZCBpbiB0ZXN0cyB0byBwcm92aWRlIG1vY2sgaW1wbGVtZW50YXRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBvdmVycmlkZXM6IFNlcnZpY2VPdmVycmlkZXMgPSB7XG4gKiAgICdwbGF0Zm9ybS5zdG9yYWdlJzogbW9ja1N0b3JhZ2UsXG4gKiAgICdwbGF0Zm9ybS5ub3RpZmljYXRpb25zJzogbW9ja05vdGlmaWNhdGlvbnNcbiAqIH07XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHR5cGUgU2VydmljZU92ZXJyaWRlcyA9IFBhcnRpYWw8e1xuICBbSyBpbiBrZXlvZiBTZXJ2aWNlUmVnaXN0cnldOiBTZXJ2aWNlUmVnaXN0cnlbS107XG59PjtcblxuLyoqXG4gKiBDdXN0b20gc2VydmljZSBvdmVycmlkZXMgZm9yIHRlc3RpbmdcbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21TZXJ2aWNlT3ZlcnJpZGVzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEeW5hbWljIG92ZXJyaWRlcyBmb3IgY3VzdG9tIHNlcnZpY2VzIG5vdCBpbiB0aGUgcmVnaXN0cnkuXG4gKiBQcm92aWRlcyBmbGV4aWJpbGl0eSBmb3IgdGVzdC1zcGVjaWZpYyBzZXJ2aWNlcy5cbiAqL1xuZXhwb3J0IHR5cGUgQ3VzdG9tU2VydmljZU92ZXJyaWRlcyA9IFJlY29yZDxzdHJpbmcsIGFueT47XG5cbi8qKlxuICogQ29tYmluZWQgb3ZlcnJpZGVzIGZvciB0ZXN0IGNvbnRhaW5lcnNcbiAqXG4gKiBAaW50ZXJmYWNlIFRlc3RDb250YWluZXJPdmVycmlkZXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBjcmVhdGluZyB0ZXN0IGNvbnRhaW5lcnMgd2l0aFxuICogYm90aCByZWdpc3RlcmVkIGFuZCBjdXN0b20gc2VydmljZSBvdmVycmlkZXMuXG4gKlxuICogQHByb3BlcnR5IHtTZXJ2aWNlT3ZlcnJpZGVzfSBbc2VydmljZXNdIC0gUmVnaXN0cnkgc2VydmljZSBvdmVycmlkZXNcbiAqIEBwcm9wZXJ0eSB7Q3VzdG9tU2VydmljZU92ZXJyaWRlc30gW2N1c3RvbV0gLSBDdXN0b20gc2VydmljZSBvdmVycmlkZXNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgdGVzdE92ZXJyaWRlczogVGVzdENvbnRhaW5lck92ZXJyaWRlcyA9IHtcbiAqICAgc2VydmljZXM6IHtcbiAqICAgICAncGxhdGZvcm0uc3RvcmFnZSc6IG1vY2tTdG9yYWdlXG4gKiAgIH0sXG4gKiAgIGN1c3RvbToge1xuICogICAgICd0ZXN0LmhlbHBlcic6IHRlc3RIZWxwZXJcbiAqICAgfVxuICogfTtcbiAqIGBgYFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RDb250YWluZXJPdmVycmlkZXMge1xuICBzZXJ2aWNlcz86IFNlcnZpY2VPdmVycmlkZXM7XG4gIGN1c3RvbT86IEN1c3RvbVNlcnZpY2VPdmVycmlkZXM7XG59XG5cbi8qKlxuICogU2VydmljZSBjb250YWluZXIgY29uZmlndXJhdGlvblxuICpcbiAqIEBpbnRlcmZhY2UgU2VydmljZUNvbnRhaW5lckNvbmZpZ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2VydmljZSBjb250YWluZXIgYmVoYXZpb3IuXG4gKiBDb250cm9scyBjYWNoaW5nLCB2YWxpZGF0aW9uLCBhbmQgZGVidWdnaW5nIGZlYXR1cmVzLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZVNpbmdsZXRvbnM9dHJ1ZV0gLSBDYWNoZSBzZXJ2aWNlIGluc3RhbmNlcyAoc2luZ2xldG9uIHBhdHRlcm4pXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2YWxpZGF0ZUtleXM9dHJ1ZV0gLSBWYWxpZGF0ZSBrZXlzIHRvIHByZXZlbnQgZHVwbGljYXRlIHJlZ2lzdHJhdGlvblxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gW2xvZ2dlcl0gLSBPcHRpb25hbCBsb2dnZXIgZm9yIGRlYnVnZ2luZyBzZXJ2aWNlIHJlc29sdXRpb25cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgY29uZmlnOiBTZXJ2aWNlQ29udGFpbmVyQ29uZmlnID0ge1xuICogICB1c2VTaW5nbGV0b25zOiB0cnVlLFxuICogICB2YWxpZGF0ZUtleXM6IHRydWUsXG4gKiAgIGxvZ2dlcjogKG1zZykgPT4gY29uc29sZS5sb2coYFtDb250YWluZXJdICR7bXNnfWApXG4gKiB9O1xuICpcbiAqIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBTZXJ2aWNlQ29udGFpbmVyKGNvbmZpZyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXJ2aWNlQ29udGFpbmVyQ29uZmlnIHtcbiAgLy8gV2hldGhlciB0byB1c2Ugc2luZ2xldG9uIHBhdHRlcm4gKG9uZSBpbnN0YW5jZSBwZXIga2V5KVxuICB1c2VTaW5nbGV0b25zPzogYm9vbGVhbjtcblxuICAvLyBXaGV0aGVyIHRvIHZhbGlkYXRlIHNlcnZpY2Uga2V5c1xuICB2YWxpZGF0ZUtleXM/OiBib29sZWFuO1xuXG4gIC8vIExvZ2dlciBmdW5jdGlvbiBmb3IgZGVidWdnaW5nXG4gIGxvZ2dlcj86IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSByZXF1ZXN0ZWQgc2VydmljZSBpcyBub3QgZm91bmRcbiAqXG4gKiBAY2xhc3MgU2VydmljZU5vdEZvdW5kRXJyb3JcbiAqIEBleHRlbmRzIHtFcnJvcn1cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRocm93biB3aGVuIGF0dGVtcHRpbmcgdG8gcmVzb2x2ZSBhIHNlcnZpY2UgdGhhdCBoYXNuJ3QgYmVlbiByZWdpc3RlcmVkLlxuICogSW5jbHVkZXMgdGhlIHJlcXVlc3RlZCBrZXkgaW4gdGhlIGVycm9yIG1lc3NhZ2UgZm9yIGRlYnVnZ2luZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogdHJ5IHtcbiAqICAgY29udGFpbmVyLnJlc29sdmUoJ3Vua25vd24uc2VydmljZScpO1xuICogfSBjYXRjaCAoZXJyb3IpIHtcbiAqICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU2VydmljZU5vdEZvdW5kRXJyb3IpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKCdTZXJ2aWNlIG5vdCByZWdpc3RlcmVkOicsIGVycm9yLm1lc3NhZ2UpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFNlcnZpY2VOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihrZXk6IHN0cmluZykge1xuICAgIHN1cGVyKGBTZXJ2aWNlIG5vdCBmb3VuZCBmb3Iga2V5OiAke2tleX1gKTtcbiAgICB0aGlzLm5hbWUgPSBcIlNlcnZpY2VOb3RGb3VuZEVycm9yXCI7XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBhdHRlbXB0aW5nIHRvIHJlZ2lzdGVyIGEgZHVwbGljYXRlIHNlcnZpY2VcbiAqXG4gKiBAY2xhc3MgU2VydmljZUFscmVhZHlSZWdpc3RlcmVkRXJyb3JcbiAqIEBleHRlbmRzIHtFcnJvcn1cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRocm93biB3aGVuIHRyeWluZyB0byByZWdpc3RlciBhIHNlcnZpY2Ugd2l0aCBhIGtleSB0aGF0J3MgYWxyZWFkeVxuICogaW4gdXNlLiBPbmx5IHRocm93biB3aGVuIHZhbGlkYXRlS2V5cyBpcyBlbmFibGVkIGluIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnRhaW5lci5yZWdpc3RlcignbXkuc2VydmljZScsIGZhY3RvcnkxKTtcbiAqIHRyeSB7XG4gKiAgIGNvbnRhaW5lci5yZWdpc3RlcignbXkuc2VydmljZScsIGZhY3RvcnkyKTsgLy8gVGhyb3dzXG4gKiB9IGNhdGNoIChlcnJvcikge1xuICogICBjb25zb2xlLmVycm9yKCdEdXBsaWNhdGUgcmVnaXN0cmF0aW9uOicsIGVycm9yLm1lc3NhZ2UpO1xuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJ2aWNlQWxyZWFkeVJlZ2lzdGVyZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3Ioa2V5OiBzdHJpbmcpIHtcbiAgICBzdXBlcihgU2VydmljZSBhbHJlYWR5IHJlZ2lzdGVyZWQgZm9yIGtleTogJHtrZXl9YCk7XG4gICAgdGhpcy5uYW1lID0gXCJTZXJ2aWNlQWxyZWFkeVJlZ2lzdGVyZWRFcnJvclwiO1xuICB9XG59XG5cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGFyZSBkZXRlY3RlZFxuICpcbiAqIEBjbGFzcyBDaXJjdWxhckRlcGVuZGVuY3lFcnJvclxuICogQGV4dGVuZHMge0Vycm9yfVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhyb3duIHdoZW4gc2VydmljZSByZXNvbHV0aW9uIGVuY291bnRlcnMgYSBjaXJjdWxhciBkZXBlbmRlbmN5IGNoYWluLlxuICogVGhlIGVycm9yIG1lc3NhZ2UgaW5jbHVkZXMgdGhlIGNvbXBsZXRlIGRlcGVuZGVuY3kgY2hhaW4gZm9yIGRlYnVnZ2luZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gU2VydmljZSBBIGRlcGVuZHMgb24gQiwgQiBkZXBlbmRzIG9uIEFcbiAqIGNvbnRhaW5lci5yZWdpc3RlcignYScsIChjKSA9PiBuZXcgQShjLnJlc29sdmUoJ2InKSkpO1xuICogY29udGFpbmVyLnJlZ2lzdGVyKCdiJywgKGMpID0+IG5ldyBCKGMucmVzb2x2ZSgnYScpKSk7XG4gKlxuICogdHJ5IHtcbiAqICAgY29udGFpbmVyLnJlc29sdmUoJ2EnKTsgLy8gVGhyb3dzIENpcmN1bGFyRGVwZW5kZW5jeUVycm9yXG4gKiB9IGNhdGNoIChlcnJvcikge1xuICogICBjb25zb2xlLmVycm9yKCdDaXJjdWxhciBkZXBlbmRlbmN5OicsIGVycm9yLm1lc3NhZ2UpO1xuICogICAvLyBcIkNpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0ZWQ6IGEgLT4gYiAtPiBhXCJcbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQ2lyY3VsYXJEZXBlbmRlbmN5RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGNoYWluOiBzdHJpbmdbXSkge1xuICAgIHN1cGVyKGBDaXJjdWxhciBkZXBlbmRlbmN5IGRldGVjdGVkOiAke2NoYWluLmpvaW4oXCIgLT4gXCIpfWApO1xuICAgIHRoaXMubmFtZSA9IFwiQ2lyY3VsYXJEZXBlbmRlbmN5RXJyb3JcIjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNpcmN1bGFyRGVwZW5kZW5jeUVycm9yIiwiU2VydmljZUFscmVhZHlSZWdpc3RlcmVkRXJyb3IiLCJTZXJ2aWNlTm90Rm91bmRFcnJvciIsIkVycm9yIiwia2V5IiwibmFtZSIsImNoYWluIiwiam9pbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBNkJDOzs7Ozs7Ozs7OztRQXdZWUE7ZUFBQUE7O1FBL0JBQztlQUFBQTs7UUEzQkFDO2VBQUFBOzs7QUFBTixNQUFNQSw2QkFBNkJDO0lBQ3hDLFlBQVlDLEdBQVcsQ0FBRTtRQUN2QixLQUFLLENBQUMsQ0FBQywyQkFBMkIsRUFBRUEsS0FBSztRQUN6QyxJQUFJLENBQUNDLElBQUksR0FBRztJQUNkO0FBQ0Y7QUFzQk8sTUFBTUosc0NBQXNDRTtJQUNqRCxZQUFZQyxHQUFXLENBQUU7UUFDdkIsS0FBSyxDQUFDLENBQUMsb0NBQW9DLEVBQUVBLEtBQUs7UUFDbEQsSUFBSSxDQUFDQyxJQUFJLEdBQUc7SUFDZDtBQUNGO0FBMEJPLE1BQU1MLGdDQUFnQ0c7SUFDM0MsWUFBWUcsS0FBZSxDQUFFO1FBQzNCLEtBQUssQ0FBQyxDQUFDLDhCQUE4QixFQUFFQSxNQUFNQyxJQUFJLENBQUMsU0FBUztRQUMzRCxJQUFJLENBQUNGLElBQUksR0FBRztJQUNkO0FBQ0YifQ==